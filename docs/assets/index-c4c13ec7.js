(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))s(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&s(a)}).observe(document,{childList:!0,subtree:!0});function r(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerpolicy&&(i.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?i.credentials="include":n.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(n){if(n.ep)return;n.ep=!0;const i=r(n);fetch(n.href,i)}})();function Ce(){}const Gn=e=>e;function Ma(e,t){for(const r in t)e[r]=t[r];return e}function Ba(e){return!!e&&(typeof e=="object"||typeof e=="function")&&typeof e.then=="function"}function Di(e){return e()}function Ws(){return Object.create(null)}function ze(e){e.forEach(Di)}function Zt(e){return typeof e=="function"}function yt(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}let Jr;function st(e,t){return Jr||(Jr=document.createElement("a")),Jr.href=t,e===Jr.href}function La(e){return Object.keys(e).length===0}function Va(e,...t){if(e==null)return Ce;const r=e.subscribe(...t);return r.unsubscribe?()=>r.unsubscribe():r}function bn(e,t,r){e.$$.on_destroy.push(Va(t,r))}function zi(e,t,r,s){if(e){const n=ji(e,t,r,s);return e[0](n)}}function ji(e,t,r,s){return e[1]&&s?Ma(r.ctx.slice(),e[1](s(t))):r.ctx}function Fi(e,t,r,s){if(e[2]&&s){const n=e[2](s(r));if(t.dirty===void 0)return n;if(typeof n=="object"){const i=[],a=Math.max(t.dirty.length,n.length);for(let o=0;o<a;o+=1)i[o]=t.dirty[o]|n[o];return i}return t.dirty|n}return t.dirty}function Ui(e,t,r,s,n,i){if(n){const a=ji(t,r,s,i);e.p(a,n)}}function Mi(e){if(e.ctx.length>32){const t=[],r=e.ctx.length/32;for(let s=0;s<r;s++)t[s]=-1;return t}return-1}function dt(e){return e??""}function tt(e){return e&&Zt(e.destroy)?e.destroy:Ce}const Bi=typeof window<"u";let Li=Bi?()=>window.performance.now():()=>Date.now(),Jn=Bi?e=>requestAnimationFrame(e):Ce;const _r=new Set;function Vi(e){_r.forEach(t=>{t.c(e)||(_r.delete(t),t.f())}),_r.size!==0&&Jn(Vi)}function xi(e){let t;return _r.size===0&&Jn(Vi),{promise:new Promise(r=>{_r.add(t={c:e,f:r})}),abort(){_r.delete(t)}}}function oe(e,t){e.appendChild(t)}function Ki(e){if(!e)return document;const t=e.getRootNode?e.getRootNode():e.ownerDocument;return t&&t.host?t:e.ownerDocument}function xa(e){const t=ce("style");return Ka(Ki(e),t),t.sheet}function Ka(e,t){return oe(e.head||e,t),t.sheet}function ve(e,t,r){e.insertBefore(t,r||null)}function me(e){e.parentNode&&e.parentNode.removeChild(e)}function wn(e,t){for(let r=0;r<e.length;r+=1)e[r]&&e[r].d(t)}function ce(e){return document.createElement(e)}function lt(e){return document.createTextNode(e)}function Ae(){return lt(" ")}function $n(){return lt("")}function be(e,t,r,s){return e.addEventListener(t,r,s),()=>e.removeEventListener(t,r,s)}function L(e,t,r){r==null?e.removeAttribute(t):e.getAttribute(t)!==r&&e.setAttribute(t,r)}function qa(e){return Array.from(e.childNodes)}function Ft(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function xt(e,t){e.value=t??""}function vt(e,t,r,s){r===null?e.style.removeProperty(t):e.style.setProperty(t,r,s?"important":"")}function Zs(e,t){for(let r=0;r<e.options.length;r+=1){const s=e.options[r];if(s.__value===t){s.selected=!0;return}}e.selectedIndex=-1}function Ha(e){const t=e.querySelector(":checked")||e.options[0];return t&&t.__value}function Wa(e,t,{bubbles:r=!1,cancelable:s=!1}={}){const n=document.createEvent("CustomEvent");return n.initCustomEvent(e,r,s,t),n}const un=new Map;let fn=0;function Za(e){let t=5381,r=e.length;for(;r--;)t=(t<<5)-t^e.charCodeAt(r);return t>>>0}function Ga(e,t){const r={stylesheet:xa(t),rules:{}};return un.set(e,r),r}function Fn(e,t,r,s,n,i,a,o=0){const c=16.666/s;let l=`{
`;for(let m=0;m<=1;m+=c){const d=t+(r-t)*i(m);l+=m*100+`%{${a(d,1-d)}}
`}const p=l+`100% {${a(r,1-r)}}
}`,h=`__svelte_${Za(p)}_${o}`,b=Ki(e),{stylesheet:u,rules:_}=un.get(b)||Ga(b,e);_[h]||(_[h]=!0,u.insertRule(`@keyframes ${h} ${p}`,u.cssRules.length));const f=e.style.animation||"";return e.style.animation=`${f?`${f}, `:""}${h} ${s}ms linear ${n}ms 1 both`,fn+=1,h}function Un(e,t){const r=(e.style.animation||"").split(", "),s=r.filter(t?i=>i.indexOf(t)<0:i=>i.indexOf("__svelte")===-1),n=r.length-s.length;n&&(e.style.animation=s.join(", "),fn-=n,fn||Ja())}function Ja(){Jn(()=>{fn||(un.forEach(e=>{const{ownerNode:t}=e.stylesheet;t&&me(t)}),un.clear())})}let Ur;function Tt(e){Ur=e}function Ya(){if(!Ur)throw new Error("Function called outside component initialization");return Ur}const hr=[],Et=[],nn=[],Mn=[],Qa=Promise.resolve();let Bn=!1;function Xa(){Bn||(Bn=!0,Qa.then(Yn))}function ht(e){nn.push(e)}function qt(e){Mn.push(e)}const Rn=new Set;let cr=0;function Yn(){if(cr!==0)return;const e=Ur;do{try{for(;cr<hr.length;){const t=hr[cr];cr++,Tt(t),eo(t.$$)}}catch(t){throw hr.length=0,cr=0,t}for(Tt(null),hr.length=0,cr=0;Et.length;)Et.pop()();for(let t=0;t<nn.length;t+=1){const r=nn[t];Rn.has(r)||(Rn.add(r),r())}nn.length=0}while(hr.length);for(;Mn.length;)Mn.pop()();Bn=!1,Rn.clear(),Tt(e)}function eo(e){if(e.fragment!==null){e.update(),ze(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(ht)}}let Sr;function qi(){return Sr||(Sr=Promise.resolve(),Sr.then(()=>{Sr=null})),Sr}function Rr(e,t,r){e.dispatchEvent(Wa(`${t?"intro":"outro"}${r}`))}const sn=new Set;let Dt;function St(){Dt={r:0,c:[],p:Dt}}function Ct(){Dt.r||ze(Dt.c),Dt=Dt.p}function ye(e,t){e&&e.i&&(sn.delete(e),e.i(t))}function Se(e,t,r,s){if(e&&e.o){if(sn.has(e))return;sn.add(e),Dt.c.push(()=>{sn.delete(e),s&&(r&&e.d(1),s())}),e.o(t)}else s&&s()}const Hi={duration:0};function Ln(e,t,r){const s={direction:"in"};let n=t(e,r,s),i=!1,a,o,c=0;function l(){a&&Un(e,a)}function p(){const{delay:b=0,duration:u=300,easing:_=Gn,tick:f=Ce,css:m}=n||Hi;m&&(a=Fn(e,0,1,u,b,_,m,c++)),f(0,1);const d=Li()+b,v=d+u;o&&o.abort(),i=!0,ht(()=>Rr(e,!0,"start")),o=xi(w=>{if(i){if(w>=v)return f(1,0),Rr(e,!0,"end"),l(),i=!1;if(w>=d){const k=_((w-d)/u);f(k,1-k)}}return i})}let h=!1;return{start(){h||(h=!0,Un(e),Zt(n)?(n=n(s),qi().then(p)):p())},invalidate(){h=!1},end(){i&&(l(),i=!1)}}}function vr(e,t,r,s){const n={direction:"both"};let i=t(e,r,n),a=s?0:1,o=null,c=null,l=null;function p(){l&&Un(e,l)}function h(u,_){const f=u.b-a;return _*=Math.abs(f),{a,b:u.b,d:f,duration:_,start:u.start,end:u.start+_,group:u.group}}function b(u){const{delay:_=0,duration:f=300,easing:m=Gn,tick:d=Ce,css:v}=i||Hi,w={start:Li()+_,b:u};u||(w.group=Dt,Dt.r+=1),o||c?c=w:(v&&(p(),l=Fn(e,a,u,f,_,m,v)),u&&d(0,1),o=h(w,f),ht(()=>Rr(e,u,"start")),xi(k=>{if(c&&k>c.start&&(o=h(c,f),c=null,Rr(e,o.b,"start"),v&&(p(),l=Fn(e,a,o.b,o.duration,0,m,i.css))),o){if(k>=o.end)d(a=o.b,1-a),Rr(e,o.b,"end"),c||(o.b?p():--o.group.r||ze(o.group.c)),o=null;else if(k>=o.start){const E=k-o.start;a=o.a+o.d*m(E/o.duration),d(a,1-a)}}return!!(o||c)}))}return{run(u){Zt(i)?qi().then(()=>{i=i(n),b(u)}):b(u)},end(){p(),o=c=null}}}function Wi(e,t){const r=t.token={};function s(n,i,a,o){if(t.token!==r)return;t.resolved=o;let c=t.ctx;a!==void 0&&(c=c.slice(),c[a]=o);const l=n&&(t.current=n)(c);let p=!1;t.block&&(t.blocks?t.blocks.forEach((h,b)=>{b!==i&&h&&(St(),Se(h,1,1,()=>{t.blocks[b]===h&&(t.blocks[b]=null)}),Ct())}):t.block.d(1),l.c(),ye(l,1),l.m(t.mount(),t.anchor),p=!0),t.block=l,t.blocks&&(t.blocks[i]=l),p&&Yn()}if(Ba(e)){const n=Ya();if(e.then(i=>{Tt(n),s(t.then,1,t.value,i),Tt(null)},i=>{if(Tt(n),s(t.catch,2,t.error,i),Tt(null),!t.hasCatch)throw i}),t.current!==t.pending)return s(t.pending,0),!0}else{if(t.current!==t.then)return s(t.then,1,t.value,e),!0;t.resolved=e}}function Zi(e,t,r){const s=t.slice(),{resolved:n}=e;e.current===e.then&&(s[e.value]=n),e.current===e.catch&&(s[e.error]=n),e.block.p(s,r)}function Ht(e,t,r){const s=e.$$.props[t];s!==void 0&&(e.$$.bound[s]=r,r(e.$$.ctx[s]))}function Ye(e){e&&e.c()}function Ze(e,t,r,s){const{fragment:n,after_update:i}=e.$$;n&&n.m(t,r),s||ht(()=>{const a=e.$$.on_mount.map(Di).filter(Zt);e.$$.on_destroy?e.$$.on_destroy.push(...a):ze(a),e.$$.on_mount=[]}),i.forEach(ht)}function Ge(e,t){const r=e.$$;r.fragment!==null&&(ze(r.on_destroy),r.fragment&&r.fragment.d(t),r.on_destroy=r.fragment=null,r.ctx=[])}function to(e,t){e.$$.dirty[0]===-1&&(hr.push(e),Xa(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function It(e,t,r,s,n,i,a,o=[-1]){const c=Ur;Tt(e);const l=e.$$={fragment:null,ctx:[],props:i,update:Ce,not_equal:n,bound:Ws(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(c?c.$$.context:[])),callbacks:Ws(),dirty:o,skip_bound:!1,root:t.target||c.$$.root};a&&a(l.root);let p=!1;if(l.ctx=r?r(e,t.props||{},(h,b,...u)=>{const _=u.length?u[0]:b;return l.ctx&&n(l.ctx[h],l.ctx[h]=_)&&(!l.skip_bound&&l.bound[h]&&l.bound[h](_),p&&to(e,h)),b}):[],l.update(),p=!0,ze(l.before_update),l.fragment=s?s(l.ctx):!1,t.target){if(t.hydrate){const h=qa(t.target);l.fragment&&l.fragment.l(h),h.forEach(me)}else l.fragment&&l.fragment.c();t.intro&&ye(e.$$.fragment),Ze(e,t.target,t.anchor,t.customElement),Yn()}Tt(c)}class Pt{$destroy(){Ge(this,1),this.$destroy=Ce}$on(t,r){if(!Zt(r))return Ce;const s=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return s.push(r),()=>{const n=s.indexOf(r);n!==-1&&s.splice(n,1)}}$set(t){this.$$set&&!La(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const ro=(e,t)=>{const{src:r,hover:s}=t,n=()=>{e.src=s},i=()=>{e.src=r};i(),e.addEventListener("mouseenter",n),e.addEventListener("mouseleave",i)},Gt=(e,{width:t="1px",color:r="white"}={width:"1px",color:"white"})=>{const s=()=>{e.style.border=`${t} solid ${r}`},n=()=>{e.style.border=`${t} solid transparent`};return e.addEventListener("mouseenter",s),e.addEventListener("mouseleave",n),n(),{destroy(){e.removeEventListener("mouseenter",s),e.removeEventListener("mouseleave",n)}}},no=(e,t)=>{e.src="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==",setTimeout(()=>{e.src=t},1)},Mr=(e,t)=>{const{accept:r,cb:s}=t;e.addEventListener("click",()=>{const n=document.createElement("input");n.type="file",n.accept=r,n.addEventListener("change",()=>{s(n.files)}),n.click()})},ur=[];function Gi(e,t=Ce){let r;const s=new Set;function n(o){if(yt(e,o)&&(e=o,r)){const c=!ur.length;for(const l of s)l[1](),ur.push(l,e);if(c){for(let l=0;l<ur.length;l+=2)ur[l][0](ur[l+1]);ur.length=0}}}function i(o){n(o(e))}function a(o,c=Ce){const l=[o,c];return s.add(l),s.size===1&&(r=t(n)||Ce),o(e),()=>{s.delete(l),s.size===0&&(r(),r=null)}}return{set:n,update:i,subscribe:a}}const dn=Gi(12),mr=Gi([]);function Gs(e,t,r){const s=e.slice();return s[5]=t[r],s[6]=t,s[7]=r,s}function Js(e){let t,r,s;function n(){return e[3](e[5])}function i(o){e[4](o,e[5],e[6],e[7])}let a={id:e[7],onRemove:n};return e[5]!==void 0&&(a.song=e[5]),t=new ed({props:a}),Et.push(()=>Ht(t,"song",i)),{c(){Ye(t.$$.fragment)},m(o,c){Ze(t,o,c),s=!0},p(o,c){e=o;const l={};c&1&&(l.onRemove=n),!r&&c&1&&(r=!0,l.song=e[5],qt(()=>r=!1)),t.$set(l)},i(o){s||(ye(t.$$.fragment,o),s=!0)},o(o){Se(t.$$.fragment,o),s=!1},d(o){Ge(t,o)}}}function so(e){let t,r,s,n,i,a,o,c,l,p=e[0],h=[];for(let u=0;u<p.length;u+=1)h[u]=Js(Gs(e,p,u));const b=u=>Se(h[u],1,1,()=>{h[u]=null});return{c(){t=ce("div"),r=ce("div");for(let u=0;u<h.length;u+=1)h[u].c();s=Ae(),n=ce("hr"),i=Ae(),a=ce("div"),a.innerHTML='<h1 class="noselect svelte-15f98v0">+</h1>',L(r,"id","songscontainer"),L(n,"class","hidden"),L(a,"id","addsongsbtn"),L(a,"class","svelte-15f98v0"),L(t,"id","content"),L(t,"class","svelte-15f98v0")},m(u,_){ve(u,t,_),oe(t,r);for(let f=0;f<h.length;f+=1)h[f].m(r,null);oe(t,s),oe(t,n),oe(t,i),oe(t,a),o=!0,c||(l=[tt(Mr.call(null,a,{accept:"audio/*",cb:e[1]})),be(a,"keydown",null)],c=!0)},p(u,[_]){if(_&5){p=u[0];let f;for(f=0;f<p.length;f+=1){const m=Gs(u,p,f);h[f]?(h[f].p(m,_),ye(h[f],1)):(h[f]=Js(m),h[f].c(),ye(h[f],1),h[f].m(r,null))}for(St(),f=p.length;f<h.length;f+=1)b(f);Ct()}},i(u){if(!o){for(let _=0;_<p.length;_+=1)ye(h[_]);o=!0}},o(u){h=h.filter(Boolean);for(let _=0;_<h.length;_+=1)Se(h[_]);o=!1},d(u){u&&me(t),wn(h,u),c=!1,ze(l)}}}function io(e,t,r){let s;bn(e,mr,c=>r(0,s=c));const n=c=>{if(!c||c.length===0)return;const l=[];for(let p=0;p<c.length;p++)l.push({uploadedFile:c[p],name:"Disc Name",author:"Disc Author",lores:`This is the lore of the disc

You can have multiple lines

If you don't want any lores you can leave this empty`,texture:null,isMono:!0,normalize:!1,creeperDrop:!0,lootTables:[],monoFile:null,namespace:"",oggFile:null,fragmentLootTables:[]});mr.update(p=>p=[...p,...l])},i=c=>mr.update(l=>l=l.filter(p=>p!=c)),a=c=>i(c);function o(c,l,p,h){p[h]=c,mr.set(s)}return[s,n,i,a,o]}class ao extends Pt{constructor(t){super(),It(this,t,io,so,yt,{})}}const oo="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAMCAYAAABm+U3GAAAAAXNSR0IArs4c6QAAAF5JREFUOI2tksECwCAIQmH//890aTvUTKw8GrxIoyQBAEniQr28Z2zcgAIAp8Zm8pHB6OAE+iU+gUeeyVyBr7S/RgeeacJEK6Nzcfmp7qjSBUX/O5t/efMOtFTq5eob3NNX+dvBeeAAAAAASUVORK5CYII=",Ys="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAZCAYAAADE6YVjAAAAAXNSR0IArs4c6QAAAIRJREFUSIntlEsOgDAIRMF4/yvjRk1Fygy6MZHZKZ/XgaYira9JK8lmZmehqo7/ju9IyxNANU5Bsgajg1kehCAHDCiFMCOKduLr1krTDKa7yk6QmH28hrBqiIjEL0Cky+3yiext80/MLY4aTAuTA/kYHFc2BgZAQRCI2Qu9eOSIcdz6mTar61wTcDDk9gAAAABJRU5ErkJggg==",Qs="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAZCAYAAADE6YVjAAAAAXNSR0IArs4c6QAAAIpJREFUSIntlEsOwCAIRKHpQT3a3LSuTCxBGNpNkzorP+hzwCCy9TVpJbi1do0xAJ3XxtzT8QRQ3acg0QWzg1VcCskcMKAQwqTIq4k9d1YujWAAFICWnWRi6vEawmpDRMTvAJ5uv8sGsr/NthirtHetDkYPsntpuqI0MAAKkoGYutCFzxwxjrd+pg6/w1SfCm+xxQAAAABJRU5ErkJggg==",lo="/jext-reborn/assets/chest-dc4b25ff.png",co="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAYAAADED76LAAAFxnpUWHRSYXcgcHJvZmlsZSB0eXBlIGV4aWYAAHjarVdZkuQoDP3nFHMEkBDLcVgj5gZz/Hkshsyq6umqjrHDNinL4klPSKRq//zd1V84iLxWVnxw0TmNw0YbKWEQ9DrivBtt530dzzvzLlfnBUHEePL66dPWT5DL/eDYye9yFfYbCtuQOYbnwWPmMa6vICGnJTd2G4ptDVwM/hVq3oaKfXFpX/a6N4/xW70JPKJUBRMxUWPDet7DQsDjIk5DjrvmAD0zJcxR4SFstjEE5M2956nfAv0e/D1SH6N/Rh+CT2nL+UMs3cOa+/qFkQ9yPtPQ68R8ENH7i+S1/+TOvnqvofe2vEvWIaJuZ9QM9hOhoZgRcp6fOZwel2Ds5xlxBp10AeVVF51xFhMNIfpdGWuqSaabNp/FFEC01MjjSVSIpyywp0iFB092nKaT58iVA3gr1BSos0wHi5nzxjlfMQEzVwNVMjBmJv2/ONV/vfzJqXovI0RGhxMr4KKR14AxmBt3aIEQ0zdvMgP8nJt+/ZI/SFUwKDPMAQ4mnZeJLObmFk+eGXqC51pCRvm6DSBEmFsAxjAY0M6wGGe0R7UxBnEMICgBObGlDAaMCFWAJMvsSHnCksHc+MabqUtCjoYYtQlECDv24CZyAlnWCvLH24AcSsJiRcSJl6AkSnLsrBPnnHejyCXP3nrxznsffPQpcLBBggs+hBBDihQZNVCiiz6GGGNKpBImSrCVoJ8gyZQ52yzZZZ9DjjkVpE+xRYorvoQSS6pUuaJMVFd9DTXW1IxqqBTNNmmu+RZabKkj1zp326W77nvosafD2mb10/kD1sxmjSZTQ88f1iBV3j8mzCgnMjgDY2QNGPeDASQ0Dc50MNbSYG5wpiNhUQgBpAxuVDWDMVBomyHp5nB3mfsWb0rCt3ij3zGnBnX/B3MK1H3m7QvW6uhzZTK2VuGIqWasvtYpII8CcgCoxzhAt1MbA8rNlx6dnj+CRjWaCi1xpSNMfenWwFXJJ93C6IWPULcp7LFxOVKK1VgBWwjwGFhtirJLVukKW5wDgasvQqlTOIB2KksDraLJ+l5Zn+wj9dKXckbrT590A/YDR2gWgM7FhyFVUyw8QaeSj08hLv+TzdejZbE45P2DtC437Sj+zySy9AJK9aOW84JoY3UHNwrSFuZrT5UFsblYrkm7TOZYjy/ex/V51bH1GzraYlWw2PmqO79GckBFWZEfLflE7WHosqFMCY/UtTv9Rh+TN9fkIdMeWd1MdGXJ52sgPnJyvkR9uc+HzkyPttTNB5JNq4elWnY+Wg7hyfOm0xxlc4Pil/MS85kHpX3S75I7CeaRmWtyZEq4SOPvkKpfQf0pUvUrqN9EWh6kClDDDYD1G6pDITrqei+zRK/rCcK9+krsrG4W6pXrCMHjVvN515RoO3Zgp3xscSiNH6Hi2pe/KE/IzCcKZetGxOMYKGEXFVe6P6rNpFXYurXdnjgOs7sERW7uyIuZ5mI83KCg7EBUikjIm42y5SaWu0JzX+FEpjZ36HBrshbYbrxKP+6UcIODLrAToR4PUM/c4pxPBTbrJa7h2vbItqfS5vsx2WWxoIDlT7W6JC79IpL1GULV2q3VP4WpvsT5BzDVlzjRUh6idXe3V/FOCvyJOUI0xenaaFX5YmBZqlm38lj9+OS8e18pFxJiVJPbGWnRZ85ET/IlwpRn/rRThEy56zDWatTIkYhefqRmtyQx9UU11aclnWR6f6pRLp+ccygwdwHXp9ySjzdBn2VdDWa8FSitCpmxk7orqm7qbXMv69ftPk9c5YvoqS/D+Sm8WP7P3sJ2NKlHblZ4W2aVbn5I2hlXXjLzu/jUN/B8C596B3jxtbyTYmwuT/fvi7xsbrPunGRuIqRlbNKu3MpSLhYbplM29lKpnG7yYqO+F2S5q7+Vrepem0XbHYT5brKWV0mHd5jqS5x/AFN9ifOnMLl3VSP+R/wLwQRCBdriyuEAAAGFaUNDUElDQyBwcm9maWxlAAB4nH2RPUjDUBSFT1ulpVQc2kHEIUPVxYKoiKNWoQgVQq3QqoPJS/+gSUOS4uIouBYc/FmsOrg46+rgKgiCPyCOTk6KLlLifUmhRYwPLu/jvHcO990H+JtVppo944CqWUYmlRRy+VUh+IowQlSjiErM1OdEMQ3P9XUPH9/vEjzL+96fq08pmAzwCcSzTDcs4g3i6U1L57xPHGNlSSE+Jx4zqEHiR67LLr9xLjns55kxI5uZJ44RC6UulruYlQ2VeIo4rqga5ftzLiuctzir1Tpr98lfGCloK8tcpxpCCotYgggBMuqooAoLCdo1Ukxk6Dzp4R90/CK5ZHJVwMixgBpUSI4f/A9+z9YsTk64SZEk0Pti2x/DQHAXaDVs+/vYtlsnQOAZuNI6/loTmPkkvdHR4kdA/zZwcd3R5D3gcgcYeNIlQ3KkAJW/WATez+ib8kD0FgivuXNrn+P0AcjSrNI3wMEhMFKi7HWPd4e65/bvnfb8fgBGIXKVL4xNQwAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB+YKCAonM+tPNNQAAAELSURBVBjTNcE9SAJhAIDh9w5L+gSRMDUlIeiHhhAuTAocg6CWNgfnoKGIppaWyCgaAt1CCCvhIBCqrSCEIi4olKvxKjuzHBpEkA6PsKnnkfKPh50VY5UpobDgTRJ1RbkQR1iNNuVbA2ksM9KZVCYwmy+M90Z41aoMzfXRqlgs+zaQw4qH4v41PzmbYfcoLqebwtoVT1kDIQRyV7eTTltCU0s8W/c0glXM8zpvZpVscw9H3DlD/1KQyG6MnfVtpF+ZG71I6jLFp1zDESKAVnngJHfMx9k3AMmeBLObcRL2InLYM4hPBNDUEv/eT+tYNZv0XRo53zogFBf4p71k9C0KZZWBeR+G/oU/JvgD3DRc8fJrLSwAAAAASUVORK5CYII=",Ji="/jext-reborn/assets/default_disc-59365372.png",uo="/jext-reborn/assets/delete_btn_hover-386c7405.png",fo="/jext-reborn/assets/delete_btn-871175bc.png",Qn="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAA0UlEQVR42nWSsQ1CMQxEvQ4rINFR0SOBxAgpaRgA/Q3YhelAF+mi9+/nF1YS2zn7zq7v+/H7tEu31/XYbea7nw6ruM/SRYlM0HtZluEzIO+KycporsI3qzGHeSW01tpwsJukkl0MAAcV0GdyJ6AKpa/cVlZyq9SG9yFicpR4TKDipOmzMjnH525m/g6QTp5uOT8zNt2D5J68SaVyPORsYPtJxVrVjBcraHSkwDH3TUxnguyZu1pRkD1v541wpjHb0MokKkz+WWgDkDtgkfbm7wJ/9oUoq3qXqFkAAAAASUVORK5CYII=",ho="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAYAAADgkQYQAAAAAXNSR0IArs4c6QAAAFJJREFUGJWNjsENwDAIA6/jZADW8XCswwCMQz9tVZREiiUe4JMNHOgCkFQA7t7u37IAphDMrIDtvCFbUFI9HkvwD7QHzazGGABkJhHR/Aa2ilPdhC8vkoVxguIAAAAASUVORK5CYII=",Yi="/jext-reborn/assets/generate_btn-516338f5.png",po="/jext-reborn/assets/loading-9ab4977f.webp",Xn="/jext-reborn/assets/pack_icon-57c0be34.png",mo="data:text/plain;base64,IyBIb3cgdG8gc2V0dXAgdGhlIHBsdWdpbgoKIyMgT25jZSB5b3UgaGF2ZSBkb3dubG9hZGVkIHRoaXMgZmlsZSBwdXQgdGhlIGRpc2NzLmpzb24gZmlsZSBpbiB0aGUgcm9vdCBvZiBwbHVnaW4gZGlyZWN0b3J5CgpgYGAKU2VydmVyCuKUlOKUgOKUgOKUgC4uLgrilJTilIDilIDilIBwbHVnaW5zCiAgICDilJTilIDilIDilIBKdWtlYm94RXh0ZW5kZWRSZWJvcm4KICAgIOKUgiAgIOKUlOKUgOKUgOKUgGRpc2NzLmpzb24KCeKUggnilJTilIDilIDilIBjb25maWcuanNvbgoJ4pSCCeKUlOKUgOKUgOKUgC4uLgoJ4pSU4pSA4pSA4pSASmV4dC5qYXIKCeKUlOKUgOKUgOKUgC4uLgpgYGAKCiMjIEFzIGZvciB0aGUgcmVzb3VyY2UgcGFjayBmaWxlIHlvdSBjYW4gc2V0IGl0IHVwIGJ5IGVkaXRpbmcgdGhlIHNlcnZlciBjb25maWcgZmlsZQoKRXhhbXBsZSB1cGxvYWQgeW91ciBmaWxlIHRvIGRyb3Bib3guCkdlbmVyYXRlIGEgZG93bmxvYWQgdXJsIGFuZCByZXBsYWNlIHRoZSBkbD0wIGF0IHRoZSBlbmQgb2YgdGhlIHVybCB3aXRoIGEgZGw9MQoKRXhhbXBsZToKb3JpZ2luYWwgdXJsOiBodHRwczovL3d3dy5kcm9wYm94LmNvbS9zL21zaWU3aHVjbnBia2Z5L3Rlc3QuUE5HP2RsPTAKZWRpdGVkICAgdXJsOiBodHRwczovL3d3dy5kcm9wYm94LmNvbS9zL21zaWU3aHVjbnBia2Z5L3Rlc3QuUE5HP2RsPTEKCnRoZW4gaW4gdGhlIHNlcnZlci5wcm9wZXJ0aWVzIGZpbGUgc2V0IHRoZSBzZXJ2ZXItcmVzb3VyY2UtcGFjayB0byB0aGUgZWRpdGVkIHVybAoKIyBZb3VyIHBsdWdpbiBpcyBub3cgcmVhZHkgdG8gZ28sIHJlc3RhcnQgdGhlIHNlcnZlciB0byBzdGFydCB1c2luZyBqZXh0",Qi="data:image/gif;base64,R0lGODdhEAAQAHcAACH/C05FVFNDQVBFMi4wAwEAAAAh+QQJCgAAACwAAAAAEAAQAIAAAAD///8CI4QfccuZDB2MarZq18sIc7B9oGc55PSEaKVSXUlK3Tma7XUXACH5BAkKAAAALAAAAAAQABAAgAAAAP///wIjhB8Zx6jfjGKTrgiSw1hz+zVeKF1kZp4jubIpaKWV+MydbRQAIfkECQoAAAAsAAAAABAAEACAAAAA////AiOEHxnHqN+MYpOuCJLDO1+uaZwjjl5peqm1St+KphU8yy9TAAAh+QQJCgAAACwAAAAAEAAQAIAAAAD///8CI4QfGceo34xik64IksM7X65pnCOOXjlCpsemFxqVcIeA630XACH5BAkKAAAALAAAAAAQABAAgAAAAP///wIihB8Zx6jfjGKTrgiSwztfrmmcI46eaaEdWrKf2YJxBLlRAQAh+QQJCgAAACwAAAAAEAAQAIAAAAD///8CIoQfGceo34xik64IEt56t+5ZoThKVwmGqXquzpdW8ONabgEAIfkECQoAAAAsAAAAABAAEACAAAAA////AiOEbxHIrNoieDLC6hY+dyftPWAlhktnaWjTrdw4oRQrzlLJFAAh+QQJCgAAACwAAAIAEAAOAIAAAAD///8CI4RjmajBep6DcAJL43054r59nSNmU9kw6CJxafWRJkmDoQsUADs=";function Xs(e,t,r){const s=e.slice();return s[6]=t[r],s}function ei(e){let t,r=e[1],s=[];for(let n=0;n<r.length;n+=1)s[n]=ti(Xs(e,r,n));return{c(){t=ce("div");for(let n=0;n<s.length;n+=1)s[n].c();L(t,"id","openmenu"),L(t,"class","svelte-14kdzrj")},m(n,i){ve(n,t,i);for(let a=0;a<s.length;a+=1)s[a].m(t,null)},p(n,i){if(i&18){r=n[1];let a;for(a=0;a<r.length;a+=1){const o=Xs(n,r,a);s[a]?s[a].p(o,i):(s[a]=ti(o),s[a].c(),s[a].m(t,null))}for(;a<s.length;a+=1)s[a].d(1);s.length=r.length}},d(n){n&&me(t),wn(s,n)}}}function ti(e){let t,r=e[6]+"",s,n,i;function a(){return e[5](e[6])}return{c(){t=ce("div"),s=lt(r),L(t,"class","selectopt svelte-14kdzrj")},m(o,c){ve(o,t,c),oe(t,s),n||(i=[be(t,"click",a),be(t,"keydown",null)],n=!0)},p(o,c){e=o,c&2&&r!==(r=e[6]+"")&&Ft(s,r)},d(o){o&&me(t),n=!1,ze(i)}}}function _o(e){let t,r,s,n,i,a,o,c,l,p,h,b,u=e[2]&&ei(e);return{c(){u&&u.c(),t=Ae(),r=ce("div"),s=ce("div"),n=ce("div"),i=lt(e[0]),a=Ae(),o=ce("div"),c=ce("img"),L(n,"id","selectedoption"),L(n,"class","svelte-14kdzrj"),st(c.src,l=oo)||L(c,"src",l),L(c,"alt","ðŸ¢“"),L(c,"id","arrow"),L(c,"class",p=dt(e[2]?"active":"")+" svelte-14kdzrj"),L(o,"id","arrowcontainer"),L(o,"class","svelte-14kdzrj"),L(s,"id","row"),L(s,"class","svelte-14kdzrj"),L(r,"id","container"),L(r,"class","svelte-14kdzrj")},m(_,f){u&&u.m(_,f),ve(_,t,f),ve(_,r,f),oe(r,s),oe(s,n),oe(n,i),oe(s,a),oe(s,o),oe(o,c),h||(b=[be(o,"click",e[3]),be(o,"keydown",null)],h=!0)},p(_,[f]){_[2]?u?u.p(_,f):(u=ei(_),u.c(),u.m(t.parentNode,t)):u&&(u.d(1),u=null),f&1&&Ft(i,_[0]),f&4&&p!==(p=dt(_[2]?"active":"")+" svelte-14kdzrj")&&L(c,"class",p)},i:Ce,o:Ce,d(_){u&&u.d(_),_&&me(t),_&&me(r),h=!1,ze(b)}}}function go(e,t,r){let{options:s}=t,{selected:n=s[0]}=t,i=!1;const a=()=>r(2,i=!i),o=l=>{r(0,n=l),r(2,i=!1)},c=l=>o(l);return e.$$set=l=>{"options"in l&&r(1,s=l.options),"selected"in l&&r(0,n=l.selected)},[n,s,i,a,o,c]}class vo extends Pt{constructor(t){super(),It(this,t,go,_o,yt,{options:1,selected:0})}}function Ut(e,{delay:t=0,duration:r=400,easing:s=Gn}={}){const n=+getComputedStyle(e).opacity;return{delay:t,duration:r,easing:s,css:i=>`opacity: ${i*n}`}}function yo(e){return{c:Ce,m:Ce,p:Ce,d:Ce}}function bo(e){let t,r;return{c(){t=ce("img"),st(t.src,r=e[6])||L(t,"src",r),L(t,"alt",e[1]),L(t,"class","svelte-72nmcc")},m(s,n){ve(s,t,n)},p(s,n){n&2&&L(t,"alt",s[1])},d(s){s&&me(t)}}}function wo(e){let t,r;return{c(){t=ce("img"),st(t.src,r=Qi)||L(t,"src",r),L(t,"alt",e[1]),L(t,"class","svelte-72nmcc")},m(s,n){ve(s,t,n)},p(s,n){n&2&&L(t,"alt",s[1])},d(s){s&&me(t)}}}function $o(e){let t,r,s,n,i,a,o,c,l={ctx:e,current:null,token:null,hasCatch:!1,pending:wo,then:bo,catch:yo,value:6};return Wi(e[3],l),{c(){t=ce("div"),l.block.c(),r=Ae(),s=ce("p"),n=lt(e[1]),L(t,"class",i=dt(e[0]?"selected":"")+" svelte-72nmcc")},m(p,h){ve(p,t,h),l.block.m(t,l.anchor=null),l.mount=()=>t,l.anchor=r,oe(t,r),oe(t,s),oe(s,n),o||(c=[be(t,"click",function(){Zt(e[2])&&e[2].apply(this,arguments)}),be(t,"keydown",null)],o=!0)},p(p,[h]){e=p,Zi(l,e,h),h&2&&Ft(n,e[1]),h&1&&i!==(i=dt(e[0]?"selected":"")+" svelte-72nmcc")&&L(t,"class",i)},i(p){a||ht(()=>{a=Ln(t,Ut,{}),a.start()})},o:Ce,d(p){p&&me(t),l.block.d(),l.token=null,l=null,o=!1,ze(c)}}}function ko(e,t,r){let{value:s=!1}=t,{image:n}=t,{name:i}=t,{onClick:a=()=>{}}=t;const c=(async l=>{const h=await(await fetch(l)).blob();return URL.createObjectURL(h)})(n);return e.$$set=l=>{"value"in l&&r(0,s=l.value),"image"in l&&r(4,n=l.image),"name"in l&&r(1,i=l.name),"onClick"in l&&r(2,a=l.onClick)},[s,i,a,c,n]}class Ao extends Pt{constructor(t){super(),It(this,t,ko,$o,yt,{value:0,image:4,name:1,onClick:2})}}const ri=new Map([[4,"1.14 - 1.14.4"],[5,"1.15 - 1.16.1"],[6,"1.16.2-1.16.5"],[7,"1.17 - 1.17.1"],[8,"1.18 - 1.18.2"],[9,"1.19 - 1.19.2"],[12,"1.19.3"]]),ni=[{source:"chests/ancient_city,chests/ancient_city_ice_box",img:"loottable_icons/Ancient_City.webp",name:"Ancient City",minVersion:9},{source:"chests/bastion_bridge,chests/bastion_hoglin_treasure,chests/bastion_other,chests/bastion_treasure",img:"loottable_icons/Bastion_Remnant.webp",name:"Bastion Remnant",minVersion:5},{source:"chests/desert_pyramid",img:"loottable_icons/Desert_pyramid.webp",name:"Desert Pyramid",minVersion:4},{source:"chests/simple_dungeon",img:"loottable_icons/Dungeon.webp",name:"Dungeon",minVersion:4},{source:"chests/end_city_treasure",img:"loottable_icons/End_City.webp",name:"End City",minVersion:4},{source:"chests/igloo_chest",img:"loottable_icons/Igloo.webp",name:"Igloo",minVersion:4},{source:"chests/jungle_temple",img:"loottable_icons/Jungle_pyramid.webp",name:"Jungle Temple",minVersion:4},{source:"chests/nether_bridge",img:"loottable_icons/Nether_Fortress.webp",name:"Nether Fortress",minVersion:4},{source:"chests/ruined_portal",img:"loottable_icons/Nether_portal.webp",name:"Ruined Portal",minVersion:5},{source:"chests/pillager_outpost",img:"loottable_icons/Pillager_outpost.webp",name:"Pillager Outpost",minVersion:4},{source:"chests/shipwreck_map,chests/shipwreck_supply,chests/shipwreck_treasure",img:"loottable_icons/Shipwreck.webp",name:"Shipwreck",minVersion:4},{source:"chests/stronghold_corridor,chests/stronghold_crossing",img:"loottable_icons/Stronghold.webp",name:"Stronghold",minVersion:4},{source:"chests/underwater_ruin_big,chests/underwater_ruin_small",img:"loottable_icons/Underwater_ruin.webp",name:"Underwater Ruins",minVersion:4},{source:"chests/village/village_plains_house,chests/village/village_savanna_house,chests/village/village_desert_house,chests/village/village_snowy_house,chests/village/village_taiga_house",img:"loottable_icons/Village.webp",name:"Village",minVersion:4},{source:"chests/woodland_mansion",img:"loottable_icons/Woodland_Mansion.webp",name:"Woodland Mansion",minVersion:4},{source:"chests/abandoned_mineshaft",img:"loottable_icons/Mineshaft.webp",name:"Mineshaft",minVersion:4}];function si(e,t,r){const s=e.slice();return s[6]=t[r],s}function ii(e){let t,r,s=`url(${Qn})`,n,i,a;return{c(){t=ce("div"),L(t,"class","popupbackground svelte-1xo6dv0"),vt(t,"background-image",s)},m(o,c){ve(o,t,c),n=!0,i||(a=[be(t,"click",e[4]),be(t,"keydown",null)],i=!0)},p:Ce,i(o){n||(ht(()=>{r||(r=vr(t,Ut,{},!0)),r.run(1)}),n=!0)},o(o){r||(r=vr(t,Ut,{},!1)),r.run(0),n=!1},d(o){o&&me(t),o&&r&&r.end(),i=!1,ze(a)}}}function ai(e){let t,r,s,n,i,a,o,c=ni,l=[];for(let h=0;h<c.length;h+=1)l[h]=li(si(e,c,h));const p=h=>Se(l[h],1,1,()=>{l[h]=null});return{c(){t=ce("div"),r=ce("div");for(let h=0;h<l.length;h+=1)l[h].c();s=Ae(),n=ce("div"),n.innerHTML='<div id="content" class="svelte-1xo6dv0"><p id="generate_text" class="noselect svelte-1xo6dv0">OK</p></div>',L(r,"class","popupcontainer svelte-1xo6dv0"),L(n,"id","messagepopupconfirm"),L(n,"class","popupconfirm svelte-1xo6dv0"),L(t,"class","popup svelte-1xo6dv0")},m(h,b){ve(h,t,b),oe(t,r);for(let u=0;u<l.length;u+=1)l[u].m(r,null);oe(t,s),oe(t,n),i=!0,a||(o=[be(n,"click",e[4]),be(n,"keydown",null)],a=!0)},p(h,b){if(b&13){c=ni;let u;for(u=0;u<c.length;u+=1){const _=si(h,c,u);l[u]?(l[u].p(_,b),ye(l[u],1)):(l[u]=li(_),l[u].c(),ye(l[u],1),l[u].m(r,null))}for(St(),u=c.length;u<l.length;u+=1)p(u);Ct()}},i(h){if(!i){for(let b=0;b<c.length;b+=1)ye(l[b]);i=!0}},o(h){l=l.filter(Boolean);for(let b=0;b<l.length;b+=1)Se(l[b]);i=!1},d(h){h&&me(t),wn(l,h),a=!1,ze(o)}}}function oi(e){let t,r;function s(){return e[5](e[6])}return t=new Ao({props:{image:e[6].img,name:e[6].name,value:e[0].includes(e[6].source),onClick:s}}),{c(){Ye(t.$$.fragment)},m(n,i){Ze(t,n,i),r=!0},p(n,i){e=n;const a={};i&1&&(a.value=e[0].includes(e[6].source)),t.$set(a)},i(n){r||(ye(t.$$.fragment,n),r=!0)},o(n){Se(t.$$.fragment,n),r=!1},d(n){Ge(t,n)}}}function li(e){let t,r,s=e[6].minVersion&&e[6].minVersion<=e[2]&&oi(e);return{c(){s&&s.c(),t=$n()},m(n,i){s&&s.m(n,i),ve(n,t,i),r=!0},p(n,i){n[6].minVersion&&n[6].minVersion<=n[2]?s?(s.p(n,i),i&4&&ye(s,1)):(s=oi(n),s.c(),ye(s,1),s.m(t.parentNode,t)):s&&(St(),Se(s,1,1,()=>{s=null}),Ct())},i(n){r||(ye(s),r=!0)},o(n){Se(s),r=!1},d(n){s&&s.d(n),n&&me(t)}}}function Eo(e){let t,r,s,n=e[1]&&ii(e),i=e[1]&&ai(e);return{c(){n&&n.c(),t=Ae(),i&&i.c(),r=$n()},m(a,o){n&&n.m(a,o),ve(a,t,o),i&&i.m(a,o),ve(a,r,o),s=!0},p(a,[o]){a[1]?n?(n.p(a,o),o&2&&ye(n,1)):(n=ii(a),n.c(),ye(n,1),n.m(t.parentNode,t)):n&&(St(),Se(n,1,1,()=>{n=null}),Ct()),a[1]?i?(i.p(a,o),o&2&&ye(i,1)):(i=ai(a),i.c(),ye(i,1),i.m(r.parentNode,r)):i&&(St(),Se(i,1,1,()=>{i=null}),Ct())},i(a){s||(ye(n),ye(i),s=!0)},o(a){Se(n),Se(i),s=!1},d(a){n&&n.d(a),a&&me(t),i&&i.d(a),a&&me(r)}}}function So(e,t,r){let s;bn(e,dn,l=>r(2,s=l));let{selectedDungeons:n=[]}=t,{active:i=!0}=t;const a=l=>{n.includes(l)?r(0,n=n.filter(p=>p!=l)):r(0,n=[...n,l])},o=()=>r(1,i=!1),c=l=>a(l.source);return e.$$set=l=>{"selectedDungeons"in l&&r(0,n=l.selectedDungeons),"active"in l&&r(1,i=l.active)},[n,i,s,a,o,c]}class Co extends Pt{constructor(t){super(),It(this,t,So,Eo,yt,{selectedDungeons:0,active:1})}}function ci(e,t,r){const s=e.slice();return s[10]=t[r][0],s[11]=t[r][1],s}function Io(e){let t,r,s,n;return{c(){t=ce("img"),st(t.src,r=Xn)||L(t,"src",r),L(t,"alt","pack icon"),L(t,"id","pack_icon"),L(t,"class","noselect svelte-iv83eq")},m(i,a){ve(i,t,a),s||(n=[tt(Gt.call(null,t)),tt(Mr.call(null,t,{accept:"image/png",cb:e[3]})),be(t,"keypress",null)],s=!0)},p:Ce,d(i){i&&me(t),s=!1,ze(n)}}}function ui(e){let t,r=e[11]+"",s;return{c(){t=ce("option"),s=lt(r),t.__value=e[10],t.value=t.__value},m(n,i){ve(n,t,i),oe(t,s)},p:Ce,d(n){n&&me(t)}}}function Po(e){let t,r,s;return{c(){t=ce("input"),L(t,"type","button"),L(t,"name","import"),L(t,"id","pack_import"),t.value="import",L(t,"class","svelte-iv83eq")},m(n,i){ve(n,t,i),r||(s=be(t,"click",e[9]),r=!0)},p:Ce,d(n){n&&me(t),r=!1,s()}}}function Oo(e){let t,r,s,n,i,a,o,c,l,p,h,b,u,_,f;function m(k){e[6](k)}let d={};e[1]!==void 0&&(d.active=e[1]),t=new Nf({props:d}),Et.push(()=>Ht(t,"active",m)),i=new Nt({props:{text:"Sets the resourcepack icon",$$slots:{default:[Io]},$$scope:{ctx:e}}});let v=[...ri],w=[];for(let k=0;k<v.length;k+=1)w[k]=ui(ci(e,v,k));return b=new Nt({props:{text:"Import an existing resourcepack",right:!1,$$slots:{default:[Po]},$$scope:{ctx:e}}}),{c(){Ye(t.$$.fragment),s=Ae(),n=ce("div"),Ye(i.$$.fragment),a=Ae(),o=ce("input"),c=Ae(),l=ce("select");for(let k=0;k<w.length;k+=1)w[k].c();p=Ae(),h=ce("div"),Ye(b.$$.fragment),L(o,"type","text"),L(o,"name","pack_name"),L(o,"id","pack_name_input"),L(o,"class","svelte-iv83eq"),L(l,"name","version"),L(l,"id","version_input"),L(l,"class","svelte-iv83eq"),e[2]===void 0&&ht(()=>e[8].call(l)),L(h,"id","import_container"),L(h,"class","svelte-iv83eq"),L(n,"id","header"),L(n,"class","svelte-iv83eq")},m(k,E){Ze(t,k,E),ve(k,s,E),ve(k,n,E),Ze(i,n,null),oe(n,a),oe(n,o),xt(o,e[0]),oe(n,c),oe(n,l);for(let C=0;C<w.length;C+=1)w[C].m(l,null);Zs(l,e[2]),oe(n,p),oe(n,h),Ze(b,h,null),u=!0,_||(f=[be(o,"input",e[7]),be(o,"input",e[4]),be(l,"change",e[8])],_=!0)},p(k,[E]){const C={};!r&&E&2&&(r=!0,C.active=k[1],qt(()=>r=!1)),t.$set(C);const O={};if(E&16384&&(O.$$scope={dirty:E,ctx:k}),i.$set(O),E&1&&o.value!==k[0]&&xt(o,k[0]),E&0){v=[...ri];let j;for(j=0;j<v.length;j+=1){const Z=ci(k,v,j);w[j]?w[j].p(Z,E):(w[j]=ui(Z),w[j].c(),w[j].m(l,null))}for(;j<w.length;j+=1)w[j].d(1);w.length=v.length}E&4&&Zs(l,k[2]);const D={};E&16386&&(D.$$scope={dirty:E,ctx:k}),b.$set(D)},i(k){u||(ye(t.$$.fragment,k),ye(i.$$.fragment,k),ye(b.$$.fragment,k),u=!0)},o(k){Se(t.$$.fragment,k),Se(i.$$.fragment,k),Se(b.$$.fragment,k),u=!1},d(k){Ge(t,k),k&&me(s),k&&me(n),Ge(i),wn(w,k),Ge(b),_=!1,ze(f)}}}function Ro(e,t,r){let s;bn(e,dn,u=>r(2,s=u));let{packname:n="your_pack_name"}=t,{imagesrc:i=Xn}=t,a=!1;const o=u=>{if(!u||u.length===0)return;const _=u[0],f=new FileReader;f.onload=()=>{const m=new Image;m.onload=()=>{const d=document.createElement("canvas");d.width=64,d.height=64,d.getContext("2d").drawImage(m,0,0,64,64),r(5,i=d.toDataURL("image/png"))},m.src=f.result},f.readAsDataURL(_)},c=()=>{r(0,n=n.replace(" ","_").replace(/[^a-zA-Z0-9_]/g,"").toLowerCase())};function l(u){a=u,r(1,a)}function p(){n=this.value,r(0,n)}function h(){s=Ha(this),dn.set(s)}const b=()=>r(1,a=!0);return e.$$set=u=>{"packname"in u&&r(0,n=u.packname),"imagesrc"in u&&r(5,i=u.imagesrc)},[n,a,s,o,c,i,l,p,h,b]}class No extends Pt{constructor(t){super(),It(this,t,Ro,Oo,yt,{packname:0,imagesrc:5})}}var Pr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function To(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Yr(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Vn={},Do={get exports(){return Vn},set exports(e){Vn=e}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/(function(e,t){(function(r){e.exports=r()})(function(){return function r(s,n,i){function a(l,p){if(!n[l]){if(!s[l]){var h=typeof Yr=="function"&&Yr;if(!p&&h)return h(l,!0);if(o)return o(l,!0);var b=new Error("Cannot find module '"+l+"'");throw b.code="MODULE_NOT_FOUND",b}var u=n[l]={exports:{}};s[l][0].call(u.exports,function(_){var f=s[l][1][_];return a(f||_)},u,u.exports,r,s,n,i)}return n[l].exports}for(var o=typeof Yr=="function"&&Yr,c=0;c<i.length;c++)a(i[c]);return a}({1:[function(r,s,n){var i=r("./utils"),a=r("./support"),o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";n.encode=function(c){for(var l,p,h,b,u,_,f,m=[],d=0,v=c.length,w=v,k=i.getTypeOf(c)!=="string";d<c.length;)w=v-d,h=k?(l=c[d++],p=d<v?c[d++]:0,d<v?c[d++]:0):(l=c.charCodeAt(d++),p=d<v?c.charCodeAt(d++):0,d<v?c.charCodeAt(d++):0),b=l>>2,u=(3&l)<<4|p>>4,_=1<w?(15&p)<<2|h>>6:64,f=2<w?63&h:64,m.push(o.charAt(b)+o.charAt(u)+o.charAt(_)+o.charAt(f));return m.join("")},n.decode=function(c){var l,p,h,b,u,_,f=0,m=0,d="data:";if(c.substr(0,d.length)===d)throw new Error("Invalid base64 input, it looks like a data url.");var v,w=3*(c=c.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(c.charAt(c.length-1)===o.charAt(64)&&w--,c.charAt(c.length-2)===o.charAt(64)&&w--,w%1!=0)throw new Error("Invalid base64 input, bad content length.");for(v=a.uint8array?new Uint8Array(0|w):new Array(0|w);f<c.length;)l=o.indexOf(c.charAt(f++))<<2|(b=o.indexOf(c.charAt(f++)))>>4,p=(15&b)<<4|(u=o.indexOf(c.charAt(f++)))>>2,h=(3&u)<<6|(_=o.indexOf(c.charAt(f++))),v[m++]=l,u!==64&&(v[m++]=p),_!==64&&(v[m++]=h);return v}},{"./support":30,"./utils":32}],2:[function(r,s,n){var i=r("./external"),a=r("./stream/DataWorker"),o=r("./stream/Crc32Probe"),c=r("./stream/DataLengthProbe");function l(p,h,b,u,_){this.compressedSize=p,this.uncompressedSize=h,this.crc32=b,this.compression=u,this.compressedContent=_}l.prototype={getContentWorker:function(){var p=new a(i.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new c("data_length")),h=this;return p.on("end",function(){if(this.streamInfo.data_length!==h.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),p},getCompressedWorker:function(){return new a(i.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},l.createWorkerFrom=function(p,h,b){return p.pipe(new o).pipe(new c("uncompressedSize")).pipe(h.compressWorker(b)).pipe(new c("compressedSize")).withStreamInfo("compression",h)},s.exports=l},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(r,s,n){var i=r("./stream/GenericWorker");n.STORE={magic:"\0\0",compressWorker:function(){return new i("STORE compression")},uncompressWorker:function(){return new i("STORE decompression")}},n.DEFLATE=r("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(r,s,n){var i=r("./utils"),a=function(){for(var o,c=[],l=0;l<256;l++){o=l;for(var p=0;p<8;p++)o=1&o?3988292384^o>>>1:o>>>1;c[l]=o}return c}();s.exports=function(o,c){return o!==void 0&&o.length?i.getTypeOf(o)!=="string"?function(l,p,h,b){var u=a,_=b+h;l^=-1;for(var f=b;f<_;f++)l=l>>>8^u[255&(l^p[f])];return-1^l}(0|c,o,o.length,0):function(l,p,h,b){var u=a,_=b+h;l^=-1;for(var f=b;f<_;f++)l=l>>>8^u[255&(l^p.charCodeAt(f))];return-1^l}(0|c,o,o.length,0):0}},{"./utils":32}],5:[function(r,s,n){n.base64=!1,n.binary=!1,n.dir=!1,n.createFolders=!0,n.date=null,n.compression=null,n.compressionOptions=null,n.comment=null,n.unixPermissions=null,n.dosPermissions=null},{}],6:[function(r,s,n){var i=null;i=typeof Promise<"u"?Promise:r("lie"),s.exports={Promise:i}},{lie:37}],7:[function(r,s,n){var i=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",a=r("pako"),o=r("./utils"),c=r("./stream/GenericWorker"),l=i?"uint8array":"array";function p(h,b){c.call(this,"FlateWorker/"+h),this._pako=null,this._pakoAction=h,this._pakoOptions=b,this.meta={}}n.magic="\b\0",o.inherits(p,c),p.prototype.processChunk=function(h){this.meta=h.meta,this._pako===null&&this._createPako(),this._pako.push(o.transformTo(l,h.data),!1)},p.prototype.flush=function(){c.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},p.prototype.cleanUp=function(){c.prototype.cleanUp.call(this),this._pako=null},p.prototype._createPako=function(){this._pako=new a[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var h=this;this._pako.onData=function(b){h.push({data:b,meta:h.meta})}},n.compressWorker=function(h){return new p("Deflate",h)},n.uncompressWorker=function(){return new p("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(r,s,n){function i(u,_){var f,m="";for(f=0;f<_;f++)m+=String.fromCharCode(255&u),u>>>=8;return m}function a(u,_,f,m,d,v){var w,k,E=u.file,C=u.compression,O=v!==l.utf8encode,D=o.transformTo("string",v(E.name)),j=o.transformTo("string",l.utf8encode(E.name)),Z=E.comment,ie=o.transformTo("string",v(Z)),N=o.transformTo("string",l.utf8encode(Z)),q=j.length!==E.name.length,y=N.length!==Z.length,B="",ae="",Q="",pe=E.dir,ee=E.date,G={crc32:0,compressedSize:0,uncompressedSize:0};_&&!f||(G.crc32=u.crc32,G.compressedSize=u.compressedSize,G.uncompressedSize=u.uncompressedSize);var A=0;_&&(A|=8),O||!q&&!y||(A|=2048);var R=0,U=0;pe&&(R|=16),d==="UNIX"?(U=798,R|=function(S,x){var se=S;return S||(se=x?16893:33204),(65535&se)<<16}(E.unixPermissions,pe)):(U=20,R|=function(S){return 63&(S||0)}(E.dosPermissions)),w=ee.getUTCHours(),w<<=6,w|=ee.getUTCMinutes(),w<<=5,w|=ee.getUTCSeconds()/2,k=ee.getUTCFullYear()-1980,k<<=4,k|=ee.getUTCMonth()+1,k<<=5,k|=ee.getUTCDate(),q&&(ae=i(1,1)+i(p(D),4)+j,B+="up"+i(ae.length,2)+ae),y&&(Q=i(1,1)+i(p(ie),4)+N,B+="uc"+i(Q.length,2)+Q);var $="";return $+=`
\0`,$+=i(A,2),$+=C.magic,$+=i(w,2),$+=i(k,2),$+=i(G.crc32,4),$+=i(G.compressedSize,4),$+=i(G.uncompressedSize,4),$+=i(D.length,2),$+=i(B.length,2),{fileRecord:h.LOCAL_FILE_HEADER+$+D+B,dirRecord:h.CENTRAL_FILE_HEADER+i(U,2)+$+i(ie.length,2)+"\0\0\0\0"+i(R,4)+i(m,4)+D+B+ie}}var o=r("../utils"),c=r("../stream/GenericWorker"),l=r("../utf8"),p=r("../crc32"),h=r("../signature");function b(u,_,f,m){c.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=_,this.zipPlatform=f,this.encodeFileName=m,this.streamFiles=u,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}o.inherits(b,c),b.prototype.push=function(u){var _=u.meta.percent||0,f=this.entriesCount,m=this._sources.length;this.accumulate?this.contentBuffer.push(u):(this.bytesWritten+=u.data.length,c.prototype.push.call(this,{data:u.data,meta:{currentFile:this.currentFile,percent:f?(_+100*(f-m-1))/f:100}}))},b.prototype.openedSource=function(u){this.currentSourceOffset=this.bytesWritten,this.currentFile=u.file.name;var _=this.streamFiles&&!u.file.dir;if(_){var f=a(u,_,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:f.fileRecord,meta:{percent:0}})}else this.accumulate=!0},b.prototype.closedSource=function(u){this.accumulate=!1;var _=this.streamFiles&&!u.file.dir,f=a(u,_,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(f.dirRecord),_)this.push({data:function(m){return h.DATA_DESCRIPTOR+i(m.crc32,4)+i(m.compressedSize,4)+i(m.uncompressedSize,4)}(u),meta:{percent:100}});else for(this.push({data:f.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},b.prototype.flush=function(){for(var u=this.bytesWritten,_=0;_<this.dirRecords.length;_++)this.push({data:this.dirRecords[_],meta:{percent:100}});var f=this.bytesWritten-u,m=function(d,v,w,k,E){var C=o.transformTo("string",E(k));return h.CENTRAL_DIRECTORY_END+"\0\0\0\0"+i(d,2)+i(d,2)+i(v,4)+i(w,4)+i(C.length,2)+C}(this.dirRecords.length,f,u,this.zipComment,this.encodeFileName);this.push({data:m,meta:{percent:100}})},b.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},b.prototype.registerPrevious=function(u){this._sources.push(u);var _=this;return u.on("data",function(f){_.processChunk(f)}),u.on("end",function(){_.closedSource(_.previous.streamInfo),_._sources.length?_.prepareNextSource():_.end()}),u.on("error",function(f){_.error(f)}),this},b.prototype.resume=function(){return!!c.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},b.prototype.error=function(u){var _=this._sources;if(!c.prototype.error.call(this,u))return!1;for(var f=0;f<_.length;f++)try{_[f].error(u)}catch{}return!0},b.prototype.lock=function(){c.prototype.lock.call(this);for(var u=this._sources,_=0;_<u.length;_++)u[_].lock()},s.exports=b},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(r,s,n){var i=r("../compressions"),a=r("./ZipFileWorker");n.generateWorker=function(o,c,l){var p=new a(c.streamFiles,l,c.platform,c.encodeFileName),h=0;try{o.forEach(function(b,u){h++;var _=function(v,w){var k=v||w,E=i[k];if(!E)throw new Error(k+" is not a valid compression method !");return E}(u.options.compression,c.compression),f=u.options.compressionOptions||c.compressionOptions||{},m=u.dir,d=u.date;u._compressWorker(_,f).withStreamInfo("file",{name:b,dir:m,date:d,comment:u.comment||"",unixPermissions:u.unixPermissions,dosPermissions:u.dosPermissions}).pipe(p)}),p.entriesCount=h}catch(b){p.error(b)}return p}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(r,s,n){function i(){if(!(this instanceof i))return new i;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var a=new i;for(var o in this)typeof this[o]!="function"&&(a[o]=this[o]);return a}}(i.prototype=r("./object")).loadAsync=r("./load"),i.support=r("./support"),i.defaults=r("./defaults"),i.version="3.10.1",i.loadAsync=function(a,o){return new i().loadAsync(a,o)},i.external=r("./external"),s.exports=i},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(r,s,n){var i=r("./utils"),a=r("./external"),o=r("./utf8"),c=r("./zipEntries"),l=r("./stream/Crc32Probe"),p=r("./nodejsUtils");function h(b){return new a.Promise(function(u,_){var f=b.decompressed.getContentWorker().pipe(new l);f.on("error",function(m){_(m)}).on("end",function(){f.streamInfo.crc32!==b.decompressed.crc32?_(new Error("Corrupted zip : CRC32 mismatch")):u()}).resume()})}s.exports=function(b,u){var _=this;return u=i.extend(u||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:o.utf8decode}),p.isNode&&p.isStream(b)?a.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):i.prepareContent("the loaded zip file",b,!0,u.optimizedBinaryString,u.base64).then(function(f){var m=new c(u);return m.load(f),m}).then(function(f){var m=[a.Promise.resolve(f)],d=f.files;if(u.checkCRC32)for(var v=0;v<d.length;v++)m.push(h(d[v]));return a.Promise.all(m)}).then(function(f){for(var m=f.shift(),d=m.files,v=0;v<d.length;v++){var w=d[v],k=w.fileNameStr,E=i.resolve(w.fileNameStr);_.file(E,w.decompressed,{binary:!0,optimizedBinaryString:!0,date:w.date,dir:w.dir,comment:w.fileCommentStr.length?w.fileCommentStr:null,unixPermissions:w.unixPermissions,dosPermissions:w.dosPermissions,createFolders:u.createFolders}),w.dir||(_.file(E).unsafeOriginalName=k)}return m.zipComment.length&&(_.comment=m.zipComment),_})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(r,s,n){var i=r("../utils"),a=r("../stream/GenericWorker");function o(c,l){a.call(this,"Nodejs stream input adapter for "+c),this._upstreamEnded=!1,this._bindStream(l)}i.inherits(o,a),o.prototype._bindStream=function(c){var l=this;(this._stream=c).pause(),c.on("data",function(p){l.push({data:p,meta:{percent:0}})}).on("error",function(p){l.isPaused?this.generatedError=p:l.error(p)}).on("end",function(){l.isPaused?l._upstreamEnded=!0:l.end()})},o.prototype.pause=function(){return!!a.prototype.pause.call(this)&&(this._stream.pause(),!0)},o.prototype.resume=function(){return!!a.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},s.exports=o},{"../stream/GenericWorker":28,"../utils":32}],13:[function(r,s,n){var i=r("readable-stream").Readable;function a(o,c,l){i.call(this,c),this._helper=o;var p=this;o.on("data",function(h,b){p.push(h)||p._helper.pause(),l&&l(b)}).on("error",function(h){p.emit("error",h)}).on("end",function(){p.push(null)})}r("../utils").inherits(a,i),a.prototype._read=function(){this._helper.resume()},s.exports=a},{"../utils":32,"readable-stream":16}],14:[function(r,s,n){s.exports={isNode:typeof Buffer<"u",newBufferFrom:function(i,a){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(i,a);if(typeof i=="number")throw new Error('The "data" argument must not be a number');return new Buffer(i,a)},allocBuffer:function(i){if(Buffer.alloc)return Buffer.alloc(i);var a=new Buffer(i);return a.fill(0),a},isBuffer:function(i){return Buffer.isBuffer(i)},isStream:function(i){return i&&typeof i.on=="function"&&typeof i.pause=="function"&&typeof i.resume=="function"}}},{}],15:[function(r,s,n){function i(E,C,O){var D,j=o.getTypeOf(C),Z=o.extend(O||{},p);Z.date=Z.date||new Date,Z.compression!==null&&(Z.compression=Z.compression.toUpperCase()),typeof Z.unixPermissions=="string"&&(Z.unixPermissions=parseInt(Z.unixPermissions,8)),Z.unixPermissions&&16384&Z.unixPermissions&&(Z.dir=!0),Z.dosPermissions&&16&Z.dosPermissions&&(Z.dir=!0),Z.dir&&(E=d(E)),Z.createFolders&&(D=m(E))&&v.call(this,D,!0);var ie=j==="string"&&Z.binary===!1&&Z.base64===!1;O&&O.binary!==void 0||(Z.binary=!ie),(C instanceof h&&C.uncompressedSize===0||Z.dir||!C||C.length===0)&&(Z.base64=!1,Z.binary=!0,C="",Z.compression="STORE",j="string");var N=null;N=C instanceof h||C instanceof c?C:_.isNode&&_.isStream(C)?new f(E,C):o.prepareContent(E,C,Z.binary,Z.optimizedBinaryString,Z.base64);var q=new b(E,N,Z);this.files[E]=q}var a=r("./utf8"),o=r("./utils"),c=r("./stream/GenericWorker"),l=r("./stream/StreamHelper"),p=r("./defaults"),h=r("./compressedObject"),b=r("./zipObject"),u=r("./generate"),_=r("./nodejsUtils"),f=r("./nodejs/NodejsStreamInputAdapter"),m=function(E){E.slice(-1)==="/"&&(E=E.substring(0,E.length-1));var C=E.lastIndexOf("/");return 0<C?E.substring(0,C):""},d=function(E){return E.slice(-1)!=="/"&&(E+="/"),E},v=function(E,C){return C=C!==void 0?C:p.createFolders,E=d(E),this.files[E]||i.call(this,E,null,{dir:!0,createFolders:C}),this.files[E]};function w(E){return Object.prototype.toString.call(E)==="[object RegExp]"}var k={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(E){var C,O,D;for(C in this.files)D=this.files[C],(O=C.slice(this.root.length,C.length))&&C.slice(0,this.root.length)===this.root&&E(O,D)},filter:function(E){var C=[];return this.forEach(function(O,D){E(O,D)&&C.push(D)}),C},file:function(E,C,O){if(arguments.length!==1)return E=this.root+E,i.call(this,E,C,O),this;if(w(E)){var D=E;return this.filter(function(Z,ie){return!ie.dir&&D.test(Z)})}var j=this.files[this.root+E];return j&&!j.dir?j:null},folder:function(E){if(!E)return this;if(w(E))return this.filter(function(j,Z){return Z.dir&&E.test(j)});var C=this.root+E,O=v.call(this,C),D=this.clone();return D.root=O.name,D},remove:function(E){E=this.root+E;var C=this.files[E];if(C||(E.slice(-1)!=="/"&&(E+="/"),C=this.files[E]),C&&!C.dir)delete this.files[E];else for(var O=this.filter(function(j,Z){return Z.name.slice(0,E.length)===E}),D=0;D<O.length;D++)delete this.files[O[D].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(E){var C,O={};try{if((O=o.extend(E||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:a.utf8encode})).type=O.type.toLowerCase(),O.compression=O.compression.toUpperCase(),O.type==="binarystring"&&(O.type="string"),!O.type)throw new Error("No output type specified.");o.checkSupport(O.type),O.platform!=="darwin"&&O.platform!=="freebsd"&&O.platform!=="linux"&&O.platform!=="sunos"||(O.platform="UNIX"),O.platform==="win32"&&(O.platform="DOS");var D=O.comment||this.comment||"";C=u.generateWorker(this,O,D)}catch(j){(C=new c("error")).error(j)}return new l(C,O.type||"string",O.mimeType)},generateAsync:function(E,C){return this.generateInternalStream(E).accumulate(C)},generateNodeStream:function(E,C){return(E=E||{}).type||(E.type="nodebuffer"),this.generateInternalStream(E).toNodejsStream(C)}};s.exports=k},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(r,s,n){s.exports=r("stream")},{stream:void 0}],17:[function(r,s,n){var i=r("./DataReader");function a(o){i.call(this,o);for(var c=0;c<this.data.length;c++)o[c]=255&o[c]}r("../utils").inherits(a,i),a.prototype.byteAt=function(o){return this.data[this.zero+o]},a.prototype.lastIndexOfSignature=function(o){for(var c=o.charCodeAt(0),l=o.charCodeAt(1),p=o.charCodeAt(2),h=o.charCodeAt(3),b=this.length-4;0<=b;--b)if(this.data[b]===c&&this.data[b+1]===l&&this.data[b+2]===p&&this.data[b+3]===h)return b-this.zero;return-1},a.prototype.readAndCheckSignature=function(o){var c=o.charCodeAt(0),l=o.charCodeAt(1),p=o.charCodeAt(2),h=o.charCodeAt(3),b=this.readData(4);return c===b[0]&&l===b[1]&&p===b[2]&&h===b[3]},a.prototype.readData=function(o){if(this.checkOffset(o),o===0)return[];var c=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,c},s.exports=a},{"../utils":32,"./DataReader":18}],18:[function(r,s,n){var i=r("../utils");function a(o){this.data=o,this.length=o.length,this.index=0,this.zero=0}a.prototype={checkOffset:function(o){this.checkIndex(this.index+o)},checkIndex:function(o){if(this.length<this.zero+o||o<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+o+"). Corrupted zip ?")},setIndex:function(o){this.checkIndex(o),this.index=o},skip:function(o){this.setIndex(this.index+o)},byteAt:function(){},readInt:function(o){var c,l=0;for(this.checkOffset(o),c=this.index+o-1;c>=this.index;c--)l=(l<<8)+this.byteAt(c);return this.index+=o,l},readString:function(o){return i.transformTo("string",this.readData(o))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var o=this.readInt(4);return new Date(Date.UTC(1980+(o>>25&127),(o>>21&15)-1,o>>16&31,o>>11&31,o>>5&63,(31&o)<<1))}},s.exports=a},{"../utils":32}],19:[function(r,s,n){var i=r("./Uint8ArrayReader");function a(o){i.call(this,o)}r("../utils").inherits(a,i),a.prototype.readData=function(o){this.checkOffset(o);var c=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,c},s.exports=a},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(r,s,n){var i=r("./DataReader");function a(o){i.call(this,o)}r("../utils").inherits(a,i),a.prototype.byteAt=function(o){return this.data.charCodeAt(this.zero+o)},a.prototype.lastIndexOfSignature=function(o){return this.data.lastIndexOf(o)-this.zero},a.prototype.readAndCheckSignature=function(o){return o===this.readData(4)},a.prototype.readData=function(o){this.checkOffset(o);var c=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,c},s.exports=a},{"../utils":32,"./DataReader":18}],21:[function(r,s,n){var i=r("./ArrayReader");function a(o){i.call(this,o)}r("../utils").inherits(a,i),a.prototype.readData=function(o){if(this.checkOffset(o),o===0)return new Uint8Array(0);var c=this.data.subarray(this.zero+this.index,this.zero+this.index+o);return this.index+=o,c},s.exports=a},{"../utils":32,"./ArrayReader":17}],22:[function(r,s,n){var i=r("../utils"),a=r("../support"),o=r("./ArrayReader"),c=r("./StringReader"),l=r("./NodeBufferReader"),p=r("./Uint8ArrayReader");s.exports=function(h){var b=i.getTypeOf(h);return i.checkSupport(b),b!=="string"||a.uint8array?b==="nodebuffer"?new l(h):a.uint8array?new p(i.transformTo("uint8array",h)):new o(i.transformTo("array",h)):new c(h)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(r,s,n){n.LOCAL_FILE_HEADER="PK",n.CENTRAL_FILE_HEADER="PK",n.CENTRAL_DIRECTORY_END="PK",n.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",n.ZIP64_CENTRAL_DIRECTORY_END="PK",n.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(r,s,n){var i=r("./GenericWorker"),a=r("../utils");function o(c){i.call(this,"ConvertWorker to "+c),this.destType=c}a.inherits(o,i),o.prototype.processChunk=function(c){this.push({data:a.transformTo(this.destType,c.data),meta:c.meta})},s.exports=o},{"../utils":32,"./GenericWorker":28}],25:[function(r,s,n){var i=r("./GenericWorker"),a=r("../crc32");function o(){i.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}r("../utils").inherits(o,i),o.prototype.processChunk=function(c){this.streamInfo.crc32=a(c.data,this.streamInfo.crc32||0),this.push(c)},s.exports=o},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(r,s,n){var i=r("../utils"),a=r("./GenericWorker");function o(c){a.call(this,"DataLengthProbe for "+c),this.propName=c,this.withStreamInfo(c,0)}i.inherits(o,a),o.prototype.processChunk=function(c){if(c){var l=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=l+c.data.length}a.prototype.processChunk.call(this,c)},s.exports=o},{"../utils":32,"./GenericWorker":28}],27:[function(r,s,n){var i=r("../utils"),a=r("./GenericWorker");function o(c){a.call(this,"DataWorker");var l=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,c.then(function(p){l.dataIsReady=!0,l.data=p,l.max=p&&p.length||0,l.type=i.getTypeOf(p),l.isPaused||l._tickAndRepeat()},function(p){l.error(p)})}i.inherits(o,a),o.prototype.cleanUp=function(){a.prototype.cleanUp.call(this),this.data=null},o.prototype.resume=function(){return!!a.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,i.delay(this._tickAndRepeat,[],this)),!0)},o.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(i.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},o.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var c=null,l=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":c=this.data.substring(this.index,l);break;case"uint8array":c=this.data.subarray(this.index,l);break;case"array":case"nodebuffer":c=this.data.slice(this.index,l)}return this.index=l,this.push({data:c,meta:{percent:this.max?this.index/this.max*100:0}})},s.exports=o},{"../utils":32,"./GenericWorker":28}],28:[function(r,s,n){function i(a){this.name=a||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}i.prototype={push:function(a){this.emit("data",a)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(a){this.emit("error",a)}return!0},error:function(a){return!this.isFinished&&(this.isPaused?this.generatedError=a:(this.isFinished=!0,this.emit("error",a),this.previous&&this.previous.error(a),this.cleanUp()),!0)},on:function(a,o){return this._listeners[a].push(o),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(a,o){if(this._listeners[a])for(var c=0;c<this._listeners[a].length;c++)this._listeners[a][c].call(this,o)},pipe:function(a){return a.registerPrevious(this)},registerPrevious:function(a){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=a.streamInfo,this.mergeStreamInfo(),this.previous=a;var o=this;return a.on("data",function(c){o.processChunk(c)}),a.on("end",function(){o.end()}),a.on("error",function(c){o.error(c)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var a=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),a=!0),this.previous&&this.previous.resume(),!a},flush:function(){},processChunk:function(a){this.push(a)},withStreamInfo:function(a,o){return this.extraStreamInfo[a]=o,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var a in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,a)&&(this.streamInfo[a]=this.extraStreamInfo[a])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var a="Worker "+this.name;return this.previous?this.previous+" -> "+a:a}},s.exports=i},{}],29:[function(r,s,n){var i=r("../utils"),a=r("./ConvertWorker"),o=r("./GenericWorker"),c=r("../base64"),l=r("../support"),p=r("../external"),h=null;if(l.nodestream)try{h=r("../nodejs/NodejsStreamOutputAdapter")}catch{}function b(_,f){return new p.Promise(function(m,d){var v=[],w=_._internalType,k=_._outputType,E=_._mimeType;_.on("data",function(C,O){v.push(C),f&&f(O)}).on("error",function(C){v=[],d(C)}).on("end",function(){try{var C=function(O,D,j){switch(O){case"blob":return i.newBlob(i.transformTo("arraybuffer",D),j);case"base64":return c.encode(D);default:return i.transformTo(O,D)}}(k,function(O,D){var j,Z=0,ie=null,N=0;for(j=0;j<D.length;j++)N+=D[j].length;switch(O){case"string":return D.join("");case"array":return Array.prototype.concat.apply([],D);case"uint8array":for(ie=new Uint8Array(N),j=0;j<D.length;j++)ie.set(D[j],Z),Z+=D[j].length;return ie;case"nodebuffer":return Buffer.concat(D);default:throw new Error("concat : unsupported type '"+O+"'")}}(w,v),E);m(C)}catch(O){d(O)}v=[]}).resume()})}function u(_,f,m){var d=f;switch(f){case"blob":case"arraybuffer":d="uint8array";break;case"base64":d="string"}try{this._internalType=d,this._outputType=f,this._mimeType=m,i.checkSupport(d),this._worker=_.pipe(new a(d)),_.lock()}catch(v){this._worker=new o("error"),this._worker.error(v)}}u.prototype={accumulate:function(_){return b(this,_)},on:function(_,f){var m=this;return _==="data"?this._worker.on(_,function(d){f.call(m,d.data,d.meta)}):this._worker.on(_,function(){i.delay(f,arguments,m)}),this},resume:function(){return i.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(_){if(i.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new h(this,{objectMode:this._outputType!=="nodebuffer"},_)}},s.exports=u},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(r,s,n){if(n.base64=!0,n.array=!0,n.string=!0,n.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",n.nodebuffer=typeof Buffer<"u",n.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")n.blob=!1;else{var i=new ArrayBuffer(0);try{n.blob=new Blob([i],{type:"application/zip"}).size===0}catch{try{var a=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);a.append(i),n.blob=a.getBlob("application/zip").size===0}catch{n.blob=!1}}}try{n.nodestream=!!r("readable-stream").Readable}catch{n.nodestream=!1}},{"readable-stream":16}],31:[function(r,s,n){for(var i=r("./utils"),a=r("./support"),o=r("./nodejsUtils"),c=r("./stream/GenericWorker"),l=new Array(256),p=0;p<256;p++)l[p]=252<=p?6:248<=p?5:240<=p?4:224<=p?3:192<=p?2:1;l[254]=l[254]=1;function h(){c.call(this,"utf-8 decode"),this.leftOver=null}function b(){c.call(this,"utf-8 encode")}n.utf8encode=function(u){return a.nodebuffer?o.newBufferFrom(u,"utf-8"):function(_){var f,m,d,v,w,k=_.length,E=0;for(v=0;v<k;v++)(64512&(m=_.charCodeAt(v)))==55296&&v+1<k&&(64512&(d=_.charCodeAt(v+1)))==56320&&(m=65536+(m-55296<<10)+(d-56320),v++),E+=m<128?1:m<2048?2:m<65536?3:4;for(f=a.uint8array?new Uint8Array(E):new Array(E),v=w=0;w<E;v++)(64512&(m=_.charCodeAt(v)))==55296&&v+1<k&&(64512&(d=_.charCodeAt(v+1)))==56320&&(m=65536+(m-55296<<10)+(d-56320),v++),m<128?f[w++]=m:(m<2048?f[w++]=192|m>>>6:(m<65536?f[w++]=224|m>>>12:(f[w++]=240|m>>>18,f[w++]=128|m>>>12&63),f[w++]=128|m>>>6&63),f[w++]=128|63&m);return f}(u)},n.utf8decode=function(u){return a.nodebuffer?i.transformTo("nodebuffer",u).toString("utf-8"):function(_){var f,m,d,v,w=_.length,k=new Array(2*w);for(f=m=0;f<w;)if((d=_[f++])<128)k[m++]=d;else if(4<(v=l[d]))k[m++]=65533,f+=v-1;else{for(d&=v===2?31:v===3?15:7;1<v&&f<w;)d=d<<6|63&_[f++],v--;1<v?k[m++]=65533:d<65536?k[m++]=d:(d-=65536,k[m++]=55296|d>>10&1023,k[m++]=56320|1023&d)}return k.length!==m&&(k.subarray?k=k.subarray(0,m):k.length=m),i.applyFromCharCode(k)}(u=i.transformTo(a.uint8array?"uint8array":"array",u))},i.inherits(h,c),h.prototype.processChunk=function(u){var _=i.transformTo(a.uint8array?"uint8array":"array",u.data);if(this.leftOver&&this.leftOver.length){if(a.uint8array){var f=_;(_=new Uint8Array(f.length+this.leftOver.length)).set(this.leftOver,0),_.set(f,this.leftOver.length)}else _=this.leftOver.concat(_);this.leftOver=null}var m=function(v,w){var k;for((w=w||v.length)>v.length&&(w=v.length),k=w-1;0<=k&&(192&v[k])==128;)k--;return k<0||k===0?w:k+l[v[k]]>w?k:w}(_),d=_;m!==_.length&&(a.uint8array?(d=_.subarray(0,m),this.leftOver=_.subarray(m,_.length)):(d=_.slice(0,m),this.leftOver=_.slice(m,_.length))),this.push({data:n.utf8decode(d),meta:u.meta})},h.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:n.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},n.Utf8DecodeWorker=h,i.inherits(b,c),b.prototype.processChunk=function(u){this.push({data:n.utf8encode(u.data),meta:u.meta})},n.Utf8EncodeWorker=b},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(r,s,n){var i=r("./support"),a=r("./base64"),o=r("./nodejsUtils"),c=r("./external");function l(f){return f}function p(f,m){for(var d=0;d<f.length;++d)m[d]=255&f.charCodeAt(d);return m}r("setimmediate"),n.newBlob=function(f,m){n.checkSupport("blob");try{return new Blob([f],{type:m})}catch{try{var d=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return d.append(f),d.getBlob(m)}catch{throw new Error("Bug : can't construct the Blob.")}}};var h={stringifyByChunk:function(f,m,d){var v=[],w=0,k=f.length;if(k<=d)return String.fromCharCode.apply(null,f);for(;w<k;)m==="array"||m==="nodebuffer"?v.push(String.fromCharCode.apply(null,f.slice(w,Math.min(w+d,k)))):v.push(String.fromCharCode.apply(null,f.subarray(w,Math.min(w+d,k)))),w+=d;return v.join("")},stringifyByChar:function(f){for(var m="",d=0;d<f.length;d++)m+=String.fromCharCode(f[d]);return m},applyCanBeUsed:{uint8array:function(){try{return i.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return i.nodebuffer&&String.fromCharCode.apply(null,o.allocBuffer(1)).length===1}catch{return!1}}()}};function b(f){var m=65536,d=n.getTypeOf(f),v=!0;if(d==="uint8array"?v=h.applyCanBeUsed.uint8array:d==="nodebuffer"&&(v=h.applyCanBeUsed.nodebuffer),v)for(;1<m;)try{return h.stringifyByChunk(f,d,m)}catch{m=Math.floor(m/2)}return h.stringifyByChar(f)}function u(f,m){for(var d=0;d<f.length;d++)m[d]=f[d];return m}n.applyFromCharCode=b;var _={};_.string={string:l,array:function(f){return p(f,new Array(f.length))},arraybuffer:function(f){return _.string.uint8array(f).buffer},uint8array:function(f){return p(f,new Uint8Array(f.length))},nodebuffer:function(f){return p(f,o.allocBuffer(f.length))}},_.array={string:b,array:l,arraybuffer:function(f){return new Uint8Array(f).buffer},uint8array:function(f){return new Uint8Array(f)},nodebuffer:function(f){return o.newBufferFrom(f)}},_.arraybuffer={string:function(f){return b(new Uint8Array(f))},array:function(f){return u(new Uint8Array(f),new Array(f.byteLength))},arraybuffer:l,uint8array:function(f){return new Uint8Array(f)},nodebuffer:function(f){return o.newBufferFrom(new Uint8Array(f))}},_.uint8array={string:b,array:function(f){return u(f,new Array(f.length))},arraybuffer:function(f){return f.buffer},uint8array:l,nodebuffer:function(f){return o.newBufferFrom(f)}},_.nodebuffer={string:b,array:function(f){return u(f,new Array(f.length))},arraybuffer:function(f){return _.nodebuffer.uint8array(f).buffer},uint8array:function(f){return u(f,new Uint8Array(f.length))},nodebuffer:l},n.transformTo=function(f,m){if(m=m||"",!f)return m;n.checkSupport(f);var d=n.getTypeOf(m);return _[d][f](m)},n.resolve=function(f){for(var m=f.split("/"),d=[],v=0;v<m.length;v++){var w=m[v];w==="."||w===""&&v!==0&&v!==m.length-1||(w===".."?d.pop():d.push(w))}return d.join("/")},n.getTypeOf=function(f){return typeof f=="string"?"string":Object.prototype.toString.call(f)==="[object Array]"?"array":i.nodebuffer&&o.isBuffer(f)?"nodebuffer":i.uint8array&&f instanceof Uint8Array?"uint8array":i.arraybuffer&&f instanceof ArrayBuffer?"arraybuffer":void 0},n.checkSupport=function(f){if(!i[f.toLowerCase()])throw new Error(f+" is not supported by this platform")},n.MAX_VALUE_16BITS=65535,n.MAX_VALUE_32BITS=-1,n.pretty=function(f){var m,d,v="";for(d=0;d<(f||"").length;d++)v+="\\x"+((m=f.charCodeAt(d))<16?"0":"")+m.toString(16).toUpperCase();return v},n.delay=function(f,m,d){setImmediate(function(){f.apply(d||null,m||[])})},n.inherits=function(f,m){function d(){}d.prototype=m.prototype,f.prototype=new d},n.extend=function(){var f,m,d={};for(f=0;f<arguments.length;f++)for(m in arguments[f])Object.prototype.hasOwnProperty.call(arguments[f],m)&&d[m]===void 0&&(d[m]=arguments[f][m]);return d},n.prepareContent=function(f,m,d,v,w){return c.Promise.resolve(m).then(function(k){return i.blob&&(k instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(k))!==-1)&&typeof FileReader<"u"?new c.Promise(function(E,C){var O=new FileReader;O.onload=function(D){E(D.target.result)},O.onerror=function(D){C(D.target.error)},O.readAsArrayBuffer(k)}):k}).then(function(k){var E=n.getTypeOf(k);return E?(E==="arraybuffer"?k=n.transformTo("uint8array",k):E==="string"&&(w?k=a.decode(k):d&&v!==!0&&(k=function(C){return p(C,i.uint8array?new Uint8Array(C.length):new Array(C.length))}(k))),k):c.Promise.reject(new Error("Can't read the data of '"+f+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(r,s,n){var i=r("./reader/readerFor"),a=r("./utils"),o=r("./signature"),c=r("./zipEntry"),l=r("./support");function p(h){this.files=[],this.loadOptions=h}p.prototype={checkSignature:function(h){if(!this.reader.readAndCheckSignature(h)){this.reader.index-=4;var b=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+a.pretty(b)+", expected "+a.pretty(h)+")")}},isSignature:function(h,b){var u=this.reader.index;this.reader.setIndex(h);var _=this.reader.readString(4)===b;return this.reader.setIndex(u),_},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var h=this.reader.readData(this.zipCommentLength),b=l.uint8array?"uint8array":"array",u=a.transformTo(b,h);this.zipComment=this.loadOptions.decodeFileName(u)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var h,b,u,_=this.zip64EndOfCentralSize-44;0<_;)h=this.reader.readInt(2),b=this.reader.readInt(4),u=this.reader.readData(b),this.zip64ExtensibleData[h]={id:h,length:b,value:u}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var h,b;for(h=0;h<this.files.length;h++)b=this.files[h],this.reader.setIndex(b.localHeaderOffset),this.checkSignature(o.LOCAL_FILE_HEADER),b.readLocalPart(this.reader),b.handleUTF8(),b.processAttributes()},readCentralDir:function(){var h;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(o.CENTRAL_FILE_HEADER);)(h=new c({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(h);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var h=this.reader.lastIndexOfSignature(o.CENTRAL_DIRECTORY_END);if(h<0)throw this.isSignature(0,o.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(h);var b=h;if(this.checkSignature(o.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===a.MAX_VALUE_16BITS||this.diskWithCentralDirStart===a.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===a.MAX_VALUE_16BITS||this.centralDirRecords===a.MAX_VALUE_16BITS||this.centralDirSize===a.MAX_VALUE_32BITS||this.centralDirOffset===a.MAX_VALUE_32BITS){if(this.zip64=!0,(h=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(h),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,o.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var u=this.centralDirOffset+this.centralDirSize;this.zip64&&(u+=20,u+=12+this.zip64EndOfCentralSize);var _=b-u;if(0<_)this.isSignature(b,o.CENTRAL_FILE_HEADER)||(this.reader.zero=_);else if(_<0)throw new Error("Corrupted zip: missing "+Math.abs(_)+" bytes.")},prepareReader:function(h){this.reader=i(h)},load:function(h){this.prepareReader(h),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},s.exports=p},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(r,s,n){var i=r("./reader/readerFor"),a=r("./utils"),o=r("./compressedObject"),c=r("./crc32"),l=r("./utf8"),p=r("./compressions"),h=r("./support");function b(u,_){this.options=u,this.loadOptions=_}b.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(u){var _,f;if(u.skip(22),this.fileNameLength=u.readInt(2),f=u.readInt(2),this.fileName=u.readData(this.fileNameLength),u.skip(f),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((_=function(m){for(var d in p)if(Object.prototype.hasOwnProperty.call(p,d)&&p[d].magic===m)return p[d];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+a.pretty(this.compressionMethod)+" unknown (inner file : "+a.transformTo("string",this.fileName)+")");this.decompressed=new o(this.compressedSize,this.uncompressedSize,this.crc32,_,u.readData(this.compressedSize))},readCentralPart:function(u){this.versionMadeBy=u.readInt(2),u.skip(2),this.bitFlag=u.readInt(2),this.compressionMethod=u.readString(2),this.date=u.readDate(),this.crc32=u.readInt(4),this.compressedSize=u.readInt(4),this.uncompressedSize=u.readInt(4);var _=u.readInt(2);if(this.extraFieldsLength=u.readInt(2),this.fileCommentLength=u.readInt(2),this.diskNumberStart=u.readInt(2),this.internalFileAttributes=u.readInt(2),this.externalFileAttributes=u.readInt(4),this.localHeaderOffset=u.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");u.skip(_),this.readExtraFields(u),this.parseZIP64ExtraField(u),this.fileComment=u.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var u=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),u==0&&(this.dosPermissions=63&this.externalFileAttributes),u==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var u=i(this.extraFields[1].value);this.uncompressedSize===a.MAX_VALUE_32BITS&&(this.uncompressedSize=u.readInt(8)),this.compressedSize===a.MAX_VALUE_32BITS&&(this.compressedSize=u.readInt(8)),this.localHeaderOffset===a.MAX_VALUE_32BITS&&(this.localHeaderOffset=u.readInt(8)),this.diskNumberStart===a.MAX_VALUE_32BITS&&(this.diskNumberStart=u.readInt(4))}},readExtraFields:function(u){var _,f,m,d=u.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});u.index+4<d;)_=u.readInt(2),f=u.readInt(2),m=u.readData(f),this.extraFields[_]={id:_,length:f,value:m};u.setIndex(d)},handleUTF8:function(){var u=h.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=l.utf8decode(this.fileName),this.fileCommentStr=l.utf8decode(this.fileComment);else{var _=this.findExtraFieldUnicodePath();if(_!==null)this.fileNameStr=_;else{var f=a.transformTo(u,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(f)}var m=this.findExtraFieldUnicodeComment();if(m!==null)this.fileCommentStr=m;else{var d=a.transformTo(u,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(d)}}},findExtraFieldUnicodePath:function(){var u=this.extraFields[28789];if(u){var _=i(u.value);return _.readInt(1)!==1||c(this.fileName)!==_.readInt(4)?null:l.utf8decode(_.readData(u.length-5))}return null},findExtraFieldUnicodeComment:function(){var u=this.extraFields[25461];if(u){var _=i(u.value);return _.readInt(1)!==1||c(this.fileComment)!==_.readInt(4)?null:l.utf8decode(_.readData(u.length-5))}return null}},s.exports=b},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(r,s,n){function i(_,f,m){this.name=_,this.dir=m.dir,this.date=m.date,this.comment=m.comment,this.unixPermissions=m.unixPermissions,this.dosPermissions=m.dosPermissions,this._data=f,this._dataBinary=m.binary,this.options={compression:m.compression,compressionOptions:m.compressionOptions}}var a=r("./stream/StreamHelper"),o=r("./stream/DataWorker"),c=r("./utf8"),l=r("./compressedObject"),p=r("./stream/GenericWorker");i.prototype={internalStream:function(_){var f=null,m="string";try{if(!_)throw new Error("No output type specified.");var d=(m=_.toLowerCase())==="string"||m==="text";m!=="binarystring"&&m!=="text"||(m="string"),f=this._decompressWorker();var v=!this._dataBinary;v&&!d&&(f=f.pipe(new c.Utf8EncodeWorker)),!v&&d&&(f=f.pipe(new c.Utf8DecodeWorker))}catch(w){(f=new p("error")).error(w)}return new a(f,m,"")},async:function(_,f){return this.internalStream(_).accumulate(f)},nodeStream:function(_,f){return this.internalStream(_||"nodebuffer").toNodejsStream(f)},_compressWorker:function(_,f){if(this._data instanceof l&&this._data.compression.magic===_.magic)return this._data.getCompressedWorker();var m=this._decompressWorker();return this._dataBinary||(m=m.pipe(new c.Utf8EncodeWorker)),l.createWorkerFrom(m,_,f)},_decompressWorker:function(){return this._data instanceof l?this._data.getContentWorker():this._data instanceof p?this._data:new o(this._data)}};for(var h=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],b=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},u=0;u<h.length;u++)i.prototype[h[u]]=b;s.exports=i},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(r,s,n){(function(i){var a,o,c=i.MutationObserver||i.WebKitMutationObserver;if(c){var l=0,p=new c(_),h=i.document.createTextNode("");p.observe(h,{characterData:!0}),a=function(){h.data=l=++l%2}}else if(i.setImmediate||i.MessageChannel===void 0)a="document"in i&&"onreadystatechange"in i.document.createElement("script")?function(){var f=i.document.createElement("script");f.onreadystatechange=function(){_(),f.onreadystatechange=null,f.parentNode.removeChild(f),f=null},i.document.documentElement.appendChild(f)}:function(){setTimeout(_,0)};else{var b=new i.MessageChannel;b.port1.onmessage=_,a=function(){b.port2.postMessage(0)}}var u=[];function _(){var f,m;o=!0;for(var d=u.length;d;){for(m=u,u=[],f=-1;++f<d;)m[f]();d=u.length}o=!1}s.exports=function(f){u.push(f)!==1||o||a()}}).call(this,typeof Pr<"u"?Pr:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(r,s,n){var i=r("immediate");function a(){}var o={},c=["REJECTED"],l=["FULFILLED"],p=["PENDING"];function h(d){if(typeof d!="function")throw new TypeError("resolver must be a function");this.state=p,this.queue=[],this.outcome=void 0,d!==a&&f(this,d)}function b(d,v,w){this.promise=d,typeof v=="function"&&(this.onFulfilled=v,this.callFulfilled=this.otherCallFulfilled),typeof w=="function"&&(this.onRejected=w,this.callRejected=this.otherCallRejected)}function u(d,v,w){i(function(){var k;try{k=v(w)}catch(E){return o.reject(d,E)}k===d?o.reject(d,new TypeError("Cannot resolve promise with itself")):o.resolve(d,k)})}function _(d){var v=d&&d.then;if(d&&(typeof d=="object"||typeof d=="function")&&typeof v=="function")return function(){v.apply(d,arguments)}}function f(d,v){var w=!1;function k(O){w||(w=!0,o.reject(d,O))}function E(O){w||(w=!0,o.resolve(d,O))}var C=m(function(){v(E,k)});C.status==="error"&&k(C.value)}function m(d,v){var w={};try{w.value=d(v),w.status="success"}catch(k){w.status="error",w.value=k}return w}(s.exports=h).prototype.finally=function(d){if(typeof d!="function")return this;var v=this.constructor;return this.then(function(w){return v.resolve(d()).then(function(){return w})},function(w){return v.resolve(d()).then(function(){throw w})})},h.prototype.catch=function(d){return this.then(null,d)},h.prototype.then=function(d,v){if(typeof d!="function"&&this.state===l||typeof v!="function"&&this.state===c)return this;var w=new this.constructor(a);return this.state!==p?u(w,this.state===l?d:v,this.outcome):this.queue.push(new b(w,d,v)),w},b.prototype.callFulfilled=function(d){o.resolve(this.promise,d)},b.prototype.otherCallFulfilled=function(d){u(this.promise,this.onFulfilled,d)},b.prototype.callRejected=function(d){o.reject(this.promise,d)},b.prototype.otherCallRejected=function(d){u(this.promise,this.onRejected,d)},o.resolve=function(d,v){var w=m(_,v);if(w.status==="error")return o.reject(d,w.value);var k=w.value;if(k)f(d,k);else{d.state=l,d.outcome=v;for(var E=-1,C=d.queue.length;++E<C;)d.queue[E].callFulfilled(v)}return d},o.reject=function(d,v){d.state=c,d.outcome=v;for(var w=-1,k=d.queue.length;++w<k;)d.queue[w].callRejected(v);return d},h.resolve=function(d){return d instanceof this?d:o.resolve(new this(a),d)},h.reject=function(d){var v=new this(a);return o.reject(v,d)},h.all=function(d){var v=this;if(Object.prototype.toString.call(d)!=="[object Array]")return this.reject(new TypeError("must be an array"));var w=d.length,k=!1;if(!w)return this.resolve([]);for(var E=new Array(w),C=0,O=-1,D=new this(a);++O<w;)j(d[O],O);return D;function j(Z,ie){v.resolve(Z).then(function(N){E[ie]=N,++C!==w||k||(k=!0,o.resolve(D,E))},function(N){k||(k=!0,o.reject(D,N))})}},h.race=function(d){var v=this;if(Object.prototype.toString.call(d)!=="[object Array]")return this.reject(new TypeError("must be an array"));var w=d.length,k=!1;if(!w)return this.resolve([]);for(var E=-1,C=new this(a);++E<w;)O=d[E],v.resolve(O).then(function(D){k||(k=!0,o.resolve(C,D))},function(D){k||(k=!0,o.reject(C,D))});var O;return C}},{immediate:36}],38:[function(r,s,n){var i={};(0,r("./lib/utils/common").assign)(i,r("./lib/deflate"),r("./lib/inflate"),r("./lib/zlib/constants")),s.exports=i},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(r,s,n){var i=r("./zlib/deflate"),a=r("./utils/common"),o=r("./utils/strings"),c=r("./zlib/messages"),l=r("./zlib/zstream"),p=Object.prototype.toString,h=0,b=-1,u=0,_=8;function f(d){if(!(this instanceof f))return new f(d);this.options=a.assign({level:b,method:_,chunkSize:16384,windowBits:15,memLevel:8,strategy:u,to:""},d||{});var v=this.options;v.raw&&0<v.windowBits?v.windowBits=-v.windowBits:v.gzip&&0<v.windowBits&&v.windowBits<16&&(v.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new l,this.strm.avail_out=0;var w=i.deflateInit2(this.strm,v.level,v.method,v.windowBits,v.memLevel,v.strategy);if(w!==h)throw new Error(c[w]);if(v.header&&i.deflateSetHeader(this.strm,v.header),v.dictionary){var k;if(k=typeof v.dictionary=="string"?o.string2buf(v.dictionary):p.call(v.dictionary)==="[object ArrayBuffer]"?new Uint8Array(v.dictionary):v.dictionary,(w=i.deflateSetDictionary(this.strm,k))!==h)throw new Error(c[w]);this._dict_set=!0}}function m(d,v){var w=new f(v);if(w.push(d,!0),w.err)throw w.msg||c[w.err];return w.result}f.prototype.push=function(d,v){var w,k,E=this.strm,C=this.options.chunkSize;if(this.ended)return!1;k=v===~~v?v:v===!0?4:0,typeof d=="string"?E.input=o.string2buf(d):p.call(d)==="[object ArrayBuffer]"?E.input=new Uint8Array(d):E.input=d,E.next_in=0,E.avail_in=E.input.length;do{if(E.avail_out===0&&(E.output=new a.Buf8(C),E.next_out=0,E.avail_out=C),(w=i.deflate(E,k))!==1&&w!==h)return this.onEnd(w),!(this.ended=!0);E.avail_out!==0&&(E.avail_in!==0||k!==4&&k!==2)||(this.options.to==="string"?this.onData(o.buf2binstring(a.shrinkBuf(E.output,E.next_out))):this.onData(a.shrinkBuf(E.output,E.next_out)))}while((0<E.avail_in||E.avail_out===0)&&w!==1);return k===4?(w=i.deflateEnd(this.strm),this.onEnd(w),this.ended=!0,w===h):k!==2||(this.onEnd(h),!(E.avail_out=0))},f.prototype.onData=function(d){this.chunks.push(d)},f.prototype.onEnd=function(d){d===h&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=a.flattenChunks(this.chunks)),this.chunks=[],this.err=d,this.msg=this.strm.msg},n.Deflate=f,n.deflate=m,n.deflateRaw=function(d,v){return(v=v||{}).raw=!0,m(d,v)},n.gzip=function(d,v){return(v=v||{}).gzip=!0,m(d,v)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(r,s,n){var i=r("./zlib/inflate"),a=r("./utils/common"),o=r("./utils/strings"),c=r("./zlib/constants"),l=r("./zlib/messages"),p=r("./zlib/zstream"),h=r("./zlib/gzheader"),b=Object.prototype.toString;function u(f){if(!(this instanceof u))return new u(f);this.options=a.assign({chunkSize:16384,windowBits:0,to:""},f||{});var m=this.options;m.raw&&0<=m.windowBits&&m.windowBits<16&&(m.windowBits=-m.windowBits,m.windowBits===0&&(m.windowBits=-15)),!(0<=m.windowBits&&m.windowBits<16)||f&&f.windowBits||(m.windowBits+=32),15<m.windowBits&&m.windowBits<48&&!(15&m.windowBits)&&(m.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new p,this.strm.avail_out=0;var d=i.inflateInit2(this.strm,m.windowBits);if(d!==c.Z_OK)throw new Error(l[d]);this.header=new h,i.inflateGetHeader(this.strm,this.header)}function _(f,m){var d=new u(m);if(d.push(f,!0),d.err)throw d.msg||l[d.err];return d.result}u.prototype.push=function(f,m){var d,v,w,k,E,C,O=this.strm,D=this.options.chunkSize,j=this.options.dictionary,Z=!1;if(this.ended)return!1;v=m===~~m?m:m===!0?c.Z_FINISH:c.Z_NO_FLUSH,typeof f=="string"?O.input=o.binstring2buf(f):b.call(f)==="[object ArrayBuffer]"?O.input=new Uint8Array(f):O.input=f,O.next_in=0,O.avail_in=O.input.length;do{if(O.avail_out===0&&(O.output=new a.Buf8(D),O.next_out=0,O.avail_out=D),(d=i.inflate(O,c.Z_NO_FLUSH))===c.Z_NEED_DICT&&j&&(C=typeof j=="string"?o.string2buf(j):b.call(j)==="[object ArrayBuffer]"?new Uint8Array(j):j,d=i.inflateSetDictionary(this.strm,C)),d===c.Z_BUF_ERROR&&Z===!0&&(d=c.Z_OK,Z=!1),d!==c.Z_STREAM_END&&d!==c.Z_OK)return this.onEnd(d),!(this.ended=!0);O.next_out&&(O.avail_out!==0&&d!==c.Z_STREAM_END&&(O.avail_in!==0||v!==c.Z_FINISH&&v!==c.Z_SYNC_FLUSH)||(this.options.to==="string"?(w=o.utf8border(O.output,O.next_out),k=O.next_out-w,E=o.buf2string(O.output,w),O.next_out=k,O.avail_out=D-k,k&&a.arraySet(O.output,O.output,w,k,0),this.onData(E)):this.onData(a.shrinkBuf(O.output,O.next_out)))),O.avail_in===0&&O.avail_out===0&&(Z=!0)}while((0<O.avail_in||O.avail_out===0)&&d!==c.Z_STREAM_END);return d===c.Z_STREAM_END&&(v=c.Z_FINISH),v===c.Z_FINISH?(d=i.inflateEnd(this.strm),this.onEnd(d),this.ended=!0,d===c.Z_OK):v!==c.Z_SYNC_FLUSH||(this.onEnd(c.Z_OK),!(O.avail_out=0))},u.prototype.onData=function(f){this.chunks.push(f)},u.prototype.onEnd=function(f){f===c.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=a.flattenChunks(this.chunks)),this.chunks=[],this.err=f,this.msg=this.strm.msg},n.Inflate=u,n.inflate=_,n.inflateRaw=function(f,m){return(m=m||{}).raw=!0,_(f,m)},n.ungzip=_},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(r,s,n){var i=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";n.assign=function(c){for(var l=Array.prototype.slice.call(arguments,1);l.length;){var p=l.shift();if(p){if(typeof p!="object")throw new TypeError(p+"must be non-object");for(var h in p)p.hasOwnProperty(h)&&(c[h]=p[h])}}return c},n.shrinkBuf=function(c,l){return c.length===l?c:c.subarray?c.subarray(0,l):(c.length=l,c)};var a={arraySet:function(c,l,p,h,b){if(l.subarray&&c.subarray)c.set(l.subarray(p,p+h),b);else for(var u=0;u<h;u++)c[b+u]=l[p+u]},flattenChunks:function(c){var l,p,h,b,u,_;for(l=h=0,p=c.length;l<p;l++)h+=c[l].length;for(_=new Uint8Array(h),l=b=0,p=c.length;l<p;l++)u=c[l],_.set(u,b),b+=u.length;return _}},o={arraySet:function(c,l,p,h,b){for(var u=0;u<h;u++)c[b+u]=l[p+u]},flattenChunks:function(c){return[].concat.apply([],c)}};n.setTyped=function(c){c?(n.Buf8=Uint8Array,n.Buf16=Uint16Array,n.Buf32=Int32Array,n.assign(n,a)):(n.Buf8=Array,n.Buf16=Array,n.Buf32=Array,n.assign(n,o))},n.setTyped(i)},{}],42:[function(r,s,n){var i=r("./common"),a=!0,o=!0;try{String.fromCharCode.apply(null,[0])}catch{a=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{o=!1}for(var c=new i.Buf8(256),l=0;l<256;l++)c[l]=252<=l?6:248<=l?5:240<=l?4:224<=l?3:192<=l?2:1;function p(h,b){if(b<65537&&(h.subarray&&o||!h.subarray&&a))return String.fromCharCode.apply(null,i.shrinkBuf(h,b));for(var u="",_=0;_<b;_++)u+=String.fromCharCode(h[_]);return u}c[254]=c[254]=1,n.string2buf=function(h){var b,u,_,f,m,d=h.length,v=0;for(f=0;f<d;f++)(64512&(u=h.charCodeAt(f)))==55296&&f+1<d&&(64512&(_=h.charCodeAt(f+1)))==56320&&(u=65536+(u-55296<<10)+(_-56320),f++),v+=u<128?1:u<2048?2:u<65536?3:4;for(b=new i.Buf8(v),f=m=0;m<v;f++)(64512&(u=h.charCodeAt(f)))==55296&&f+1<d&&(64512&(_=h.charCodeAt(f+1)))==56320&&(u=65536+(u-55296<<10)+(_-56320),f++),u<128?b[m++]=u:(u<2048?b[m++]=192|u>>>6:(u<65536?b[m++]=224|u>>>12:(b[m++]=240|u>>>18,b[m++]=128|u>>>12&63),b[m++]=128|u>>>6&63),b[m++]=128|63&u);return b},n.buf2binstring=function(h){return p(h,h.length)},n.binstring2buf=function(h){for(var b=new i.Buf8(h.length),u=0,_=b.length;u<_;u++)b[u]=h.charCodeAt(u);return b},n.buf2string=function(h,b){var u,_,f,m,d=b||h.length,v=new Array(2*d);for(u=_=0;u<d;)if((f=h[u++])<128)v[_++]=f;else if(4<(m=c[f]))v[_++]=65533,u+=m-1;else{for(f&=m===2?31:m===3?15:7;1<m&&u<d;)f=f<<6|63&h[u++],m--;1<m?v[_++]=65533:f<65536?v[_++]=f:(f-=65536,v[_++]=55296|f>>10&1023,v[_++]=56320|1023&f)}return p(v,_)},n.utf8border=function(h,b){var u;for((b=b||h.length)>h.length&&(b=h.length),u=b-1;0<=u&&(192&h[u])==128;)u--;return u<0||u===0?b:u+c[h[u]]>b?u:b}},{"./common":41}],43:[function(r,s,n){s.exports=function(i,a,o,c){for(var l=65535&i|0,p=i>>>16&65535|0,h=0;o!==0;){for(o-=h=2e3<o?2e3:o;p=p+(l=l+a[c++]|0)|0,--h;);l%=65521,p%=65521}return l|p<<16|0}},{}],44:[function(r,s,n){s.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(r,s,n){var i=function(){for(var a,o=[],c=0;c<256;c++){a=c;for(var l=0;l<8;l++)a=1&a?3988292384^a>>>1:a>>>1;o[c]=a}return o}();s.exports=function(a,o,c,l){var p=i,h=l+c;a^=-1;for(var b=l;b<h;b++)a=a>>>8^p[255&(a^o[b])];return-1^a}},{}],46:[function(r,s,n){var i,a=r("../utils/common"),o=r("./trees"),c=r("./adler32"),l=r("./crc32"),p=r("./messages"),h=0,b=4,u=0,_=-2,f=-1,m=4,d=2,v=8,w=9,k=286,E=30,C=19,O=2*k+1,D=15,j=3,Z=258,ie=Z+j+1,N=42,q=113,y=1,B=2,ae=3,Q=4;function pe(g,J){return g.msg=p[J],J}function ee(g){return(g<<1)-(4<g?9:0)}function G(g){for(var J=g.length;0<=--J;)g[J]=0}function A(g){var J=g.state,K=J.pending;K>g.avail_out&&(K=g.avail_out),K!==0&&(a.arraySet(g.output,J.pending_buf,J.pending_out,K,g.next_out),g.next_out+=K,J.pending_out+=K,g.total_out+=K,g.avail_out-=K,J.pending-=K,J.pending===0&&(J.pending_out=0))}function R(g,J){o._tr_flush_block(g,0<=g.block_start?g.block_start:-1,g.strstart-g.block_start,J),g.block_start=g.strstart,A(g.strm)}function U(g,J){g.pending_buf[g.pending++]=J}function $(g,J){g.pending_buf[g.pending++]=J>>>8&255,g.pending_buf[g.pending++]=255&J}function S(g,J){var K,T,I=g.max_chain_length,M=g.strstart,Y=g.prev_length,X=g.nice_match,V=g.strstart>g.w_size-ie?g.strstart-(g.w_size-ie):0,te=g.window,le=g.w_mask,ne=g.prev,fe=g.strstart+Z,Te=te[M+Y-1],Ee=te[M+Y];g.prev_length>=g.good_match&&(I>>=2),X>g.lookahead&&(X=g.lookahead);do if(te[(K=J)+Y]===Ee&&te[K+Y-1]===Te&&te[K]===te[M]&&te[++K]===te[M+1]){M+=2,K++;do;while(te[++M]===te[++K]&&te[++M]===te[++K]&&te[++M]===te[++K]&&te[++M]===te[++K]&&te[++M]===te[++K]&&te[++M]===te[++K]&&te[++M]===te[++K]&&te[++M]===te[++K]&&M<fe);if(T=Z-(fe-M),M=fe-Z,Y<T){if(g.match_start=J,X<=(Y=T))break;Te=te[M+Y-1],Ee=te[M+Y]}}while((J=ne[J&le])>V&&--I!=0);return Y<=g.lookahead?Y:g.lookahead}function x(g){var J,K,T,I,M,Y,X,V,te,le,ne=g.w_size;do{if(I=g.window_size-g.lookahead-g.strstart,g.strstart>=ne+(ne-ie)){for(a.arraySet(g.window,g.window,ne,ne,0),g.match_start-=ne,g.strstart-=ne,g.block_start-=ne,J=K=g.hash_size;T=g.head[--J],g.head[J]=ne<=T?T-ne:0,--K;);for(J=K=ne;T=g.prev[--J],g.prev[J]=ne<=T?T-ne:0,--K;);I+=ne}if(g.strm.avail_in===0)break;if(Y=g.strm,X=g.window,V=g.strstart+g.lookahead,te=I,le=void 0,le=Y.avail_in,te<le&&(le=te),K=le===0?0:(Y.avail_in-=le,a.arraySet(X,Y.input,Y.next_in,le,V),Y.state.wrap===1?Y.adler=c(Y.adler,X,le,V):Y.state.wrap===2&&(Y.adler=l(Y.adler,X,le,V)),Y.next_in+=le,Y.total_in+=le,le),g.lookahead+=K,g.lookahead+g.insert>=j)for(M=g.strstart-g.insert,g.ins_h=g.window[M],g.ins_h=(g.ins_h<<g.hash_shift^g.window[M+1])&g.hash_mask;g.insert&&(g.ins_h=(g.ins_h<<g.hash_shift^g.window[M+j-1])&g.hash_mask,g.prev[M&g.w_mask]=g.head[g.ins_h],g.head[g.ins_h]=M,M++,g.insert--,!(g.lookahead+g.insert<j)););}while(g.lookahead<ie&&g.strm.avail_in!==0)}function se(g,J){for(var K,T;;){if(g.lookahead<ie){if(x(g),g.lookahead<ie&&J===h)return y;if(g.lookahead===0)break}if(K=0,g.lookahead>=j&&(g.ins_h=(g.ins_h<<g.hash_shift^g.window[g.strstart+j-1])&g.hash_mask,K=g.prev[g.strstart&g.w_mask]=g.head[g.ins_h],g.head[g.ins_h]=g.strstart),K!==0&&g.strstart-K<=g.w_size-ie&&(g.match_length=S(g,K)),g.match_length>=j)if(T=o._tr_tally(g,g.strstart-g.match_start,g.match_length-j),g.lookahead-=g.match_length,g.match_length<=g.max_lazy_match&&g.lookahead>=j){for(g.match_length--;g.strstart++,g.ins_h=(g.ins_h<<g.hash_shift^g.window[g.strstart+j-1])&g.hash_mask,K=g.prev[g.strstart&g.w_mask]=g.head[g.ins_h],g.head[g.ins_h]=g.strstart,--g.match_length!=0;);g.strstart++}else g.strstart+=g.match_length,g.match_length=0,g.ins_h=g.window[g.strstart],g.ins_h=(g.ins_h<<g.hash_shift^g.window[g.strstart+1])&g.hash_mask;else T=o._tr_tally(g,0,g.window[g.strstart]),g.lookahead--,g.strstart++;if(T&&(R(g,!1),g.strm.avail_out===0))return y}return g.insert=g.strstart<j-1?g.strstart:j-1,J===b?(R(g,!0),g.strm.avail_out===0?ae:Q):g.last_lit&&(R(g,!1),g.strm.avail_out===0)?y:B}function re(g,J){for(var K,T,I;;){if(g.lookahead<ie){if(x(g),g.lookahead<ie&&J===h)return y;if(g.lookahead===0)break}if(K=0,g.lookahead>=j&&(g.ins_h=(g.ins_h<<g.hash_shift^g.window[g.strstart+j-1])&g.hash_mask,K=g.prev[g.strstart&g.w_mask]=g.head[g.ins_h],g.head[g.ins_h]=g.strstart),g.prev_length=g.match_length,g.prev_match=g.match_start,g.match_length=j-1,K!==0&&g.prev_length<g.max_lazy_match&&g.strstart-K<=g.w_size-ie&&(g.match_length=S(g,K),g.match_length<=5&&(g.strategy===1||g.match_length===j&&4096<g.strstart-g.match_start)&&(g.match_length=j-1)),g.prev_length>=j&&g.match_length<=g.prev_length){for(I=g.strstart+g.lookahead-j,T=o._tr_tally(g,g.strstart-1-g.prev_match,g.prev_length-j),g.lookahead-=g.prev_length-1,g.prev_length-=2;++g.strstart<=I&&(g.ins_h=(g.ins_h<<g.hash_shift^g.window[g.strstart+j-1])&g.hash_mask,K=g.prev[g.strstart&g.w_mask]=g.head[g.ins_h],g.head[g.ins_h]=g.strstart),--g.prev_length!=0;);if(g.match_available=0,g.match_length=j-1,g.strstart++,T&&(R(g,!1),g.strm.avail_out===0))return y}else if(g.match_available){if((T=o._tr_tally(g,0,g.window[g.strstart-1]))&&R(g,!1),g.strstart++,g.lookahead--,g.strm.avail_out===0)return y}else g.match_available=1,g.strstart++,g.lookahead--}return g.match_available&&(T=o._tr_tally(g,0,g.window[g.strstart-1]),g.match_available=0),g.insert=g.strstart<j-1?g.strstart:j-1,J===b?(R(g,!0),g.strm.avail_out===0?ae:Q):g.last_lit&&(R(g,!1),g.strm.avail_out===0)?y:B}function ue(g,J,K,T,I){this.good_length=g,this.max_lazy=J,this.nice_length=K,this.max_chain=T,this.func=I}function _e(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=v,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new a.Buf16(2*O),this.dyn_dtree=new a.Buf16(2*(2*E+1)),this.bl_tree=new a.Buf16(2*(2*C+1)),G(this.dyn_ltree),G(this.dyn_dtree),G(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new a.Buf16(D+1),this.heap=new a.Buf16(2*k+1),G(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new a.Buf16(2*k+1),G(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function $e(g){var J;return g&&g.state?(g.total_in=g.total_out=0,g.data_type=d,(J=g.state).pending=0,J.pending_out=0,J.wrap<0&&(J.wrap=-J.wrap),J.status=J.wrap?N:q,g.adler=J.wrap===2?0:1,J.last_flush=h,o._tr_init(J),u):pe(g,_)}function Ve(g){var J=$e(g);return J===u&&function(K){K.window_size=2*K.w_size,G(K.head),K.max_lazy_match=i[K.level].max_lazy,K.good_match=i[K.level].good_length,K.nice_match=i[K.level].nice_length,K.max_chain_length=i[K.level].max_chain,K.strstart=0,K.block_start=0,K.lookahead=0,K.insert=0,K.match_length=K.prev_length=j-1,K.match_available=0,K.ins_h=0}(g.state),J}function We(g,J,K,T,I,M){if(!g)return _;var Y=1;if(J===f&&(J=6),T<0?(Y=0,T=-T):15<T&&(Y=2,T-=16),I<1||w<I||K!==v||T<8||15<T||J<0||9<J||M<0||m<M)return pe(g,_);T===8&&(T=9);var X=new _e;return(g.state=X).strm=g,X.wrap=Y,X.gzhead=null,X.w_bits=T,X.w_size=1<<X.w_bits,X.w_mask=X.w_size-1,X.hash_bits=I+7,X.hash_size=1<<X.hash_bits,X.hash_mask=X.hash_size-1,X.hash_shift=~~((X.hash_bits+j-1)/j),X.window=new a.Buf8(2*X.w_size),X.head=new a.Buf16(X.hash_size),X.prev=new a.Buf16(X.w_size),X.lit_bufsize=1<<I+6,X.pending_buf_size=4*X.lit_bufsize,X.pending_buf=new a.Buf8(X.pending_buf_size),X.d_buf=1*X.lit_bufsize,X.l_buf=3*X.lit_bufsize,X.level=J,X.strategy=M,X.method=K,Ve(g)}i=[new ue(0,0,0,0,function(g,J){var K=65535;for(K>g.pending_buf_size-5&&(K=g.pending_buf_size-5);;){if(g.lookahead<=1){if(x(g),g.lookahead===0&&J===h)return y;if(g.lookahead===0)break}g.strstart+=g.lookahead,g.lookahead=0;var T=g.block_start+K;if((g.strstart===0||g.strstart>=T)&&(g.lookahead=g.strstart-T,g.strstart=T,R(g,!1),g.strm.avail_out===0)||g.strstart-g.block_start>=g.w_size-ie&&(R(g,!1),g.strm.avail_out===0))return y}return g.insert=0,J===b?(R(g,!0),g.strm.avail_out===0?ae:Q):(g.strstart>g.block_start&&(R(g,!1),g.strm.avail_out),y)}),new ue(4,4,8,4,se),new ue(4,5,16,8,se),new ue(4,6,32,32,se),new ue(4,4,16,16,re),new ue(8,16,32,32,re),new ue(8,16,128,128,re),new ue(8,32,128,256,re),new ue(32,128,258,1024,re),new ue(32,258,258,4096,re)],n.deflateInit=function(g,J){return We(g,J,v,15,8,0)},n.deflateInit2=We,n.deflateReset=Ve,n.deflateResetKeep=$e,n.deflateSetHeader=function(g,J){return g&&g.state?g.state.wrap!==2?_:(g.state.gzhead=J,u):_},n.deflate=function(g,J){var K,T,I,M;if(!g||!g.state||5<J||J<0)return g?pe(g,_):_;if(T=g.state,!g.output||!g.input&&g.avail_in!==0||T.status===666&&J!==b)return pe(g,g.avail_out===0?-5:_);if(T.strm=g,K=T.last_flush,T.last_flush=J,T.status===N)if(T.wrap===2)g.adler=0,U(T,31),U(T,139),U(T,8),T.gzhead?(U(T,(T.gzhead.text?1:0)+(T.gzhead.hcrc?2:0)+(T.gzhead.extra?4:0)+(T.gzhead.name?8:0)+(T.gzhead.comment?16:0)),U(T,255&T.gzhead.time),U(T,T.gzhead.time>>8&255),U(T,T.gzhead.time>>16&255),U(T,T.gzhead.time>>24&255),U(T,T.level===9?2:2<=T.strategy||T.level<2?4:0),U(T,255&T.gzhead.os),T.gzhead.extra&&T.gzhead.extra.length&&(U(T,255&T.gzhead.extra.length),U(T,T.gzhead.extra.length>>8&255)),T.gzhead.hcrc&&(g.adler=l(g.adler,T.pending_buf,T.pending,0)),T.gzindex=0,T.status=69):(U(T,0),U(T,0),U(T,0),U(T,0),U(T,0),U(T,T.level===9?2:2<=T.strategy||T.level<2?4:0),U(T,3),T.status=q);else{var Y=v+(T.w_bits-8<<4)<<8;Y|=(2<=T.strategy||T.level<2?0:T.level<6?1:T.level===6?2:3)<<6,T.strstart!==0&&(Y|=32),Y+=31-Y%31,T.status=q,$(T,Y),T.strstart!==0&&($(T,g.adler>>>16),$(T,65535&g.adler)),g.adler=1}if(T.status===69)if(T.gzhead.extra){for(I=T.pending;T.gzindex<(65535&T.gzhead.extra.length)&&(T.pending!==T.pending_buf_size||(T.gzhead.hcrc&&T.pending>I&&(g.adler=l(g.adler,T.pending_buf,T.pending-I,I)),A(g),I=T.pending,T.pending!==T.pending_buf_size));)U(T,255&T.gzhead.extra[T.gzindex]),T.gzindex++;T.gzhead.hcrc&&T.pending>I&&(g.adler=l(g.adler,T.pending_buf,T.pending-I,I)),T.gzindex===T.gzhead.extra.length&&(T.gzindex=0,T.status=73)}else T.status=73;if(T.status===73)if(T.gzhead.name){I=T.pending;do{if(T.pending===T.pending_buf_size&&(T.gzhead.hcrc&&T.pending>I&&(g.adler=l(g.adler,T.pending_buf,T.pending-I,I)),A(g),I=T.pending,T.pending===T.pending_buf_size)){M=1;break}M=T.gzindex<T.gzhead.name.length?255&T.gzhead.name.charCodeAt(T.gzindex++):0,U(T,M)}while(M!==0);T.gzhead.hcrc&&T.pending>I&&(g.adler=l(g.adler,T.pending_buf,T.pending-I,I)),M===0&&(T.gzindex=0,T.status=91)}else T.status=91;if(T.status===91)if(T.gzhead.comment){I=T.pending;do{if(T.pending===T.pending_buf_size&&(T.gzhead.hcrc&&T.pending>I&&(g.adler=l(g.adler,T.pending_buf,T.pending-I,I)),A(g),I=T.pending,T.pending===T.pending_buf_size)){M=1;break}M=T.gzindex<T.gzhead.comment.length?255&T.gzhead.comment.charCodeAt(T.gzindex++):0,U(T,M)}while(M!==0);T.gzhead.hcrc&&T.pending>I&&(g.adler=l(g.adler,T.pending_buf,T.pending-I,I)),M===0&&(T.status=103)}else T.status=103;if(T.status===103&&(T.gzhead.hcrc?(T.pending+2>T.pending_buf_size&&A(g),T.pending+2<=T.pending_buf_size&&(U(T,255&g.adler),U(T,g.adler>>8&255),g.adler=0,T.status=q)):T.status=q),T.pending!==0){if(A(g),g.avail_out===0)return T.last_flush=-1,u}else if(g.avail_in===0&&ee(J)<=ee(K)&&J!==b)return pe(g,-5);if(T.status===666&&g.avail_in!==0)return pe(g,-5);if(g.avail_in!==0||T.lookahead!==0||J!==h&&T.status!==666){var X=T.strategy===2?function(V,te){for(var le;;){if(V.lookahead===0&&(x(V),V.lookahead===0)){if(te===h)return y;break}if(V.match_length=0,le=o._tr_tally(V,0,V.window[V.strstart]),V.lookahead--,V.strstart++,le&&(R(V,!1),V.strm.avail_out===0))return y}return V.insert=0,te===b?(R(V,!0),V.strm.avail_out===0?ae:Q):V.last_lit&&(R(V,!1),V.strm.avail_out===0)?y:B}(T,J):T.strategy===3?function(V,te){for(var le,ne,fe,Te,Ee=V.window;;){if(V.lookahead<=Z){if(x(V),V.lookahead<=Z&&te===h)return y;if(V.lookahead===0)break}if(V.match_length=0,V.lookahead>=j&&0<V.strstart&&(ne=Ee[fe=V.strstart-1])===Ee[++fe]&&ne===Ee[++fe]&&ne===Ee[++fe]){Te=V.strstart+Z;do;while(ne===Ee[++fe]&&ne===Ee[++fe]&&ne===Ee[++fe]&&ne===Ee[++fe]&&ne===Ee[++fe]&&ne===Ee[++fe]&&ne===Ee[++fe]&&ne===Ee[++fe]&&fe<Te);V.match_length=Z-(Te-fe),V.match_length>V.lookahead&&(V.match_length=V.lookahead)}if(V.match_length>=j?(le=o._tr_tally(V,1,V.match_length-j),V.lookahead-=V.match_length,V.strstart+=V.match_length,V.match_length=0):(le=o._tr_tally(V,0,V.window[V.strstart]),V.lookahead--,V.strstart++),le&&(R(V,!1),V.strm.avail_out===0))return y}return V.insert=0,te===b?(R(V,!0),V.strm.avail_out===0?ae:Q):V.last_lit&&(R(V,!1),V.strm.avail_out===0)?y:B}(T,J):i[T.level].func(T,J);if(X!==ae&&X!==Q||(T.status=666),X===y||X===ae)return g.avail_out===0&&(T.last_flush=-1),u;if(X===B&&(J===1?o._tr_align(T):J!==5&&(o._tr_stored_block(T,0,0,!1),J===3&&(G(T.head),T.lookahead===0&&(T.strstart=0,T.block_start=0,T.insert=0))),A(g),g.avail_out===0))return T.last_flush=-1,u}return J!==b?u:T.wrap<=0?1:(T.wrap===2?(U(T,255&g.adler),U(T,g.adler>>8&255),U(T,g.adler>>16&255),U(T,g.adler>>24&255),U(T,255&g.total_in),U(T,g.total_in>>8&255),U(T,g.total_in>>16&255),U(T,g.total_in>>24&255)):($(T,g.adler>>>16),$(T,65535&g.adler)),A(g),0<T.wrap&&(T.wrap=-T.wrap),T.pending!==0?u:1)},n.deflateEnd=function(g){var J;return g&&g.state?(J=g.state.status)!==N&&J!==69&&J!==73&&J!==91&&J!==103&&J!==q&&J!==666?pe(g,_):(g.state=null,J===q?pe(g,-3):u):_},n.deflateSetDictionary=function(g,J){var K,T,I,M,Y,X,V,te,le=J.length;if(!g||!g.state||(M=(K=g.state).wrap)===2||M===1&&K.status!==N||K.lookahead)return _;for(M===1&&(g.adler=c(g.adler,J,le,0)),K.wrap=0,le>=K.w_size&&(M===0&&(G(K.head),K.strstart=0,K.block_start=0,K.insert=0),te=new a.Buf8(K.w_size),a.arraySet(te,J,le-K.w_size,K.w_size,0),J=te,le=K.w_size),Y=g.avail_in,X=g.next_in,V=g.input,g.avail_in=le,g.next_in=0,g.input=J,x(K);K.lookahead>=j;){for(T=K.strstart,I=K.lookahead-(j-1);K.ins_h=(K.ins_h<<K.hash_shift^K.window[T+j-1])&K.hash_mask,K.prev[T&K.w_mask]=K.head[K.ins_h],K.head[K.ins_h]=T,T++,--I;);K.strstart=T,K.lookahead=j-1,x(K)}return K.strstart+=K.lookahead,K.block_start=K.strstart,K.insert=K.lookahead,K.lookahead=0,K.match_length=K.prev_length=j-1,K.match_available=0,g.next_in=X,g.input=V,g.avail_in=Y,K.wrap=M,u},n.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(r,s,n){s.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(r,s,n){s.exports=function(i,a){var o,c,l,p,h,b,u,_,f,m,d,v,w,k,E,C,O,D,j,Z,ie,N,q,y,B;o=i.state,c=i.next_in,y=i.input,l=c+(i.avail_in-5),p=i.next_out,B=i.output,h=p-(a-i.avail_out),b=p+(i.avail_out-257),u=o.dmax,_=o.wsize,f=o.whave,m=o.wnext,d=o.window,v=o.hold,w=o.bits,k=o.lencode,E=o.distcode,C=(1<<o.lenbits)-1,O=(1<<o.distbits)-1;e:do{w<15&&(v+=y[c++]<<w,w+=8,v+=y[c++]<<w,w+=8),D=k[v&C];t:for(;;){if(v>>>=j=D>>>24,w-=j,(j=D>>>16&255)===0)B[p++]=65535&D;else{if(!(16&j)){if(!(64&j)){D=k[(65535&D)+(v&(1<<j)-1)];continue t}if(32&j){o.mode=12;break e}i.msg="invalid literal/length code",o.mode=30;break e}Z=65535&D,(j&=15)&&(w<j&&(v+=y[c++]<<w,w+=8),Z+=v&(1<<j)-1,v>>>=j,w-=j),w<15&&(v+=y[c++]<<w,w+=8,v+=y[c++]<<w,w+=8),D=E[v&O];r:for(;;){if(v>>>=j=D>>>24,w-=j,!(16&(j=D>>>16&255))){if(!(64&j)){D=E[(65535&D)+(v&(1<<j)-1)];continue r}i.msg="invalid distance code",o.mode=30;break e}if(ie=65535&D,w<(j&=15)&&(v+=y[c++]<<w,(w+=8)<j&&(v+=y[c++]<<w,w+=8)),u<(ie+=v&(1<<j)-1)){i.msg="invalid distance too far back",o.mode=30;break e}if(v>>>=j,w-=j,(j=p-h)<ie){if(f<(j=ie-j)&&o.sane){i.msg="invalid distance too far back",o.mode=30;break e}if(q=d,(N=0)===m){if(N+=_-j,j<Z){for(Z-=j;B[p++]=d[N++],--j;);N=p-ie,q=B}}else if(m<j){if(N+=_+m-j,(j-=m)<Z){for(Z-=j;B[p++]=d[N++],--j;);if(N=0,m<Z){for(Z-=j=m;B[p++]=d[N++],--j;);N=p-ie,q=B}}}else if(N+=m-j,j<Z){for(Z-=j;B[p++]=d[N++],--j;);N=p-ie,q=B}for(;2<Z;)B[p++]=q[N++],B[p++]=q[N++],B[p++]=q[N++],Z-=3;Z&&(B[p++]=q[N++],1<Z&&(B[p++]=q[N++]))}else{for(N=p-ie;B[p++]=B[N++],B[p++]=B[N++],B[p++]=B[N++],2<(Z-=3););Z&&(B[p++]=B[N++],1<Z&&(B[p++]=B[N++]))}break}}break}}while(c<l&&p<b);c-=Z=w>>3,v&=(1<<(w-=Z<<3))-1,i.next_in=c,i.next_out=p,i.avail_in=c<l?l-c+5:5-(c-l),i.avail_out=p<b?b-p+257:257-(p-b),o.hold=v,o.bits=w}},{}],49:[function(r,s,n){var i=r("../utils/common"),a=r("./adler32"),o=r("./crc32"),c=r("./inffast"),l=r("./inftrees"),p=1,h=2,b=0,u=-2,_=1,f=852,m=592;function d(N){return(N>>>24&255)+(N>>>8&65280)+((65280&N)<<8)+((255&N)<<24)}function v(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new i.Buf16(320),this.work=new i.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function w(N){var q;return N&&N.state?(q=N.state,N.total_in=N.total_out=q.total=0,N.msg="",q.wrap&&(N.adler=1&q.wrap),q.mode=_,q.last=0,q.havedict=0,q.dmax=32768,q.head=null,q.hold=0,q.bits=0,q.lencode=q.lendyn=new i.Buf32(f),q.distcode=q.distdyn=new i.Buf32(m),q.sane=1,q.back=-1,b):u}function k(N){var q;return N&&N.state?((q=N.state).wsize=0,q.whave=0,q.wnext=0,w(N)):u}function E(N,q){var y,B;return N&&N.state?(B=N.state,q<0?(y=0,q=-q):(y=1+(q>>4),q<48&&(q&=15)),q&&(q<8||15<q)?u:(B.window!==null&&B.wbits!==q&&(B.window=null),B.wrap=y,B.wbits=q,k(N))):u}function C(N,q){var y,B;return N?(B=new v,(N.state=B).window=null,(y=E(N,q))!==b&&(N.state=null),y):u}var O,D,j=!0;function Z(N){if(j){var q;for(O=new i.Buf32(512),D=new i.Buf32(32),q=0;q<144;)N.lens[q++]=8;for(;q<256;)N.lens[q++]=9;for(;q<280;)N.lens[q++]=7;for(;q<288;)N.lens[q++]=8;for(l(p,N.lens,0,288,O,0,N.work,{bits:9}),q=0;q<32;)N.lens[q++]=5;l(h,N.lens,0,32,D,0,N.work,{bits:5}),j=!1}N.lencode=O,N.lenbits=9,N.distcode=D,N.distbits=5}function ie(N,q,y,B){var ae,Q=N.state;return Q.window===null&&(Q.wsize=1<<Q.wbits,Q.wnext=0,Q.whave=0,Q.window=new i.Buf8(Q.wsize)),B>=Q.wsize?(i.arraySet(Q.window,q,y-Q.wsize,Q.wsize,0),Q.wnext=0,Q.whave=Q.wsize):(B<(ae=Q.wsize-Q.wnext)&&(ae=B),i.arraySet(Q.window,q,y-B,ae,Q.wnext),(B-=ae)?(i.arraySet(Q.window,q,y-B,B,0),Q.wnext=B,Q.whave=Q.wsize):(Q.wnext+=ae,Q.wnext===Q.wsize&&(Q.wnext=0),Q.whave<Q.wsize&&(Q.whave+=ae))),0}n.inflateReset=k,n.inflateReset2=E,n.inflateResetKeep=w,n.inflateInit=function(N){return C(N,15)},n.inflateInit2=C,n.inflate=function(N,q){var y,B,ae,Q,pe,ee,G,A,R,U,$,S,x,se,re,ue,_e,$e,Ve,We,g,J,K,T,I=0,M=new i.Buf8(4),Y=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!N||!N.state||!N.output||!N.input&&N.avail_in!==0)return u;(y=N.state).mode===12&&(y.mode=13),pe=N.next_out,ae=N.output,G=N.avail_out,Q=N.next_in,B=N.input,ee=N.avail_in,A=y.hold,R=y.bits,U=ee,$=G,J=b;e:for(;;)switch(y.mode){case _:if(y.wrap===0){y.mode=13;break}for(;R<16;){if(ee===0)break e;ee--,A+=B[Q++]<<R,R+=8}if(2&y.wrap&&A===35615){M[y.check=0]=255&A,M[1]=A>>>8&255,y.check=o(y.check,M,2,0),R=A=0,y.mode=2;break}if(y.flags=0,y.head&&(y.head.done=!1),!(1&y.wrap)||(((255&A)<<8)+(A>>8))%31){N.msg="incorrect header check",y.mode=30;break}if((15&A)!=8){N.msg="unknown compression method",y.mode=30;break}if(R-=4,g=8+(15&(A>>>=4)),y.wbits===0)y.wbits=g;else if(g>y.wbits){N.msg="invalid window size",y.mode=30;break}y.dmax=1<<g,N.adler=y.check=1,y.mode=512&A?10:12,R=A=0;break;case 2:for(;R<16;){if(ee===0)break e;ee--,A+=B[Q++]<<R,R+=8}if(y.flags=A,(255&y.flags)!=8){N.msg="unknown compression method",y.mode=30;break}if(57344&y.flags){N.msg="unknown header flags set",y.mode=30;break}y.head&&(y.head.text=A>>8&1),512&y.flags&&(M[0]=255&A,M[1]=A>>>8&255,y.check=o(y.check,M,2,0)),R=A=0,y.mode=3;case 3:for(;R<32;){if(ee===0)break e;ee--,A+=B[Q++]<<R,R+=8}y.head&&(y.head.time=A),512&y.flags&&(M[0]=255&A,M[1]=A>>>8&255,M[2]=A>>>16&255,M[3]=A>>>24&255,y.check=o(y.check,M,4,0)),R=A=0,y.mode=4;case 4:for(;R<16;){if(ee===0)break e;ee--,A+=B[Q++]<<R,R+=8}y.head&&(y.head.xflags=255&A,y.head.os=A>>8),512&y.flags&&(M[0]=255&A,M[1]=A>>>8&255,y.check=o(y.check,M,2,0)),R=A=0,y.mode=5;case 5:if(1024&y.flags){for(;R<16;){if(ee===0)break e;ee--,A+=B[Q++]<<R,R+=8}y.length=A,y.head&&(y.head.extra_len=A),512&y.flags&&(M[0]=255&A,M[1]=A>>>8&255,y.check=o(y.check,M,2,0)),R=A=0}else y.head&&(y.head.extra=null);y.mode=6;case 6:if(1024&y.flags&&(ee<(S=y.length)&&(S=ee),S&&(y.head&&(g=y.head.extra_len-y.length,y.head.extra||(y.head.extra=new Array(y.head.extra_len)),i.arraySet(y.head.extra,B,Q,S,g)),512&y.flags&&(y.check=o(y.check,B,S,Q)),ee-=S,Q+=S,y.length-=S),y.length))break e;y.length=0,y.mode=7;case 7:if(2048&y.flags){if(ee===0)break e;for(S=0;g=B[Q+S++],y.head&&g&&y.length<65536&&(y.head.name+=String.fromCharCode(g)),g&&S<ee;);if(512&y.flags&&(y.check=o(y.check,B,S,Q)),ee-=S,Q+=S,g)break e}else y.head&&(y.head.name=null);y.length=0,y.mode=8;case 8:if(4096&y.flags){if(ee===0)break e;for(S=0;g=B[Q+S++],y.head&&g&&y.length<65536&&(y.head.comment+=String.fromCharCode(g)),g&&S<ee;);if(512&y.flags&&(y.check=o(y.check,B,S,Q)),ee-=S,Q+=S,g)break e}else y.head&&(y.head.comment=null);y.mode=9;case 9:if(512&y.flags){for(;R<16;){if(ee===0)break e;ee--,A+=B[Q++]<<R,R+=8}if(A!==(65535&y.check)){N.msg="header crc mismatch",y.mode=30;break}R=A=0}y.head&&(y.head.hcrc=y.flags>>9&1,y.head.done=!0),N.adler=y.check=0,y.mode=12;break;case 10:for(;R<32;){if(ee===0)break e;ee--,A+=B[Q++]<<R,R+=8}N.adler=y.check=d(A),R=A=0,y.mode=11;case 11:if(y.havedict===0)return N.next_out=pe,N.avail_out=G,N.next_in=Q,N.avail_in=ee,y.hold=A,y.bits=R,2;N.adler=y.check=1,y.mode=12;case 12:if(q===5||q===6)break e;case 13:if(y.last){A>>>=7&R,R-=7&R,y.mode=27;break}for(;R<3;){if(ee===0)break e;ee--,A+=B[Q++]<<R,R+=8}switch(y.last=1&A,R-=1,3&(A>>>=1)){case 0:y.mode=14;break;case 1:if(Z(y),y.mode=20,q!==6)break;A>>>=2,R-=2;break e;case 2:y.mode=17;break;case 3:N.msg="invalid block type",y.mode=30}A>>>=2,R-=2;break;case 14:for(A>>>=7&R,R-=7&R;R<32;){if(ee===0)break e;ee--,A+=B[Q++]<<R,R+=8}if((65535&A)!=(A>>>16^65535)){N.msg="invalid stored block lengths",y.mode=30;break}if(y.length=65535&A,R=A=0,y.mode=15,q===6)break e;case 15:y.mode=16;case 16:if(S=y.length){if(ee<S&&(S=ee),G<S&&(S=G),S===0)break e;i.arraySet(ae,B,Q,S,pe),ee-=S,Q+=S,G-=S,pe+=S,y.length-=S;break}y.mode=12;break;case 17:for(;R<14;){if(ee===0)break e;ee--,A+=B[Q++]<<R,R+=8}if(y.nlen=257+(31&A),A>>>=5,R-=5,y.ndist=1+(31&A),A>>>=5,R-=5,y.ncode=4+(15&A),A>>>=4,R-=4,286<y.nlen||30<y.ndist){N.msg="too many length or distance symbols",y.mode=30;break}y.have=0,y.mode=18;case 18:for(;y.have<y.ncode;){for(;R<3;){if(ee===0)break e;ee--,A+=B[Q++]<<R,R+=8}y.lens[Y[y.have++]]=7&A,A>>>=3,R-=3}for(;y.have<19;)y.lens[Y[y.have++]]=0;if(y.lencode=y.lendyn,y.lenbits=7,K={bits:y.lenbits},J=l(0,y.lens,0,19,y.lencode,0,y.work,K),y.lenbits=K.bits,J){N.msg="invalid code lengths set",y.mode=30;break}y.have=0,y.mode=19;case 19:for(;y.have<y.nlen+y.ndist;){for(;ue=(I=y.lencode[A&(1<<y.lenbits)-1])>>>16&255,_e=65535&I,!((re=I>>>24)<=R);){if(ee===0)break e;ee--,A+=B[Q++]<<R,R+=8}if(_e<16)A>>>=re,R-=re,y.lens[y.have++]=_e;else{if(_e===16){for(T=re+2;R<T;){if(ee===0)break e;ee--,A+=B[Q++]<<R,R+=8}if(A>>>=re,R-=re,y.have===0){N.msg="invalid bit length repeat",y.mode=30;break}g=y.lens[y.have-1],S=3+(3&A),A>>>=2,R-=2}else if(_e===17){for(T=re+3;R<T;){if(ee===0)break e;ee--,A+=B[Q++]<<R,R+=8}R-=re,g=0,S=3+(7&(A>>>=re)),A>>>=3,R-=3}else{for(T=re+7;R<T;){if(ee===0)break e;ee--,A+=B[Q++]<<R,R+=8}R-=re,g=0,S=11+(127&(A>>>=re)),A>>>=7,R-=7}if(y.have+S>y.nlen+y.ndist){N.msg="invalid bit length repeat",y.mode=30;break}for(;S--;)y.lens[y.have++]=g}}if(y.mode===30)break;if(y.lens[256]===0){N.msg="invalid code -- missing end-of-block",y.mode=30;break}if(y.lenbits=9,K={bits:y.lenbits},J=l(p,y.lens,0,y.nlen,y.lencode,0,y.work,K),y.lenbits=K.bits,J){N.msg="invalid literal/lengths set",y.mode=30;break}if(y.distbits=6,y.distcode=y.distdyn,K={bits:y.distbits},J=l(h,y.lens,y.nlen,y.ndist,y.distcode,0,y.work,K),y.distbits=K.bits,J){N.msg="invalid distances set",y.mode=30;break}if(y.mode=20,q===6)break e;case 20:y.mode=21;case 21:if(6<=ee&&258<=G){N.next_out=pe,N.avail_out=G,N.next_in=Q,N.avail_in=ee,y.hold=A,y.bits=R,c(N,$),pe=N.next_out,ae=N.output,G=N.avail_out,Q=N.next_in,B=N.input,ee=N.avail_in,A=y.hold,R=y.bits,y.mode===12&&(y.back=-1);break}for(y.back=0;ue=(I=y.lencode[A&(1<<y.lenbits)-1])>>>16&255,_e=65535&I,!((re=I>>>24)<=R);){if(ee===0)break e;ee--,A+=B[Q++]<<R,R+=8}if(ue&&!(240&ue)){for($e=re,Ve=ue,We=_e;ue=(I=y.lencode[We+((A&(1<<$e+Ve)-1)>>$e)])>>>16&255,_e=65535&I,!($e+(re=I>>>24)<=R);){if(ee===0)break e;ee--,A+=B[Q++]<<R,R+=8}A>>>=$e,R-=$e,y.back+=$e}if(A>>>=re,R-=re,y.back+=re,y.length=_e,ue===0){y.mode=26;break}if(32&ue){y.back=-1,y.mode=12;break}if(64&ue){N.msg="invalid literal/length code",y.mode=30;break}y.extra=15&ue,y.mode=22;case 22:if(y.extra){for(T=y.extra;R<T;){if(ee===0)break e;ee--,A+=B[Q++]<<R,R+=8}y.length+=A&(1<<y.extra)-1,A>>>=y.extra,R-=y.extra,y.back+=y.extra}y.was=y.length,y.mode=23;case 23:for(;ue=(I=y.distcode[A&(1<<y.distbits)-1])>>>16&255,_e=65535&I,!((re=I>>>24)<=R);){if(ee===0)break e;ee--,A+=B[Q++]<<R,R+=8}if(!(240&ue)){for($e=re,Ve=ue,We=_e;ue=(I=y.distcode[We+((A&(1<<$e+Ve)-1)>>$e)])>>>16&255,_e=65535&I,!($e+(re=I>>>24)<=R);){if(ee===0)break e;ee--,A+=B[Q++]<<R,R+=8}A>>>=$e,R-=$e,y.back+=$e}if(A>>>=re,R-=re,y.back+=re,64&ue){N.msg="invalid distance code",y.mode=30;break}y.offset=_e,y.extra=15&ue,y.mode=24;case 24:if(y.extra){for(T=y.extra;R<T;){if(ee===0)break e;ee--,A+=B[Q++]<<R,R+=8}y.offset+=A&(1<<y.extra)-1,A>>>=y.extra,R-=y.extra,y.back+=y.extra}if(y.offset>y.dmax){N.msg="invalid distance too far back",y.mode=30;break}y.mode=25;case 25:if(G===0)break e;if(S=$-G,y.offset>S){if((S=y.offset-S)>y.whave&&y.sane){N.msg="invalid distance too far back",y.mode=30;break}x=S>y.wnext?(S-=y.wnext,y.wsize-S):y.wnext-S,S>y.length&&(S=y.length),se=y.window}else se=ae,x=pe-y.offset,S=y.length;for(G<S&&(S=G),G-=S,y.length-=S;ae[pe++]=se[x++],--S;);y.length===0&&(y.mode=21);break;case 26:if(G===0)break e;ae[pe++]=y.length,G--,y.mode=21;break;case 27:if(y.wrap){for(;R<32;){if(ee===0)break e;ee--,A|=B[Q++]<<R,R+=8}if($-=G,N.total_out+=$,y.total+=$,$&&(N.adler=y.check=y.flags?o(y.check,ae,$,pe-$):a(y.check,ae,$,pe-$)),$=G,(y.flags?A:d(A))!==y.check){N.msg="incorrect data check",y.mode=30;break}R=A=0}y.mode=28;case 28:if(y.wrap&&y.flags){for(;R<32;){if(ee===0)break e;ee--,A+=B[Q++]<<R,R+=8}if(A!==(4294967295&y.total)){N.msg="incorrect length check",y.mode=30;break}R=A=0}y.mode=29;case 29:J=1;break e;case 30:J=-3;break e;case 31:return-4;case 32:default:return u}return N.next_out=pe,N.avail_out=G,N.next_in=Q,N.avail_in=ee,y.hold=A,y.bits=R,(y.wsize||$!==N.avail_out&&y.mode<30&&(y.mode<27||q!==4))&&ie(N,N.output,N.next_out,$-N.avail_out)?(y.mode=31,-4):(U-=N.avail_in,$-=N.avail_out,N.total_in+=U,N.total_out+=$,y.total+=$,y.wrap&&$&&(N.adler=y.check=y.flags?o(y.check,ae,$,N.next_out-$):a(y.check,ae,$,N.next_out-$)),N.data_type=y.bits+(y.last?64:0)+(y.mode===12?128:0)+(y.mode===20||y.mode===15?256:0),(U==0&&$===0||q===4)&&J===b&&(J=-5),J)},n.inflateEnd=function(N){if(!N||!N.state)return u;var q=N.state;return q.window&&(q.window=null),N.state=null,b},n.inflateGetHeader=function(N,q){var y;return N&&N.state&&2&(y=N.state).wrap?((y.head=q).done=!1,b):u},n.inflateSetDictionary=function(N,q){var y,B=q.length;return N&&N.state?(y=N.state).wrap!==0&&y.mode!==11?u:y.mode===11&&a(1,q,B,0)!==y.check?-3:ie(N,q,B,B)?(y.mode=31,-4):(y.havedict=1,b):u},n.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(r,s,n){var i=r("../utils/common"),a=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],o=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],c=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],l=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];s.exports=function(p,h,b,u,_,f,m,d){var v,w,k,E,C,O,D,j,Z,ie=d.bits,N=0,q=0,y=0,B=0,ae=0,Q=0,pe=0,ee=0,G=0,A=0,R=null,U=0,$=new i.Buf16(16),S=new i.Buf16(16),x=null,se=0;for(N=0;N<=15;N++)$[N]=0;for(q=0;q<u;q++)$[h[b+q]]++;for(ae=ie,B=15;1<=B&&$[B]===0;B--);if(B<ae&&(ae=B),B===0)return _[f++]=20971520,_[f++]=20971520,d.bits=1,0;for(y=1;y<B&&$[y]===0;y++);for(ae<y&&(ae=y),N=ee=1;N<=15;N++)if(ee<<=1,(ee-=$[N])<0)return-1;if(0<ee&&(p===0||B!==1))return-1;for(S[1]=0,N=1;N<15;N++)S[N+1]=S[N]+$[N];for(q=0;q<u;q++)h[b+q]!==0&&(m[S[h[b+q]]++]=q);if(O=p===0?(R=x=m,19):p===1?(R=a,U-=257,x=o,se-=257,256):(R=c,x=l,-1),N=y,C=f,pe=q=A=0,k=-1,E=(G=1<<(Q=ae))-1,p===1&&852<G||p===2&&592<G)return 1;for(;;){for(D=N-pe,Z=m[q]<O?(j=0,m[q]):m[q]>O?(j=x[se+m[q]],R[U+m[q]]):(j=96,0),v=1<<N-pe,y=w=1<<Q;_[C+(A>>pe)+(w-=v)]=D<<24|j<<16|Z|0,w!==0;);for(v=1<<N-1;A&v;)v>>=1;if(v!==0?(A&=v-1,A+=v):A=0,q++,--$[N]==0){if(N===B)break;N=h[b+m[q]]}if(ae<N&&(A&E)!==k){for(pe===0&&(pe=ae),C+=y,ee=1<<(Q=N-pe);Q+pe<B&&!((ee-=$[Q+pe])<=0);)Q++,ee<<=1;if(G+=1<<Q,p===1&&852<G||p===2&&592<G)return 1;_[k=A&E]=ae<<24|Q<<16|C-f|0}}return A!==0&&(_[C+A]=N-pe<<24|64<<16|0),d.bits=ae,0}},{"../utils/common":41}],51:[function(r,s,n){s.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(r,s,n){var i=r("../utils/common"),a=0,o=1;function c(I){for(var M=I.length;0<=--M;)I[M]=0}var l=0,p=29,h=256,b=h+1+p,u=30,_=19,f=2*b+1,m=15,d=16,v=7,w=256,k=16,E=17,C=18,O=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],D=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],j=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],Z=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],ie=new Array(2*(b+2));c(ie);var N=new Array(2*u);c(N);var q=new Array(512);c(q);var y=new Array(256);c(y);var B=new Array(p);c(B);var ae,Q,pe,ee=new Array(u);function G(I,M,Y,X,V){this.static_tree=I,this.extra_bits=M,this.extra_base=Y,this.elems=X,this.max_length=V,this.has_stree=I&&I.length}function A(I,M){this.dyn_tree=I,this.max_code=0,this.stat_desc=M}function R(I){return I<256?q[I]:q[256+(I>>>7)]}function U(I,M){I.pending_buf[I.pending++]=255&M,I.pending_buf[I.pending++]=M>>>8&255}function $(I,M,Y){I.bi_valid>d-Y?(I.bi_buf|=M<<I.bi_valid&65535,U(I,I.bi_buf),I.bi_buf=M>>d-I.bi_valid,I.bi_valid+=Y-d):(I.bi_buf|=M<<I.bi_valid&65535,I.bi_valid+=Y)}function S(I,M,Y){$(I,Y[2*M],Y[2*M+1])}function x(I,M){for(var Y=0;Y|=1&I,I>>>=1,Y<<=1,0<--M;);return Y>>>1}function se(I,M,Y){var X,V,te=new Array(m+1),le=0;for(X=1;X<=m;X++)te[X]=le=le+Y[X-1]<<1;for(V=0;V<=M;V++){var ne=I[2*V+1];ne!==0&&(I[2*V]=x(te[ne]++,ne))}}function re(I){var M;for(M=0;M<b;M++)I.dyn_ltree[2*M]=0;for(M=0;M<u;M++)I.dyn_dtree[2*M]=0;for(M=0;M<_;M++)I.bl_tree[2*M]=0;I.dyn_ltree[2*w]=1,I.opt_len=I.static_len=0,I.last_lit=I.matches=0}function ue(I){8<I.bi_valid?U(I,I.bi_buf):0<I.bi_valid&&(I.pending_buf[I.pending++]=I.bi_buf),I.bi_buf=0,I.bi_valid=0}function _e(I,M,Y,X){var V=2*M,te=2*Y;return I[V]<I[te]||I[V]===I[te]&&X[M]<=X[Y]}function $e(I,M,Y){for(var X=I.heap[Y],V=Y<<1;V<=I.heap_len&&(V<I.heap_len&&_e(M,I.heap[V+1],I.heap[V],I.depth)&&V++,!_e(M,X,I.heap[V],I.depth));)I.heap[Y]=I.heap[V],Y=V,V<<=1;I.heap[Y]=X}function Ve(I,M,Y){var X,V,te,le,ne=0;if(I.last_lit!==0)for(;X=I.pending_buf[I.d_buf+2*ne]<<8|I.pending_buf[I.d_buf+2*ne+1],V=I.pending_buf[I.l_buf+ne],ne++,X===0?S(I,V,M):(S(I,(te=y[V])+h+1,M),(le=O[te])!==0&&$(I,V-=B[te],le),S(I,te=R(--X),Y),(le=D[te])!==0&&$(I,X-=ee[te],le)),ne<I.last_lit;);S(I,w,M)}function We(I,M){var Y,X,V,te=M.dyn_tree,le=M.stat_desc.static_tree,ne=M.stat_desc.has_stree,fe=M.stat_desc.elems,Te=-1;for(I.heap_len=0,I.heap_max=f,Y=0;Y<fe;Y++)te[2*Y]!==0?(I.heap[++I.heap_len]=Te=Y,I.depth[Y]=0):te[2*Y+1]=0;for(;I.heap_len<2;)te[2*(V=I.heap[++I.heap_len]=Te<2?++Te:0)]=1,I.depth[V]=0,I.opt_len--,ne&&(I.static_len-=le[2*V+1]);for(M.max_code=Te,Y=I.heap_len>>1;1<=Y;Y--)$e(I,te,Y);for(V=fe;Y=I.heap[1],I.heap[1]=I.heap[I.heap_len--],$e(I,te,1),X=I.heap[1],I.heap[--I.heap_max]=Y,I.heap[--I.heap_max]=X,te[2*V]=te[2*Y]+te[2*X],I.depth[V]=(I.depth[Y]>=I.depth[X]?I.depth[Y]:I.depth[X])+1,te[2*Y+1]=te[2*X+1]=V,I.heap[1]=V++,$e(I,te,1),2<=I.heap_len;);I.heap[--I.heap_max]=I.heap[1],function(Ee,Fe){var it,at,Mt,De,Jt,kr,ct=Fe.dyn_tree,ot=Fe.max_code,Cn=Fe.stat_desc.static_tree,In=Fe.stat_desc.has_stree,Pn=Fe.stat_desc.extra_bits,Hr=Fe.stat_desc.extra_base,Yt=Fe.stat_desc.max_length,ar=0;for(De=0;De<=m;De++)Ee.bl_count[De]=0;for(ct[2*Ee.heap[Ee.heap_max]+1]=0,it=Ee.heap_max+1;it<f;it++)Yt<(De=ct[2*ct[2*(at=Ee.heap[it])+1]+1]+1)&&(De=Yt,ar++),ct[2*at+1]=De,ot<at||(Ee.bl_count[De]++,Jt=0,Hr<=at&&(Jt=Pn[at-Hr]),kr=ct[2*at],Ee.opt_len+=kr*(De+Jt),In&&(Ee.static_len+=kr*(Cn[2*at+1]+Jt)));if(ar!==0){do{for(De=Yt-1;Ee.bl_count[De]===0;)De--;Ee.bl_count[De]--,Ee.bl_count[De+1]+=2,Ee.bl_count[Yt]--,ar-=2}while(0<ar);for(De=Yt;De!==0;De--)for(at=Ee.bl_count[De];at!==0;)ot<(Mt=Ee.heap[--it])||(ct[2*Mt+1]!==De&&(Ee.opt_len+=(De-ct[2*Mt+1])*ct[2*Mt],ct[2*Mt+1]=De),at--)}}(I,M),se(te,Te,I.bl_count)}function g(I,M,Y){var X,V,te=-1,le=M[1],ne=0,fe=7,Te=4;for(le===0&&(fe=138,Te=3),M[2*(Y+1)+1]=65535,X=0;X<=Y;X++)V=le,le=M[2*(X+1)+1],++ne<fe&&V===le||(ne<Te?I.bl_tree[2*V]+=ne:V!==0?(V!==te&&I.bl_tree[2*V]++,I.bl_tree[2*k]++):ne<=10?I.bl_tree[2*E]++:I.bl_tree[2*C]++,te=V,Te=(ne=0)===le?(fe=138,3):V===le?(fe=6,3):(fe=7,4))}function J(I,M,Y){var X,V,te=-1,le=M[1],ne=0,fe=7,Te=4;for(le===0&&(fe=138,Te=3),X=0;X<=Y;X++)if(V=le,le=M[2*(X+1)+1],!(++ne<fe&&V===le)){if(ne<Te)for(;S(I,V,I.bl_tree),--ne!=0;);else V!==0?(V!==te&&(S(I,V,I.bl_tree),ne--),S(I,k,I.bl_tree),$(I,ne-3,2)):ne<=10?(S(I,E,I.bl_tree),$(I,ne-3,3)):(S(I,C,I.bl_tree),$(I,ne-11,7));te=V,Te=(ne=0)===le?(fe=138,3):V===le?(fe=6,3):(fe=7,4)}}c(ee);var K=!1;function T(I,M,Y,X){$(I,(l<<1)+(X?1:0),3),function(V,te,le,ne){ue(V),ne&&(U(V,le),U(V,~le)),i.arraySet(V.pending_buf,V.window,te,le,V.pending),V.pending+=le}(I,M,Y,!0)}n._tr_init=function(I){K||(function(){var M,Y,X,V,te,le=new Array(m+1);for(V=X=0;V<p-1;V++)for(B[V]=X,M=0;M<1<<O[V];M++)y[X++]=V;for(y[X-1]=V,V=te=0;V<16;V++)for(ee[V]=te,M=0;M<1<<D[V];M++)q[te++]=V;for(te>>=7;V<u;V++)for(ee[V]=te<<7,M=0;M<1<<D[V]-7;M++)q[256+te++]=V;for(Y=0;Y<=m;Y++)le[Y]=0;for(M=0;M<=143;)ie[2*M+1]=8,M++,le[8]++;for(;M<=255;)ie[2*M+1]=9,M++,le[9]++;for(;M<=279;)ie[2*M+1]=7,M++,le[7]++;for(;M<=287;)ie[2*M+1]=8,M++,le[8]++;for(se(ie,b+1,le),M=0;M<u;M++)N[2*M+1]=5,N[2*M]=x(M,5);ae=new G(ie,O,h+1,b,m),Q=new G(N,D,0,u,m),pe=new G(new Array(0),j,0,_,v)}(),K=!0),I.l_desc=new A(I.dyn_ltree,ae),I.d_desc=new A(I.dyn_dtree,Q),I.bl_desc=new A(I.bl_tree,pe),I.bi_buf=0,I.bi_valid=0,re(I)},n._tr_stored_block=T,n._tr_flush_block=function(I,M,Y,X){var V,te,le=0;0<I.level?(I.strm.data_type===2&&(I.strm.data_type=function(ne){var fe,Te=4093624447;for(fe=0;fe<=31;fe++,Te>>>=1)if(1&Te&&ne.dyn_ltree[2*fe]!==0)return a;if(ne.dyn_ltree[18]!==0||ne.dyn_ltree[20]!==0||ne.dyn_ltree[26]!==0)return o;for(fe=32;fe<h;fe++)if(ne.dyn_ltree[2*fe]!==0)return o;return a}(I)),We(I,I.l_desc),We(I,I.d_desc),le=function(ne){var fe;for(g(ne,ne.dyn_ltree,ne.l_desc.max_code),g(ne,ne.dyn_dtree,ne.d_desc.max_code),We(ne,ne.bl_desc),fe=_-1;3<=fe&&ne.bl_tree[2*Z[fe]+1]===0;fe--);return ne.opt_len+=3*(fe+1)+5+5+4,fe}(I),V=I.opt_len+3+7>>>3,(te=I.static_len+3+7>>>3)<=V&&(V=te)):V=te=Y+5,Y+4<=V&&M!==-1?T(I,M,Y,X):I.strategy===4||te===V?($(I,2+(X?1:0),3),Ve(I,ie,N)):($(I,4+(X?1:0),3),function(ne,fe,Te,Ee){var Fe;for($(ne,fe-257,5),$(ne,Te-1,5),$(ne,Ee-4,4),Fe=0;Fe<Ee;Fe++)$(ne,ne.bl_tree[2*Z[Fe]+1],3);J(ne,ne.dyn_ltree,fe-1),J(ne,ne.dyn_dtree,Te-1)}(I,I.l_desc.max_code+1,I.d_desc.max_code+1,le+1),Ve(I,I.dyn_ltree,I.dyn_dtree)),re(I),X&&ue(I)},n._tr_tally=function(I,M,Y){return I.pending_buf[I.d_buf+2*I.last_lit]=M>>>8&255,I.pending_buf[I.d_buf+2*I.last_lit+1]=255&M,I.pending_buf[I.l_buf+I.last_lit]=255&Y,I.last_lit++,M===0?I.dyn_ltree[2*Y]++:(I.matches++,M--,I.dyn_ltree[2*(y[Y]+h+1)]++,I.dyn_dtree[2*R(M)]++),I.last_lit===I.lit_bufsize-1},n._tr_align=function(I){$(I,2,3),S(I,w,ie),function(M){M.bi_valid===16?(U(M,M.bi_buf),M.bi_buf=0,M.bi_valid=0):8<=M.bi_valid&&(M.pending_buf[M.pending++]=255&M.bi_buf,M.bi_buf>>=8,M.bi_valid-=8)}(I)}},{"../utils/common":41}],53:[function(r,s,n){s.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(r,s,n){(function(i){(function(a,o){if(!a.setImmediate){var c,l,p,h,b=1,u={},_=!1,f=a.document,m=Object.getPrototypeOf&&Object.getPrototypeOf(a);m=m&&m.setTimeout?m:a,c={}.toString.call(a.process)==="[object process]"?function(k){process.nextTick(function(){v(k)})}:function(){if(a.postMessage&&!a.importScripts){var k=!0,E=a.onmessage;return a.onmessage=function(){k=!1},a.postMessage("","*"),a.onmessage=E,k}}()?(h="setImmediate$"+Math.random()+"$",a.addEventListener?a.addEventListener("message",w,!1):a.attachEvent("onmessage",w),function(k){a.postMessage(h+k,"*")}):a.MessageChannel?((p=new MessageChannel).port1.onmessage=function(k){v(k.data)},function(k){p.port2.postMessage(k)}):f&&"onreadystatechange"in f.createElement("script")?(l=f.documentElement,function(k){var E=f.createElement("script");E.onreadystatechange=function(){v(k),E.onreadystatechange=null,l.removeChild(E),E=null},l.appendChild(E)}):function(k){setTimeout(v,0,k)},m.setImmediate=function(k){typeof k!="function"&&(k=new Function(""+k));for(var E=new Array(arguments.length-1),C=0;C<E.length;C++)E[C]=arguments[C+1];var O={callback:k,args:E};return u[b]=O,c(b),b++},m.clearImmediate=d}function d(k){delete u[k]}function v(k){if(_)setTimeout(v,0,k);else{var E=u[k];if(E){_=!0;try{(function(C){var O=C.callback,D=C.args;switch(D.length){case 0:O();break;case 1:O(D[0]);break;case 2:O(D[0],D[1]);break;case 3:O(D[0],D[1],D[2]);break;default:O.apply(o,D)}})(E)}finally{d(k),_=!1}}}}function w(k){k.source===a&&typeof k.data=="string"&&k.data.indexOf(h)===0&&v(+k.data.slice(h.length))}})(typeof self>"u"?i===void 0?this:i:self)}).call(this,typeof Pr<"u"?Pr:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(Do);const Nr=Vn;var hn={},zo={get exports(){return hn},set exports(e){hn=e}},Xi={},gt={},yr={},Lr={},Pe={},Br={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.regexpCode=e.getEsmExportName=e.getProperty=e.safeStringify=e.stringify=e.strConcat=e.addCodeArg=e.str=e._=e.nil=e._Code=e.Name=e.IDENTIFIER=e._CodeOrName=void 0;class t{}e._CodeOrName=t,e.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class r extends t{constructor(v){if(super(),!e.IDENTIFIER.test(v))throw new Error("CodeGen: name must be a valid identifier");this.str=v}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}e.Name=r;class s extends t{constructor(v){super(),this._items=typeof v=="string"?[v]:v}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const v=this._items[0];return v===""||v==='""'}get str(){var v;return(v=this._str)!==null&&v!==void 0?v:this._str=this._items.reduce((w,k)=>`${w}${k}`,"")}get names(){var v;return(v=this._names)!==null&&v!==void 0?v:this._names=this._items.reduce((w,k)=>(k instanceof r&&(w[k.str]=(w[k.str]||0)+1),w),{})}}e._Code=s,e.nil=new s("");function n(d,...v){const w=[d[0]];let k=0;for(;k<v.length;)o(w,v[k]),w.push(d[++k]);return new s(w)}e._=n;const i=new s("+");function a(d,...v){const w=[u(d[0])];let k=0;for(;k<v.length;)w.push(i),o(w,v[k]),w.push(i,u(d[++k]));return c(w),new s(w)}e.str=a;function o(d,v){v instanceof s?d.push(...v._items):v instanceof r?d.push(v):d.push(h(v))}e.addCodeArg=o;function c(d){let v=1;for(;v<d.length-1;){if(d[v]===i){const w=l(d[v-1],d[v+1]);if(w!==void 0){d.splice(v-1,3,w);continue}d[v++]="+"}v++}}function l(d,v){if(v==='""')return d;if(d==='""')return v;if(typeof d=="string")return v instanceof r||d[d.length-1]!=='"'?void 0:typeof v!="string"?`${d.slice(0,-1)}${v}"`:v[0]==='"'?d.slice(0,-1)+v.slice(1):void 0;if(typeof v=="string"&&v[0]==='"'&&!(d instanceof r))return`"${d}${v.slice(1)}`}function p(d,v){return v.emptyStr()?d:d.emptyStr()?v:a`${d}${v}`}e.strConcat=p;function h(d){return typeof d=="number"||typeof d=="boolean"||d===null?d:u(Array.isArray(d)?d.join(","):d)}function b(d){return new s(u(d))}e.stringify=b;function u(d){return JSON.stringify(d).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}e.safeStringify=u;function _(d){return typeof d=="string"&&e.IDENTIFIER.test(d)?new s(`.${d}`):n`[${d}]`}e.getProperty=_;function f(d){if(typeof d=="string"&&e.IDENTIFIER.test(d))return new s(`${d}`);throw new Error(`CodeGen: invalid export name: ${d}, use explicit $id name mapping`)}e.getEsmExportName=f;function m(d){return new s(d.toString())}e.regexpCode=m})(Br);var xn={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ValueScope=e.ValueScopeName=e.Scope=e.varKinds=e.UsedValueState=void 0;const t=Br;class r extends Error{constructor(l){super(`CodeGen: "code" for ${l} not defined`),this.value=l.value}}var s;(function(c){c[c.Started=0]="Started",c[c.Completed=1]="Completed"})(s=e.UsedValueState||(e.UsedValueState={})),e.varKinds={const:new t.Name("const"),let:new t.Name("let"),var:new t.Name("var")};class n{constructor({prefixes:l,parent:p}={}){this._names={},this._prefixes=l,this._parent=p}toName(l){return l instanceof t.Name?l:this.name(l)}name(l){return new t.Name(this._newName(l))}_newName(l){const p=this._names[l]||this._nameGroup(l);return`${l}${p.index++}`}_nameGroup(l){var p,h;if(!((h=(p=this._parent)===null||p===void 0?void 0:p._prefixes)===null||h===void 0)&&h.has(l)||this._prefixes&&!this._prefixes.has(l))throw new Error(`CodeGen: prefix "${l}" is not allowed in this scope`);return this._names[l]={prefix:l,index:0}}}e.Scope=n;class i extends t.Name{constructor(l,p){super(p),this.prefix=l}setValue(l,{property:p,itemIndex:h}){this.value=l,this.scopePath=(0,t._)`.${new t.Name(p)}[${h}]`}}e.ValueScopeName=i;const a=(0,t._)`\n`;class o extends n{constructor(l){super(l),this._values={},this._scope=l.scope,this.opts={...l,_n:l.lines?a:t.nil}}get(){return this._scope}name(l){return new i(l,this._newName(l))}value(l,p){var h;if(p.ref===void 0)throw new Error("CodeGen: ref must be passed in value");const b=this.toName(l),{prefix:u}=b,_=(h=p.key)!==null&&h!==void 0?h:p.ref;let f=this._values[u];if(f){const v=f.get(_);if(v)return v}else f=this._values[u]=new Map;f.set(_,b);const m=this._scope[u]||(this._scope[u]=[]),d=m.length;return m[d]=p.ref,b.setValue(p,{property:u,itemIndex:d}),b}getValue(l,p){const h=this._values[l];if(h)return h.get(p)}scopeRefs(l,p=this._values){return this._reduceValues(p,h=>{if(h.scopePath===void 0)throw new Error(`CodeGen: name "${h}" has no value`);return(0,t._)`${l}${h.scopePath}`})}scopeCode(l=this._values,p,h){return this._reduceValues(l,b=>{if(b.value===void 0)throw new Error(`CodeGen: name "${b}" has no value`);return b.value.code},p,h)}_reduceValues(l,p,h={},b){let u=t.nil;for(const _ in l){const f=l[_];if(!f)continue;const m=h[_]=h[_]||new Map;f.forEach(d=>{if(m.has(d))return;m.set(d,s.Started);let v=p(d);if(v){const w=this.opts.es5?e.varKinds.var:e.varKinds.const;u=(0,t._)`${u}${w} ${d} = ${v};${this.opts._n}`}else if(v=b==null?void 0:b(d))u=(0,t._)`${u}${v}${this.opts._n}`;else throw new r(d);m.set(d,s.Completed)})}return u}}e.ValueScope=o})(xn);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.or=e.and=e.not=e.CodeGen=e.operators=e.varKinds=e.ValueScopeName=e.ValueScope=e.Scope=e.Name=e.regexpCode=e.stringify=e.getProperty=e.nil=e.strConcat=e.str=e._=void 0;const t=Br,r=xn;var s=Br;Object.defineProperty(e,"_",{enumerable:!0,get:function(){return s._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return s.str}}),Object.defineProperty(e,"strConcat",{enumerable:!0,get:function(){return s.strConcat}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return s.nil}}),Object.defineProperty(e,"getProperty",{enumerable:!0,get:function(){return s.getProperty}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return s.stringify}}),Object.defineProperty(e,"regexpCode",{enumerable:!0,get:function(){return s.regexpCode}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return s.Name}});var n=xn;Object.defineProperty(e,"Scope",{enumerable:!0,get:function(){return n.Scope}}),Object.defineProperty(e,"ValueScope",{enumerable:!0,get:function(){return n.ValueScope}}),Object.defineProperty(e,"ValueScopeName",{enumerable:!0,get:function(){return n.ValueScopeName}}),Object.defineProperty(e,"varKinds",{enumerable:!0,get:function(){return n.varKinds}}),e.operators={GT:new t._Code(">"),GTE:new t._Code(">="),LT:new t._Code("<"),LTE:new t._Code("<="),EQ:new t._Code("==="),NEQ:new t._Code("!=="),NOT:new t._Code("!"),OR:new t._Code("||"),AND:new t._Code("&&"),ADD:new t._Code("+")};class i{optimizeNodes(){return this}optimizeNames($,S){return this}}class a extends i{constructor($,S,x){super(),this.varKind=$,this.name=S,this.rhs=x}render({es5:$,_n:S}){const x=$?r.varKinds.var:this.varKind,se=this.rhs===void 0?"":` = ${this.rhs}`;return`${x} ${this.name}${se};`+S}optimizeNames($,S){if($[this.name.str])return this.rhs&&(this.rhs=y(this.rhs,$,S)),this}get names(){return this.rhs instanceof t._CodeOrName?this.rhs.names:{}}}class o extends i{constructor($,S,x){super(),this.lhs=$,this.rhs=S,this.sideEffects=x}render({_n:$}){return`${this.lhs} = ${this.rhs};`+$}optimizeNames($,S){if(!(this.lhs instanceof t.Name&&!$[this.lhs.str]&&!this.sideEffects))return this.rhs=y(this.rhs,$,S),this}get names(){const $=this.lhs instanceof t.Name?{}:{...this.lhs.names};return q($,this.rhs)}}class c extends o{constructor($,S,x,se){super($,x,se),this.op=S}render({_n:$}){return`${this.lhs} ${this.op}= ${this.rhs};`+$}}class l extends i{constructor($){super(),this.label=$,this.names={}}render({_n:$}){return`${this.label}:`+$}}class p extends i{constructor($){super(),this.label=$,this.names={}}render({_n:$}){return`break${this.label?` ${this.label}`:""};`+$}}class h extends i{constructor($){super(),this.error=$}render({_n:$}){return`throw ${this.error};`+$}get names(){return this.error.names}}class b extends i{constructor($){super(),this.code=$}render({_n:$}){return`${this.code};`+$}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames($,S){return this.code=y(this.code,$,S),this}get names(){return this.code instanceof t._CodeOrName?this.code.names:{}}}class u extends i{constructor($=[]){super(),this.nodes=$}render($){return this.nodes.reduce((S,x)=>S+x.render($),"")}optimizeNodes(){const{nodes:$}=this;let S=$.length;for(;S--;){const x=$[S].optimizeNodes();Array.isArray(x)?$.splice(S,1,...x):x?$[S]=x:$.splice(S,1)}return $.length>0?this:void 0}optimizeNames($,S){const{nodes:x}=this;let se=x.length;for(;se--;){const re=x[se];re.optimizeNames($,S)||(B($,re.names),x.splice(se,1))}return x.length>0?this:void 0}get names(){return this.nodes.reduce(($,S)=>N($,S.names),{})}}class _ extends u{render($){return"{"+$._n+super.render($)+"}"+$._n}}class f extends u{}class m extends _{}m.kind="else";class d extends _{constructor($,S){super(S),this.condition=$}render($){let S=`if(${this.condition})`+super.render($);return this.else&&(S+="else "+this.else.render($)),S}optimizeNodes(){super.optimizeNodes();const $=this.condition;if($===!0)return this.nodes;let S=this.else;if(S){const x=S.optimizeNodes();S=this.else=Array.isArray(x)?new m(x):x}if(S)return $===!1?S instanceof d?S:S.nodes:this.nodes.length?this:new d(ae($),S instanceof d?[S]:S.nodes);if(!($===!1||!this.nodes.length))return this}optimizeNames($,S){var x;if(this.else=(x=this.else)===null||x===void 0?void 0:x.optimizeNames($,S),!!(super.optimizeNames($,S)||this.else))return this.condition=y(this.condition,$,S),this}get names(){const $=super.names;return q($,this.condition),this.else&&N($,this.else.names),$}}d.kind="if";class v extends _{}v.kind="for";class w extends v{constructor($){super(),this.iteration=$}render($){return`for(${this.iteration})`+super.render($)}optimizeNames($,S){if(super.optimizeNames($,S))return this.iteration=y(this.iteration,$,S),this}get names(){return N(super.names,this.iteration.names)}}class k extends v{constructor($,S,x,se){super(),this.varKind=$,this.name=S,this.from=x,this.to=se}render($){const S=$.es5?r.varKinds.var:this.varKind,{name:x,from:se,to:re}=this;return`for(${S} ${x}=${se}; ${x}<${re}; ${x}++)`+super.render($)}get names(){const $=q(super.names,this.from);return q($,this.to)}}class E extends v{constructor($,S,x,se){super(),this.loop=$,this.varKind=S,this.name=x,this.iterable=se}render($){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render($)}optimizeNames($,S){if(super.optimizeNames($,S))return this.iterable=y(this.iterable,$,S),this}get names(){return N(super.names,this.iterable.names)}}class C extends _{constructor($,S,x){super(),this.name=$,this.args=S,this.async=x}render($){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render($)}}C.kind="func";class O extends u{render($){return"return "+super.render($)}}O.kind="return";class D extends _{render($){let S="try"+super.render($);return this.catch&&(S+=this.catch.render($)),this.finally&&(S+=this.finally.render($)),S}optimizeNodes(){var $,S;return super.optimizeNodes(),($=this.catch)===null||$===void 0||$.optimizeNodes(),(S=this.finally)===null||S===void 0||S.optimizeNodes(),this}optimizeNames($,S){var x,se;return super.optimizeNames($,S),(x=this.catch)===null||x===void 0||x.optimizeNames($,S),(se=this.finally)===null||se===void 0||se.optimizeNames($,S),this}get names(){const $=super.names;return this.catch&&N($,this.catch.names),this.finally&&N($,this.finally.names),$}}class j extends _{constructor($){super(),this.error=$}render($){return`catch(${this.error})`+super.render($)}}j.kind="catch";class Z extends _{render($){return"finally"+super.render($)}}Z.kind="finally";class ie{constructor($,S={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...S,_n:S.lines?`
`:""},this._extScope=$,this._scope=new r.Scope({parent:$}),this._nodes=[new f]}toString(){return this._root.render(this.opts)}name($){return this._scope.name($)}scopeName($){return this._extScope.name($)}scopeValue($,S){const x=this._extScope.value($,S);return(this._values[x.prefix]||(this._values[x.prefix]=new Set)).add(x),x}getScopeValue($,S){return this._extScope.getValue($,S)}scopeRefs($){return this._extScope.scopeRefs($,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def($,S,x,se){const re=this._scope.toName(S);return x!==void 0&&se&&(this._constants[re.str]=x),this._leafNode(new a($,re,x)),re}const($,S,x){return this._def(r.varKinds.const,$,S,x)}let($,S,x){return this._def(r.varKinds.let,$,S,x)}var($,S,x){return this._def(r.varKinds.var,$,S,x)}assign($,S,x){return this._leafNode(new o($,S,x))}add($,S){return this._leafNode(new c($,e.operators.ADD,S))}code($){return typeof $=="function"?$():$!==t.nil&&this._leafNode(new b($)),this}object(...$){const S=["{"];for(const[x,se]of $)S.length>1&&S.push(","),S.push(x),(x!==se||this.opts.es5)&&(S.push(":"),(0,t.addCodeArg)(S,se));return S.push("}"),new t._Code(S)}if($,S,x){if(this._blockNode(new d($)),S&&x)this.code(S).else().code(x).endIf();else if(S)this.code(S).endIf();else if(x)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf($){return this._elseNode(new d($))}else(){return this._elseNode(new m)}endIf(){return this._endBlockNode(d,m)}_for($,S){return this._blockNode($),S&&this.code(S).endFor(),this}for($,S){return this._for(new w($),S)}forRange($,S,x,se,re=this.opts.es5?r.varKinds.var:r.varKinds.let){const ue=this._scope.toName($);return this._for(new k(re,ue,S,x),()=>se(ue))}forOf($,S,x,se=r.varKinds.const){const re=this._scope.toName($);if(this.opts.es5){const ue=S instanceof t.Name?S:this.var("_arr",S);return this.forRange("_i",0,(0,t._)`${ue}.length`,_e=>{this.var(re,(0,t._)`${ue}[${_e}]`),x(re)})}return this._for(new E("of",se,re,S),()=>x(re))}forIn($,S,x,se=this.opts.es5?r.varKinds.var:r.varKinds.const){if(this.opts.ownProperties)return this.forOf($,(0,t._)`Object.keys(${S})`,x);const re=this._scope.toName($);return this._for(new E("in",se,re,S),()=>x(re))}endFor(){return this._endBlockNode(v)}label($){return this._leafNode(new l($))}break($){return this._leafNode(new p($))}return($){const S=new O;if(this._blockNode(S),this.code($),S.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(O)}try($,S,x){if(!S&&!x)throw new Error('CodeGen: "try" without "catch" and "finally"');const se=new D;if(this._blockNode(se),this.code($),S){const re=this.name("e");this._currNode=se.catch=new j(re),S(re)}return x&&(this._currNode=se.finally=new Z,this.code(x)),this._endBlockNode(j,Z)}throw($){return this._leafNode(new h($))}block($,S){return this._blockStarts.push(this._nodes.length),$&&this.code($).endBlock(S),this}endBlock($){const S=this._blockStarts.pop();if(S===void 0)throw new Error("CodeGen: not in self-balancing block");const x=this._nodes.length-S;if(x<0||$!==void 0&&x!==$)throw new Error(`CodeGen: wrong number of nodes: ${x} vs ${$} expected`);return this._nodes.length=S,this}func($,S=t.nil,x,se){return this._blockNode(new C($,S,x)),se&&this.code(se).endFunc(),this}endFunc(){return this._endBlockNode(C)}optimize($=1){for(;$-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode($){return this._currNode.nodes.push($),this}_blockNode($){this._currNode.nodes.push($),this._nodes.push($)}_endBlockNode($,S){const x=this._currNode;if(x instanceof $||S&&x instanceof S)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${S?`${$.kind}/${S.kind}`:$.kind}"`)}_elseNode($){const S=this._currNode;if(!(S instanceof d))throw new Error('CodeGen: "else" without "if"');return this._currNode=S.else=$,this}get _root(){return this._nodes[0]}get _currNode(){const $=this._nodes;return $[$.length-1]}set _currNode($){const S=this._nodes;S[S.length-1]=$}}e.CodeGen=ie;function N(U,$){for(const S in $)U[S]=(U[S]||0)+($[S]||0);return U}function q(U,$){return $ instanceof t._CodeOrName?N(U,$.names):U}function y(U,$,S){if(U instanceof t.Name)return x(U);if(!se(U))return U;return new t._Code(U._items.reduce((re,ue)=>(ue instanceof t.Name&&(ue=x(ue)),ue instanceof t._Code?re.push(...ue._items):re.push(ue),re),[]));function x(re){const ue=S[re.str];return ue===void 0||$[re.str]!==1?re:(delete $[re.str],ue)}function se(re){return re instanceof t._Code&&re._items.some(ue=>ue instanceof t.Name&&$[ue.str]===1&&S[ue.str]!==void 0)}}function B(U,$){for(const S in $)U[S]=(U[S]||0)-($[S]||0)}function ae(U){return typeof U=="boolean"||typeof U=="number"||U===null?!U:(0,t._)`!${R(U)}`}e.not=ae;const Q=A(e.operators.AND);function pe(...U){return U.reduce(Q)}e.and=pe;const ee=A(e.operators.OR);function G(...U){return U.reduce(ee)}e.or=G;function A(U){return($,S)=>$===t.nil?S:S===t.nil?$:(0,t._)`${R($)} ${U} ${R(S)}`}function R(U){return U instanceof t.Name?U:(0,t._)`(${U})`}})(Pe);var Ne={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.checkStrictMode=e.getErrorPath=e.Type=e.useFunc=e.setEvaluated=e.evaluatedPropsToName=e.mergeEvaluated=e.eachItem=e.unescapeJsonPointer=e.escapeJsonPointer=e.escapeFragment=e.unescapeFragment=e.schemaRefOrVal=e.schemaHasRulesButRef=e.schemaHasRules=e.checkUnknownRules=e.alwaysValidSchema=e.toHash=void 0;const t=Pe,r=Br;function s(C){const O={};for(const D of C)O[D]=!0;return O}e.toHash=s;function n(C,O){return typeof O=="boolean"?O:Object.keys(O).length===0?!0:(i(C,O),!a(O,C.self.RULES.all))}e.alwaysValidSchema=n;function i(C,O=C.schema){const{opts:D,self:j}=C;if(!D.strictSchema||typeof O=="boolean")return;const Z=j.RULES.keywords;for(const ie in O)Z[ie]||E(C,`unknown keyword: "${ie}"`)}e.checkUnknownRules=i;function a(C,O){if(typeof C=="boolean")return!C;for(const D in C)if(O[D])return!0;return!1}e.schemaHasRules=a;function o(C,O){if(typeof C=="boolean")return!C;for(const D in C)if(D!=="$ref"&&O.all[D])return!0;return!1}e.schemaHasRulesButRef=o;function c({topSchemaRef:C,schemaPath:O},D,j,Z){if(!Z){if(typeof D=="number"||typeof D=="boolean")return D;if(typeof D=="string")return(0,t._)`${D}`}return(0,t._)`${C}${O}${(0,t.getProperty)(j)}`}e.schemaRefOrVal=c;function l(C){return b(decodeURIComponent(C))}e.unescapeFragment=l;function p(C){return encodeURIComponent(h(C))}e.escapeFragment=p;function h(C){return typeof C=="number"?`${C}`:C.replace(/~/g,"~0").replace(/\//g,"~1")}e.escapeJsonPointer=h;function b(C){return C.replace(/~1/g,"/").replace(/~0/g,"~")}e.unescapeJsonPointer=b;function u(C,O){if(Array.isArray(C))for(const D of C)O(D);else O(C)}e.eachItem=u;function _({mergeNames:C,mergeToName:O,mergeValues:D,resultToName:j}){return(Z,ie,N,q)=>{const y=N===void 0?ie:N instanceof t.Name?(ie instanceof t.Name?C(Z,ie,N):O(Z,ie,N),N):ie instanceof t.Name?(O(Z,N,ie),ie):D(ie,N);return q===t.Name&&!(y instanceof t.Name)?j(Z,y):y}}e.mergeEvaluated={props:_({mergeNames:(C,O,D)=>C.if((0,t._)`${D} !== true && ${O} !== undefined`,()=>{C.if((0,t._)`${O} === true`,()=>C.assign(D,!0),()=>C.assign(D,(0,t._)`${D} || {}`).code((0,t._)`Object.assign(${D}, ${O})`))}),mergeToName:(C,O,D)=>C.if((0,t._)`${D} !== true`,()=>{O===!0?C.assign(D,!0):(C.assign(D,(0,t._)`${D} || {}`),m(C,D,O))}),mergeValues:(C,O)=>C===!0?!0:{...C,...O},resultToName:f}),items:_({mergeNames:(C,O,D)=>C.if((0,t._)`${D} !== true && ${O} !== undefined`,()=>C.assign(D,(0,t._)`${O} === true ? true : ${D} > ${O} ? ${D} : ${O}`)),mergeToName:(C,O,D)=>C.if((0,t._)`${D} !== true`,()=>C.assign(D,O===!0?!0:(0,t._)`${D} > ${O} ? ${D} : ${O}`)),mergeValues:(C,O)=>C===!0?!0:Math.max(C,O),resultToName:(C,O)=>C.var("items",O)})};function f(C,O){if(O===!0)return C.var("props",!0);const D=C.var("props",(0,t._)`{}`);return O!==void 0&&m(C,D,O),D}e.evaluatedPropsToName=f;function m(C,O,D){Object.keys(D).forEach(j=>C.assign((0,t._)`${O}${(0,t.getProperty)(j)}`,!0))}e.setEvaluated=m;const d={};function v(C,O){return C.scopeValue("func",{ref:O,code:d[O.code]||(d[O.code]=new r._Code(O.code))})}e.useFunc=v;var w;(function(C){C[C.Num=0]="Num",C[C.Str=1]="Str"})(w=e.Type||(e.Type={}));function k(C,O,D){if(C instanceof t.Name){const j=O===w.Num;return D?j?(0,t._)`"[" + ${C} + "]"`:(0,t._)`"['" + ${C} + "']"`:j?(0,t._)`"/" + ${C}`:(0,t._)`"/" + ${C}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return D?(0,t.getProperty)(C).toString():"/"+h(C)}e.getErrorPath=k;function E(C,O,D=C.opts.strictSchema){if(D){if(O=`strict mode: ${O}`,D===!0)throw new Error(O);C.self.logger.warn(O)}}e.checkStrictMode=E})(Ne);var Ot={};Object.defineProperty(Ot,"__esModule",{value:!0});const Xe=Pe,jo={data:new Xe.Name("data"),valCxt:new Xe.Name("valCxt"),instancePath:new Xe.Name("instancePath"),parentData:new Xe.Name("parentData"),parentDataProperty:new Xe.Name("parentDataProperty"),rootData:new Xe.Name("rootData"),dynamicAnchors:new Xe.Name("dynamicAnchors"),vErrors:new Xe.Name("vErrors"),errors:new Xe.Name("errors"),this:new Xe.Name("this"),self:new Xe.Name("self"),scope:new Xe.Name("scope"),json:new Xe.Name("json"),jsonPos:new Xe.Name("jsonPos"),jsonLen:new Xe.Name("jsonLen"),jsonPart:new Xe.Name("jsonPart")};Ot.default=jo;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.extendErrors=e.resetErrorsCount=e.reportExtraError=e.reportError=e.keyword$DataError=e.keywordError=void 0;const t=Pe,r=Ne,s=Ot;e.keywordError={message:({keyword:m})=>(0,t.str)`must pass "${m}" keyword validation`},e.keyword$DataError={message:({keyword:m,schemaType:d})=>d?(0,t.str)`"${m}" keyword must be ${d} ($data)`:(0,t.str)`"${m}" keyword is invalid ($data)`};function n(m,d=e.keywordError,v,w){const{it:k}=m,{gen:E,compositeRule:C,allErrors:O}=k,D=h(m,d,v);w??(C||O)?c(E,D):l(k,(0,t._)`[${D}]`)}e.reportError=n;function i(m,d=e.keywordError,v){const{it:w}=m,{gen:k,compositeRule:E,allErrors:C}=w,O=h(m,d,v);c(k,O),E||C||l(w,s.default.vErrors)}e.reportExtraError=i;function a(m,d){m.assign(s.default.errors,d),m.if((0,t._)`${s.default.vErrors} !== null`,()=>m.if(d,()=>m.assign((0,t._)`${s.default.vErrors}.length`,d),()=>m.assign(s.default.vErrors,null)))}e.resetErrorsCount=a;function o({gen:m,keyword:d,schemaValue:v,data:w,errsCount:k,it:E}){if(k===void 0)throw new Error("ajv implementation error");const C=m.name("err");m.forRange("i",k,s.default.errors,O=>{m.const(C,(0,t._)`${s.default.vErrors}[${O}]`),m.if((0,t._)`${C}.instancePath === undefined`,()=>m.assign((0,t._)`${C}.instancePath`,(0,t.strConcat)(s.default.instancePath,E.errorPath))),m.assign((0,t._)`${C}.schemaPath`,(0,t.str)`${E.errSchemaPath}/${d}`),E.opts.verbose&&(m.assign((0,t._)`${C}.schema`,v),m.assign((0,t._)`${C}.data`,w))})}e.extendErrors=o;function c(m,d){const v=m.const("err",d);m.if((0,t._)`${s.default.vErrors} === null`,()=>m.assign(s.default.vErrors,(0,t._)`[${v}]`),(0,t._)`${s.default.vErrors}.push(${v})`),m.code((0,t._)`${s.default.errors}++`)}function l(m,d){const{gen:v,validateName:w,schemaEnv:k}=m;k.$async?v.throw((0,t._)`new ${m.ValidationError}(${d})`):(v.assign((0,t._)`${w}.errors`,d),v.return(!1))}const p={keyword:new t.Name("keyword"),schemaPath:new t.Name("schemaPath"),params:new t.Name("params"),propertyName:new t.Name("propertyName"),message:new t.Name("message"),schema:new t.Name("schema"),parentSchema:new t.Name("parentSchema")};function h(m,d,v){const{createErrors:w}=m.it;return w===!1?(0,t._)`{}`:b(m,d,v)}function b(m,d,v={}){const{gen:w,it:k}=m,E=[u(k,v),_(m,v)];return f(m,d,E),w.object(...E)}function u({errorPath:m},{instancePath:d}){const v=d?(0,t.str)`${m}${(0,r.getErrorPath)(d,r.Type.Str)}`:m;return[s.default.instancePath,(0,t.strConcat)(s.default.instancePath,v)]}function _({keyword:m,it:{errSchemaPath:d}},{schemaPath:v,parentSchema:w}){let k=w?d:(0,t.str)`${d}/${m}`;return v&&(k=(0,t.str)`${k}${(0,r.getErrorPath)(v,r.Type.Str)}`),[p.schemaPath,k]}function f(m,{params:d,message:v},w){const{keyword:k,data:E,schemaValue:C,it:O}=m,{opts:D,propertyName:j,topSchemaRef:Z,schemaPath:ie}=O;w.push([p.keyword,k],[p.params,typeof d=="function"?d(m):d||(0,t._)`{}`]),D.messages&&w.push([p.message,typeof v=="function"?v(m):v]),D.verbose&&w.push([p.schema,C],[p.parentSchema,(0,t._)`${Z}${ie}`],[s.default.data,E]),j&&w.push([p.propertyName,j])}})(Lr);Object.defineProperty(yr,"__esModule",{value:!0});yr.boolOrEmptySchema=yr.topBoolOrEmptySchema=void 0;const Fo=Lr,Uo=Pe,Mo=Ot,Bo={message:"boolean schema is false"};function Lo(e){const{gen:t,schema:r,validateName:s}=e;r===!1?ea(e,!1):typeof r=="object"&&r.$async===!0?t.return(Mo.default.data):(t.assign((0,Uo._)`${s}.errors`,null),t.return(!0))}yr.topBoolOrEmptySchema=Lo;function Vo(e,t){const{gen:r,schema:s}=e;s===!1?(r.var(t,!1),ea(e)):r.var(t,!0)}yr.boolOrEmptySchema=Vo;function ea(e,t){const{gen:r,data:s}=e,n={gen:r,keyword:"false schema",data:s,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:e};(0,Fo.reportError)(n,Bo,void 0,t)}var Vr={},sr={};Object.defineProperty(sr,"__esModule",{value:!0});sr.getRules=sr.isJSONType=void 0;const xo=["string","number","integer","boolean","null","object","array"],Ko=new Set(xo);function qo(e){return typeof e=="string"&&Ko.has(e)}sr.isJSONType=qo;function Ho(){const e={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...e,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},e.number,e.string,e.array,e.object],post:{rules:[]},all:{},keywords:{}}}sr.getRules=Ho;var zt={};Object.defineProperty(zt,"__esModule",{value:!0});zt.shouldUseRule=zt.shouldUseGroup=zt.schemaHasRulesForType=void 0;function Wo({schema:e,self:t},r){const s=t.RULES.types[r];return s&&s!==!0&&ta(e,s)}zt.schemaHasRulesForType=Wo;function ta(e,t){return t.rules.some(r=>ra(e,r))}zt.shouldUseGroup=ta;function ra(e,t){var r;return e[t.keyword]!==void 0||((r=t.definition.implements)===null||r===void 0?void 0:r.some(s=>e[s]!==void 0))}zt.shouldUseRule=ra;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.reportTypeError=e.checkDataTypes=e.checkDataType=e.coerceAndCheckDataType=e.getJSONTypes=e.getSchemaTypes=e.DataType=void 0;const t=sr,r=zt,s=Lr,n=Pe,i=Ne;var a;(function(w){w[w.Correct=0]="Correct",w[w.Wrong=1]="Wrong"})(a=e.DataType||(e.DataType={}));function o(w){const k=c(w.type);if(k.includes("null")){if(w.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!k.length&&w.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');w.nullable===!0&&k.push("null")}return k}e.getSchemaTypes=o;function c(w){const k=Array.isArray(w)?w:w?[w]:[];if(k.every(t.isJSONType))return k;throw new Error("type must be JSONType or JSONType[]: "+k.join(","))}e.getJSONTypes=c;function l(w,k){const{gen:E,data:C,opts:O}=w,D=h(k,O.coerceTypes),j=k.length>0&&!(D.length===0&&k.length===1&&(0,r.schemaHasRulesForType)(w,k[0]));if(j){const Z=f(k,C,O.strictNumbers,a.Wrong);E.if(Z,()=>{D.length?b(w,k,D):d(w)})}return j}e.coerceAndCheckDataType=l;const p=new Set(["string","number","integer","boolean","null"]);function h(w,k){return k?w.filter(E=>p.has(E)||k==="array"&&E==="array"):[]}function b(w,k,E){const{gen:C,data:O,opts:D}=w,j=C.let("dataType",(0,n._)`typeof ${O}`),Z=C.let("coerced",(0,n._)`undefined`);D.coerceTypes==="array"&&C.if((0,n._)`${j} == 'object' && Array.isArray(${O}) && ${O}.length == 1`,()=>C.assign(O,(0,n._)`${O}[0]`).assign(j,(0,n._)`typeof ${O}`).if(f(k,O,D.strictNumbers),()=>C.assign(Z,O))),C.if((0,n._)`${Z} !== undefined`);for(const N of E)(p.has(N)||N==="array"&&D.coerceTypes==="array")&&ie(N);C.else(),d(w),C.endIf(),C.if((0,n._)`${Z} !== undefined`,()=>{C.assign(O,Z),u(w,Z)});function ie(N){switch(N){case"string":C.elseIf((0,n._)`${j} == "number" || ${j} == "boolean"`).assign(Z,(0,n._)`"" + ${O}`).elseIf((0,n._)`${O} === null`).assign(Z,(0,n._)`""`);return;case"number":C.elseIf((0,n._)`${j} == "boolean" || ${O} === null
              || (${j} == "string" && ${O} && ${O} == +${O})`).assign(Z,(0,n._)`+${O}`);return;case"integer":C.elseIf((0,n._)`${j} === "boolean" || ${O} === null
              || (${j} === "string" && ${O} && ${O} == +${O} && !(${O} % 1))`).assign(Z,(0,n._)`+${O}`);return;case"boolean":C.elseIf((0,n._)`${O} === "false" || ${O} === 0 || ${O} === null`).assign(Z,!1).elseIf((0,n._)`${O} === "true" || ${O} === 1`).assign(Z,!0);return;case"null":C.elseIf((0,n._)`${O} === "" || ${O} === 0 || ${O} === false`),C.assign(Z,null);return;case"array":C.elseIf((0,n._)`${j} === "string" || ${j} === "number"
              || ${j} === "boolean" || ${O} === null`).assign(Z,(0,n._)`[${O}]`)}}}function u({gen:w,parentData:k,parentDataProperty:E},C){w.if((0,n._)`${k} !== undefined`,()=>w.assign((0,n._)`${k}[${E}]`,C))}function _(w,k,E,C=a.Correct){const O=C===a.Correct?n.operators.EQ:n.operators.NEQ;let D;switch(w){case"null":return(0,n._)`${k} ${O} null`;case"array":D=(0,n._)`Array.isArray(${k})`;break;case"object":D=(0,n._)`${k} && typeof ${k} == "object" && !Array.isArray(${k})`;break;case"integer":D=j((0,n._)`!(${k} % 1) && !isNaN(${k})`);break;case"number":D=j();break;default:return(0,n._)`typeof ${k} ${O} ${w}`}return C===a.Correct?D:(0,n.not)(D);function j(Z=n.nil){return(0,n.and)((0,n._)`typeof ${k} == "number"`,Z,E?(0,n._)`isFinite(${k})`:n.nil)}}e.checkDataType=_;function f(w,k,E,C){if(w.length===1)return _(w[0],k,E,C);let O;const D=(0,i.toHash)(w);if(D.array&&D.object){const j=(0,n._)`typeof ${k} != "object"`;O=D.null?j:(0,n._)`!${k} || ${j}`,delete D.null,delete D.array,delete D.object}else O=n.nil;D.number&&delete D.integer;for(const j in D)O=(0,n.and)(O,_(j,k,E,C));return O}e.checkDataTypes=f;const m={message:({schema:w})=>`must be ${w}`,params:({schema:w,schemaValue:k})=>typeof w=="string"?(0,n._)`{type: ${w}}`:(0,n._)`{type: ${k}}`};function d(w){const k=v(w);(0,s.reportError)(k,m)}e.reportTypeError=d;function v(w){const{gen:k,data:E,schema:C}=w,O=(0,i.schemaRefOrVal)(w,C,"type");return{gen:k,keyword:"type",data:E,schema:C.type,schemaCode:O,schemaValue:O,parentSchema:C,params:{},it:w}}})(Vr);var kn={};Object.defineProperty(kn,"__esModule",{value:!0});kn.assignDefaults=void 0;const fr=Pe,Zo=Ne;function Go(e,t){const{properties:r,items:s}=e.schema;if(t==="object"&&r)for(const n in r)fi(e,n,r[n].default);else t==="array"&&Array.isArray(s)&&s.forEach((n,i)=>fi(e,i,n.default))}kn.assignDefaults=Go;function fi(e,t,r){const{gen:s,compositeRule:n,data:i,opts:a}=e;if(r===void 0)return;const o=(0,fr._)`${i}${(0,fr.getProperty)(t)}`;if(n){(0,Zo.checkStrictMode)(e,`default is ignored for: ${o}`);return}let c=(0,fr._)`${o} === undefined`;a.useDefaults==="empty"&&(c=(0,fr._)`${c} || ${o} === null || ${o} === ""`),s.if(c,(0,fr._)`${o} = ${(0,fr.stringify)(r)}`)}var At={},Ie={};Object.defineProperty(Ie,"__esModule",{value:!0});Ie.validateUnion=Ie.validateArray=Ie.usePattern=Ie.callValidateCode=Ie.schemaProperties=Ie.allSchemaProperties=Ie.noPropertyInData=Ie.propertyInData=Ie.isOwnProperty=Ie.hasPropFunc=Ie.reportMissingProp=Ie.checkMissingProp=Ie.checkReportMissingProp=void 0;const Me=Pe,es=Ne,Lt=Ot,Jo=Ne;function Yo(e,t){const{gen:r,data:s,it:n}=e;r.if(rs(r,s,t,n.opts.ownProperties),()=>{e.setParams({missingProperty:(0,Me._)`${t}`},!0),e.error()})}Ie.checkReportMissingProp=Yo;function Qo({gen:e,data:t,it:{opts:r}},s,n){return(0,Me.or)(...s.map(i=>(0,Me.and)(rs(e,t,i,r.ownProperties),(0,Me._)`${n} = ${i}`)))}Ie.checkMissingProp=Qo;function Xo(e,t){e.setParams({missingProperty:t},!0),e.error()}Ie.reportMissingProp=Xo;function na(e){return e.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,Me._)`Object.prototype.hasOwnProperty`})}Ie.hasPropFunc=na;function ts(e,t,r){return(0,Me._)`${na(e)}.call(${t}, ${r})`}Ie.isOwnProperty=ts;function el(e,t,r,s){const n=(0,Me._)`${t}${(0,Me.getProperty)(r)} !== undefined`;return s?(0,Me._)`${n} && ${ts(e,t,r)}`:n}Ie.propertyInData=el;function rs(e,t,r,s){const n=(0,Me._)`${t}${(0,Me.getProperty)(r)} === undefined`;return s?(0,Me.or)(n,(0,Me.not)(ts(e,t,r))):n}Ie.noPropertyInData=rs;function sa(e){return e?Object.keys(e).filter(t=>t!=="__proto__"):[]}Ie.allSchemaProperties=sa;function tl(e,t){return sa(t).filter(r=>!(0,es.alwaysValidSchema)(e,t[r]))}Ie.schemaProperties=tl;function rl({schemaCode:e,data:t,it:{gen:r,topSchemaRef:s,schemaPath:n,errorPath:i},it:a},o,c,l){const p=l?(0,Me._)`${e}, ${t}, ${s}${n}`:t,h=[[Lt.default.instancePath,(0,Me.strConcat)(Lt.default.instancePath,i)],[Lt.default.parentData,a.parentData],[Lt.default.parentDataProperty,a.parentDataProperty],[Lt.default.rootData,Lt.default.rootData]];a.opts.dynamicRef&&h.push([Lt.default.dynamicAnchors,Lt.default.dynamicAnchors]);const b=(0,Me._)`${p}, ${r.object(...h)}`;return c!==Me.nil?(0,Me._)`${o}.call(${c}, ${b})`:(0,Me._)`${o}(${b})`}Ie.callValidateCode=rl;const nl=(0,Me._)`new RegExp`;function sl({gen:e,it:{opts:t}},r){const s=t.unicodeRegExp?"u":"",{regExp:n}=t.code,i=n(r,s);return e.scopeValue("pattern",{key:i.toString(),ref:i,code:(0,Me._)`${n.code==="new RegExp"?nl:(0,Jo.useFunc)(e,n)}(${r}, ${s})`})}Ie.usePattern=sl;function il(e){const{gen:t,data:r,keyword:s,it:n}=e,i=t.name("valid");if(n.allErrors){const o=t.let("valid",!0);return a(()=>t.assign(o,!1)),o}return t.var(i,!0),a(()=>t.break()),i;function a(o){const c=t.const("len",(0,Me._)`${r}.length`);t.forRange("i",0,c,l=>{e.subschema({keyword:s,dataProp:l,dataPropType:es.Type.Num},i),t.if((0,Me.not)(i),o)})}}Ie.validateArray=il;function al(e){const{gen:t,schema:r,keyword:s,it:n}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");if(r.some(c=>(0,es.alwaysValidSchema)(n,c))&&!n.opts.unevaluated)return;const a=t.let("valid",!1),o=t.name("_valid");t.block(()=>r.forEach((c,l)=>{const p=e.subschema({keyword:s,schemaProp:l,compositeRule:!0},o);t.assign(a,(0,Me._)`${a} || ${o}`),e.mergeValidEvaluated(p,o)||t.if((0,Me.not)(a))})),e.result(a,()=>e.reset(),()=>e.error(!0))}Ie.validateUnion=al;Object.defineProperty(At,"__esModule",{value:!0});At.validateKeywordUsage=At.validSchemaType=At.funcKeywordCode=At.macroKeywordCode=void 0;const et=Pe,tr=Ot,ol=Ie,ll=Lr;function cl(e,t){const{gen:r,keyword:s,schema:n,parentSchema:i,it:a}=e,o=t.macro.call(a.self,n,i,a),c=ia(r,s,o);a.opts.validateSchema!==!1&&a.self.validateSchema(o,!0);const l=r.name("valid");e.subschema({schema:o,schemaPath:et.nil,errSchemaPath:`${a.errSchemaPath}/${s}`,topSchemaRef:c,compositeRule:!0},l),e.pass(l,()=>e.error(!0))}At.macroKeywordCode=cl;function ul(e,t){var r;const{gen:s,keyword:n,schema:i,parentSchema:a,$data:o,it:c}=e;dl(c,t);const l=!o&&t.compile?t.compile.call(c.self,i,a,c):t.validate,p=ia(s,n,l),h=s.let("valid");e.block$data(h,b),e.ok((r=t.valid)!==null&&r!==void 0?r:h);function b(){if(t.errors===!1)f(),t.modifying&&di(e),m(()=>e.error());else{const d=t.async?u():_();t.modifying&&di(e),m(()=>fl(e,d))}}function u(){const d=s.let("ruleErrs",null);return s.try(()=>f((0,et._)`await `),v=>s.assign(h,!1).if((0,et._)`${v} instanceof ${c.ValidationError}`,()=>s.assign(d,(0,et._)`${v}.errors`),()=>s.throw(v))),d}function _(){const d=(0,et._)`${p}.errors`;return s.assign(d,null),f(et.nil),d}function f(d=t.async?(0,et._)`await `:et.nil){const v=c.opts.passContext?tr.default.this:tr.default.self,w=!("compile"in t&&!o||t.schema===!1);s.assign(h,(0,et._)`${d}${(0,ol.callValidateCode)(e,p,v,w)}`,t.modifying)}function m(d){var v;s.if((0,et.not)((v=t.valid)!==null&&v!==void 0?v:h),d)}}At.funcKeywordCode=ul;function di(e){const{gen:t,data:r,it:s}=e;t.if(s.parentData,()=>t.assign(r,(0,et._)`${s.parentData}[${s.parentDataProperty}]`))}function fl(e,t){const{gen:r}=e;r.if((0,et._)`Array.isArray(${t})`,()=>{r.assign(tr.default.vErrors,(0,et._)`${tr.default.vErrors} === null ? ${t} : ${tr.default.vErrors}.concat(${t})`).assign(tr.default.errors,(0,et._)`${tr.default.vErrors}.length`),(0,ll.extendErrors)(e)},()=>e.error())}function dl({schemaEnv:e},t){if(t.async&&!e.$async)throw new Error("async keyword in sync schema")}function ia(e,t,r){if(r===void 0)throw new Error(`keyword "${t}" failed to compile`);return e.scopeValue("keyword",typeof r=="function"?{ref:r}:{ref:r,code:(0,et.stringify)(r)})}function hl(e,t,r=!1){return!t.length||t.some(s=>s==="array"?Array.isArray(e):s==="object"?e&&typeof e=="object"&&!Array.isArray(e):typeof e==s||r&&typeof e>"u")}At.validSchemaType=hl;function pl({schema:e,opts:t,self:r,errSchemaPath:s},n,i){if(Array.isArray(n.keyword)?!n.keyword.includes(i):n.keyword!==i)throw new Error("ajv implementation error");const a=n.dependencies;if(a!=null&&a.some(o=>!Object.prototype.hasOwnProperty.call(e,o)))throw new Error(`parent schema must have dependencies of ${i}: ${a.join(",")}`);if(n.validateSchema&&!n.validateSchema(e[i])){const c=`keyword "${i}" value is invalid at path "${s}": `+r.errorsText(n.validateSchema.errors);if(t.validateSchema==="log")r.logger.error(c);else throw new Error(c)}}At.validateKeywordUsage=pl;var Wt={};Object.defineProperty(Wt,"__esModule",{value:!0});Wt.extendSubschemaMode=Wt.extendSubschemaData=Wt.getSubschema=void 0;const kt=Pe,aa=Ne;function ml(e,{keyword:t,schemaProp:r,schema:s,schemaPath:n,errSchemaPath:i,topSchemaRef:a}){if(t!==void 0&&s!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(t!==void 0){const o=e.schema[t];return r===void 0?{schema:o,schemaPath:(0,kt._)`${e.schemaPath}${(0,kt.getProperty)(t)}`,errSchemaPath:`${e.errSchemaPath}/${t}`}:{schema:o[r],schemaPath:(0,kt._)`${e.schemaPath}${(0,kt.getProperty)(t)}${(0,kt.getProperty)(r)}`,errSchemaPath:`${e.errSchemaPath}/${t}/${(0,aa.escapeFragment)(r)}`}}if(s!==void 0){if(n===void 0||i===void 0||a===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:s,schemaPath:n,topSchemaRef:a,errSchemaPath:i}}throw new Error('either "keyword" or "schema" must be passed')}Wt.getSubschema=ml;function _l(e,t,{dataProp:r,dataPropType:s,data:n,dataTypes:i,propertyName:a}){if(n!==void 0&&r!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:o}=t;if(r!==void 0){const{errorPath:l,dataPathArr:p,opts:h}=t,b=o.let("data",(0,kt._)`${t.data}${(0,kt.getProperty)(r)}`,!0);c(b),e.errorPath=(0,kt.str)`${l}${(0,aa.getErrorPath)(r,s,h.jsPropertySyntax)}`,e.parentDataProperty=(0,kt._)`${r}`,e.dataPathArr=[...p,e.parentDataProperty]}if(n!==void 0){const l=n instanceof kt.Name?n:o.let("data",n,!0);c(l),a!==void 0&&(e.propertyName=a)}i&&(e.dataTypes=i);function c(l){e.data=l,e.dataLevel=t.dataLevel+1,e.dataTypes=[],t.definedProperties=new Set,e.parentData=t.data,e.dataNames=[...t.dataNames,l]}}Wt.extendSubschemaData=_l;function gl(e,{jtdDiscriminator:t,jtdMetadata:r,compositeRule:s,createErrors:n,allErrors:i}){s!==void 0&&(e.compositeRule=s),n!==void 0&&(e.createErrors=n),i!==void 0&&(e.allErrors=i),e.jtdDiscriminator=t,e.jtdMetadata=r}Wt.extendSubschemaMode=gl;var Qe={},oa=function e(t,r){if(t===r)return!0;if(t&&r&&typeof t=="object"&&typeof r=="object"){if(t.constructor!==r.constructor)return!1;var s,n,i;if(Array.isArray(t)){if(s=t.length,s!=r.length)return!1;for(n=s;n--!==0;)if(!e(t[n],r[n]))return!1;return!0}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();if(i=Object.keys(t),s=i.length,s!==Object.keys(r).length)return!1;for(n=s;n--!==0;)if(!Object.prototype.hasOwnProperty.call(r,i[n]))return!1;for(n=s;n--!==0;){var a=i[n];if(!e(t[a],r[a]))return!1}return!0}return t!==t&&r!==r},Kn={},vl={get exports(){return Kn},set exports(e){Kn=e}},Kt=vl.exports=function(e,t,r){typeof t=="function"&&(r=t,t={}),r=t.cb||r;var s=typeof r=="function"?r:r.pre||function(){},n=r.post||function(){};an(t,s,n,e,"",e)};Kt.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0};Kt.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0};Kt.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0};Kt.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function an(e,t,r,s,n,i,a,o,c,l){if(s&&typeof s=="object"&&!Array.isArray(s)){t(s,n,i,a,o,c,l);for(var p in s){var h=s[p];if(Array.isArray(h)){if(p in Kt.arrayKeywords)for(var b=0;b<h.length;b++)an(e,t,r,h[b],n+"/"+p+"/"+b,i,n,p,s,b)}else if(p in Kt.propsKeywords){if(h&&typeof h=="object")for(var u in h)an(e,t,r,h[u],n+"/"+p+"/"+yl(u),i,n,p,s,u)}else(p in Kt.keywords||e.allKeys&&!(p in Kt.skipKeywords))&&an(e,t,r,h,n+"/"+p,i,n,p,s)}r(s,n,i,a,o,c,l)}}function yl(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}Object.defineProperty(Qe,"__esModule",{value:!0});Qe.getSchemaRefs=Qe.resolveUrl=Qe.normalizeId=Qe._getFullPath=Qe.getFullPath=Qe.inlineRef=void 0;const bl=Ne,wl=oa,$l=Kn,kl=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function Al(e,t=!0){return typeof e=="boolean"?!0:t===!0?!qn(e):t?la(e)<=t:!1}Qe.inlineRef=Al;const El=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function qn(e){for(const t in e){if(El.has(t))return!0;const r=e[t];if(Array.isArray(r)&&r.some(qn)||typeof r=="object"&&qn(r))return!0}return!1}function la(e){let t=0;for(const r in e){if(r==="$ref")return 1/0;if(t++,!kl.has(r)&&(typeof e[r]=="object"&&(0,bl.eachItem)(e[r],s=>t+=la(s)),t===1/0))return 1/0}return t}function ca(e,t="",r){r!==!1&&(t=gr(t));const s=e.parse(t);return ua(e,s)}Qe.getFullPath=ca;function ua(e,t){return e.serialize(t).split("#")[0]+"#"}Qe._getFullPath=ua;const Sl=/#\/?$/;function gr(e){return e?e.replace(Sl,""):""}Qe.normalizeId=gr;function Cl(e,t,r){return r=gr(r),e.resolve(t,r)}Qe.resolveUrl=Cl;const Il=/^[a-z_][-a-z0-9._]*$/i;function Pl(e,t){if(typeof e=="boolean")return{};const{schemaId:r,uriResolver:s}=this.opts,n=gr(e[r]||t),i={"":n},a=ca(s,n,!1),o={},c=new Set;return $l(e,{allKeys:!0},(h,b,u,_)=>{if(_===void 0)return;const f=a+b;let m=i[_];typeof h[r]=="string"&&(m=d.call(this,h[r])),v.call(this,h.$anchor),v.call(this,h.$dynamicAnchor),i[b]=m;function d(w){const k=this.opts.uriResolver.resolve;if(w=gr(m?k(m,w):w),c.has(w))throw p(w);c.add(w);let E=this.refs[w];return typeof E=="string"&&(E=this.refs[E]),typeof E=="object"?l(h,E.schema,w):w!==gr(f)&&(w[0]==="#"?(l(h,o[w],w),o[w]=h):this.refs[w]=f),w}function v(w){if(typeof w=="string"){if(!Il.test(w))throw new Error(`invalid anchor "${w}"`);d.call(this,`#${w}`)}}}),o;function l(h,b,u){if(b!==void 0&&!wl(h,b))throw p(u)}function p(h){return new Error(`reference "${h}" resolves to more than one schema`)}}Qe.getSchemaRefs=Pl;Object.defineProperty(gt,"__esModule",{value:!0});gt.getData=gt.KeywordCxt=gt.validateFunctionCode=void 0;const fa=yr,hi=Vr,ns=zt,pn=Vr,Ol=kn,Tr=At,Nn=Wt,de=Pe,we=Ot,Rl=Qe,jt=Ne,Cr=Lr;function Nl(e){if(pa(e)&&(ma(e),ha(e))){zl(e);return}da(e,()=>(0,fa.topBoolOrEmptySchema)(e))}gt.validateFunctionCode=Nl;function da({gen:e,validateName:t,schema:r,schemaEnv:s,opts:n},i){n.code.es5?e.func(t,(0,de._)`${we.default.data}, ${we.default.valCxt}`,s.$async,()=>{e.code((0,de._)`"use strict"; ${pi(r,n)}`),Dl(e,n),e.code(i)}):e.func(t,(0,de._)`${we.default.data}, ${Tl(n)}`,s.$async,()=>e.code(pi(r,n)).code(i))}function Tl(e){return(0,de._)`{${we.default.instancePath}="", ${we.default.parentData}, ${we.default.parentDataProperty}, ${we.default.rootData}=${we.default.data}${e.dynamicRef?(0,de._)`, ${we.default.dynamicAnchors}={}`:de.nil}}={}`}function Dl(e,t){e.if(we.default.valCxt,()=>{e.var(we.default.instancePath,(0,de._)`${we.default.valCxt}.${we.default.instancePath}`),e.var(we.default.parentData,(0,de._)`${we.default.valCxt}.${we.default.parentData}`),e.var(we.default.parentDataProperty,(0,de._)`${we.default.valCxt}.${we.default.parentDataProperty}`),e.var(we.default.rootData,(0,de._)`${we.default.valCxt}.${we.default.rootData}`),t.dynamicRef&&e.var(we.default.dynamicAnchors,(0,de._)`${we.default.valCxt}.${we.default.dynamicAnchors}`)},()=>{e.var(we.default.instancePath,(0,de._)`""`),e.var(we.default.parentData,(0,de._)`undefined`),e.var(we.default.parentDataProperty,(0,de._)`undefined`),e.var(we.default.rootData,we.default.data),t.dynamicRef&&e.var(we.default.dynamicAnchors,(0,de._)`{}`)})}function zl(e){const{schema:t,opts:r,gen:s}=e;da(e,()=>{r.$comment&&t.$comment&&ga(e),Bl(e),s.let(we.default.vErrors,null),s.let(we.default.errors,0),r.unevaluated&&jl(e),_a(e),xl(e)})}function jl(e){const{gen:t,validateName:r}=e;e.evaluated=t.const("evaluated",(0,de._)`${r}.evaluated`),t.if((0,de._)`${e.evaluated}.dynamicProps`,()=>t.assign((0,de._)`${e.evaluated}.props`,(0,de._)`undefined`)),t.if((0,de._)`${e.evaluated}.dynamicItems`,()=>t.assign((0,de._)`${e.evaluated}.items`,(0,de._)`undefined`))}function pi(e,t){const r=typeof e=="object"&&e[t.schemaId];return r&&(t.code.source||t.code.process)?(0,de._)`/*# sourceURL=${r} */`:de.nil}function Fl(e,t){if(pa(e)&&(ma(e),ha(e))){Ul(e,t);return}(0,fa.boolOrEmptySchema)(e,t)}function ha({schema:e,self:t}){if(typeof e=="boolean")return!e;for(const r in e)if(t.RULES.all[r])return!0;return!1}function pa(e){return typeof e.schema!="boolean"}function Ul(e,t){const{schema:r,gen:s,opts:n}=e;n.$comment&&r.$comment&&ga(e),Ll(e),Vl(e);const i=s.const("_errs",we.default.errors);_a(e,i),s.var(t,(0,de._)`${i} === ${we.default.errors}`)}function ma(e){(0,jt.checkUnknownRules)(e),Ml(e)}function _a(e,t){if(e.opts.jtd)return mi(e,[],!1,t);const r=(0,hi.getSchemaTypes)(e.schema),s=(0,hi.coerceAndCheckDataType)(e,r);mi(e,r,!s,t)}function Ml(e){const{schema:t,errSchemaPath:r,opts:s,self:n}=e;t.$ref&&s.ignoreKeywordsWithRef&&(0,jt.schemaHasRulesButRef)(t,n.RULES)&&n.logger.warn(`$ref: keywords ignored in schema at path "${r}"`)}function Bl(e){const{schema:t,opts:r}=e;t.default!==void 0&&r.useDefaults&&r.strictSchema&&(0,jt.checkStrictMode)(e,"default is ignored in the schema root")}function Ll(e){const t=e.schema[e.opts.schemaId];t&&(e.baseId=(0,Rl.resolveUrl)(e.opts.uriResolver,e.baseId,t))}function Vl(e){if(e.schema.$async&&!e.schemaEnv.$async)throw new Error("async schema in sync schema")}function ga({gen:e,schemaEnv:t,schema:r,errSchemaPath:s,opts:n}){const i=r.$comment;if(n.$comment===!0)e.code((0,de._)`${we.default.self}.logger.log(${i})`);else if(typeof n.$comment=="function"){const a=(0,de.str)`${s}/$comment`,o=e.scopeValue("root",{ref:t.root});e.code((0,de._)`${we.default.self}.opts.$comment(${i}, ${a}, ${o}.schema)`)}}function xl(e){const{gen:t,schemaEnv:r,validateName:s,ValidationError:n,opts:i}=e;r.$async?t.if((0,de._)`${we.default.errors} === 0`,()=>t.return(we.default.data),()=>t.throw((0,de._)`new ${n}(${we.default.vErrors})`)):(t.assign((0,de._)`${s}.errors`,we.default.vErrors),i.unevaluated&&Kl(e),t.return((0,de._)`${we.default.errors} === 0`))}function Kl({gen:e,evaluated:t,props:r,items:s}){r instanceof de.Name&&e.assign((0,de._)`${t}.props`,r),s instanceof de.Name&&e.assign((0,de._)`${t}.items`,s)}function mi(e,t,r,s){const{gen:n,schema:i,data:a,allErrors:o,opts:c,self:l}=e,{RULES:p}=l;if(i.$ref&&(c.ignoreKeywordsWithRef||!(0,jt.schemaHasRulesButRef)(i,p))){n.block(()=>ba(e,"$ref",p.all.$ref.definition));return}c.jtd||ql(e,t),n.block(()=>{for(const b of p.rules)h(b);h(p.post)});function h(b){(0,ns.shouldUseGroup)(i,b)&&(b.type?(n.if((0,pn.checkDataType)(b.type,a,c.strictNumbers)),_i(e,b),t.length===1&&t[0]===b.type&&r&&(n.else(),(0,pn.reportTypeError)(e)),n.endIf()):_i(e,b),o||n.if((0,de._)`${we.default.errors} === ${s||0}`))}}function _i(e,t){const{gen:r,schema:s,opts:{useDefaults:n}}=e;n&&(0,Ol.assignDefaults)(e,t.type),r.block(()=>{for(const i of t.rules)(0,ns.shouldUseRule)(s,i)&&ba(e,i.keyword,i.definition,t.type)})}function ql(e,t){e.schemaEnv.meta||!e.opts.strictTypes||(Hl(e,t),e.opts.allowUnionTypes||Wl(e,t),Zl(e,e.dataTypes))}function Hl(e,t){if(t.length){if(!e.dataTypes.length){e.dataTypes=t;return}t.forEach(r=>{va(e.dataTypes,r)||ss(e,`type "${r}" not allowed by context "${e.dataTypes.join(",")}"`)}),Jl(e,t)}}function Wl(e,t){t.length>1&&!(t.length===2&&t.includes("null"))&&ss(e,"use allowUnionTypes to allow union type keyword")}function Zl(e,t){const r=e.self.RULES.all;for(const s in r){const n=r[s];if(typeof n=="object"&&(0,ns.shouldUseRule)(e.schema,n)){const{type:i}=n.definition;i.length&&!i.some(a=>Gl(t,a))&&ss(e,`missing type "${i.join(",")}" for keyword "${s}"`)}}}function Gl(e,t){return e.includes(t)||t==="number"&&e.includes("integer")}function va(e,t){return e.includes(t)||t==="integer"&&e.includes("number")}function Jl(e,t){const r=[];for(const s of e.dataTypes)va(t,s)?r.push(s):t.includes("integer")&&s==="number"&&r.push("integer");e.dataTypes=r}function ss(e,t){const r=e.schemaEnv.baseId+e.errSchemaPath;t+=` at "${r}" (strictTypes)`,(0,jt.checkStrictMode)(e,t,e.opts.strictTypes)}class ya{constructor(t,r,s){if((0,Tr.validateKeywordUsage)(t,r,s),this.gen=t.gen,this.allErrors=t.allErrors,this.keyword=s,this.data=t.data,this.schema=t.schema[s],this.$data=r.$data&&t.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,jt.schemaRefOrVal)(t,this.schema,s,this.$data),this.schemaType=r.schemaType,this.parentSchema=t.schema,this.params={},this.it=t,this.def=r,this.$data)this.schemaCode=t.gen.const("vSchema",wa(this.$data,t));else if(this.schemaCode=this.schemaValue,!(0,Tr.validSchemaType)(this.schema,r.schemaType,r.allowUndefined))throw new Error(`${s} value must be ${JSON.stringify(r.schemaType)}`);("code"in r?r.trackErrors:r.errors!==!1)&&(this.errsCount=t.gen.const("_errs",we.default.errors))}result(t,r,s){this.failResult((0,de.not)(t),r,s)}failResult(t,r,s){this.gen.if(t),s?s():this.error(),r?(this.gen.else(),r(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(t,r){this.failResult((0,de.not)(t),void 0,r)}fail(t){if(t===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(t),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(t){if(!this.$data)return this.fail(t);const{schemaCode:r}=this;this.fail((0,de._)`${r} !== undefined && (${(0,de.or)(this.invalid$data(),t)})`)}error(t,r,s){if(r){this.setParams(r),this._error(t,s),this.setParams({});return}this._error(t,s)}_error(t,r){(t?Cr.reportExtraError:Cr.reportError)(this,this.def.error,r)}$dataError(){(0,Cr.reportError)(this,this.def.$dataError||Cr.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,Cr.resetErrorsCount)(this.gen,this.errsCount)}ok(t){this.allErrors||this.gen.if(t)}setParams(t,r){r?Object.assign(this.params,t):this.params=t}block$data(t,r,s=de.nil){this.gen.block(()=>{this.check$data(t,s),r()})}check$data(t=de.nil,r=de.nil){if(!this.$data)return;const{gen:s,schemaCode:n,schemaType:i,def:a}=this;s.if((0,de.or)((0,de._)`${n} === undefined`,r)),t!==de.nil&&s.assign(t,!0),(i.length||a.validateSchema)&&(s.elseIf(this.invalid$data()),this.$dataError(),t!==de.nil&&s.assign(t,!1)),s.else()}invalid$data(){const{gen:t,schemaCode:r,schemaType:s,def:n,it:i}=this;return(0,de.or)(a(),o());function a(){if(s.length){if(!(r instanceof de.Name))throw new Error("ajv implementation error");const c=Array.isArray(s)?s:[s];return(0,de._)`${(0,pn.checkDataTypes)(c,r,i.opts.strictNumbers,pn.DataType.Wrong)}`}return de.nil}function o(){if(n.validateSchema){const c=t.scopeValue("validate$data",{ref:n.validateSchema});return(0,de._)`!${c}(${r})`}return de.nil}}subschema(t,r){const s=(0,Nn.getSubschema)(this.it,t);(0,Nn.extendSubschemaData)(s,this.it,t),(0,Nn.extendSubschemaMode)(s,t);const n={...this.it,...s,items:void 0,props:void 0};return Fl(n,r),n}mergeEvaluated(t,r){const{it:s,gen:n}=this;s.opts.unevaluated&&(s.props!==!0&&t.props!==void 0&&(s.props=jt.mergeEvaluated.props(n,t.props,s.props,r)),s.items!==!0&&t.items!==void 0&&(s.items=jt.mergeEvaluated.items(n,t.items,s.items,r)))}mergeValidEvaluated(t,r){const{it:s,gen:n}=this;if(s.opts.unevaluated&&(s.props!==!0||s.items!==!0))return n.if(r,()=>this.mergeEvaluated(t,de.Name)),!0}}gt.KeywordCxt=ya;function ba(e,t,r,s){const n=new ya(e,r,t);"code"in r?r.code(n,s):n.$data&&r.validate?(0,Tr.funcKeywordCode)(n,r):"macro"in r?(0,Tr.macroKeywordCode)(n,r):(r.compile||r.validate)&&(0,Tr.funcKeywordCode)(n,r)}const Yl=/^\/(?:[^~]|~0|~1)*$/,Ql=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function wa(e,{dataLevel:t,dataNames:r,dataPathArr:s}){let n,i;if(e==="")return we.default.rootData;if(e[0]==="/"){if(!Yl.test(e))throw new Error(`Invalid JSON-pointer: ${e}`);n=e,i=we.default.rootData}else{const l=Ql.exec(e);if(!l)throw new Error(`Invalid JSON-pointer: ${e}`);const p=+l[1];if(n=l[2],n==="#"){if(p>=t)throw new Error(c("property/index",p));return s[t-p]}if(p>t)throw new Error(c("data",p));if(i=r[t-p],!n)return i}let a=i;const o=n.split("/");for(const l of o)l&&(i=(0,de._)`${i}${(0,de.getProperty)((0,jt.unescapeJsonPointer)(l))}`,a=(0,de._)`${a} && ${i}`);return a;function c(l,p){return`Cannot access ${l} ${p} levels up, current level is ${t}`}}gt.getData=wa;var xr={};Object.defineProperty(xr,"__esModule",{value:!0});class Xl extends Error{constructor(t){super("validation failed"),this.errors=t,this.ajv=this.validation=!0}}xr.default=Xl;var Kr={};Object.defineProperty(Kr,"__esModule",{value:!0});const Tn=Qe;class ec extends Error{constructor(t,r,s,n){super(n||`can't resolve reference ${s} from id ${r}`),this.missingRef=(0,Tn.resolveUrl)(t,r,s),this.missingSchema=(0,Tn.normalizeId)((0,Tn.getFullPath)(t,this.missingRef))}}Kr.default=ec;var nt={};Object.defineProperty(nt,"__esModule",{value:!0});nt.resolveSchema=nt.getCompilingSchema=nt.resolveRef=nt.compileSchema=nt.SchemaEnv=void 0;const pt=Pe,tc=xr,er=Ot,_t=Qe,gi=Ne,rc=gt;class An{constructor(t){var r;this.refs={},this.dynamicAnchors={};let s;typeof t.schema=="object"&&(s=t.schema),this.schema=t.schema,this.schemaId=t.schemaId,this.root=t.root||this,this.baseId=(r=t.baseId)!==null&&r!==void 0?r:(0,_t.normalizeId)(s==null?void 0:s[t.schemaId||"$id"]),this.schemaPath=t.schemaPath,this.localRefs=t.localRefs,this.meta=t.meta,this.$async=s==null?void 0:s.$async,this.refs={}}}nt.SchemaEnv=An;function is(e){const t=$a.call(this,e);if(t)return t;const r=(0,_t.getFullPath)(this.opts.uriResolver,e.root.baseId),{es5:s,lines:n}=this.opts.code,{ownProperties:i}=this.opts,a=new pt.CodeGen(this.scope,{es5:s,lines:n,ownProperties:i});let o;e.$async&&(o=a.scopeValue("Error",{ref:tc.default,code:(0,pt._)`require("ajv/dist/runtime/validation_error").default`}));const c=a.scopeName("validate");e.validateName=c;const l={gen:a,allErrors:this.opts.allErrors,data:er.default.data,parentData:er.default.parentData,parentDataProperty:er.default.parentDataProperty,dataNames:[er.default.data],dataPathArr:[pt.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:a.scopeValue("schema",this.opts.code.source===!0?{ref:e.schema,code:(0,pt.stringify)(e.schema)}:{ref:e.schema}),validateName:c,ValidationError:o,schema:e.schema,schemaEnv:e,rootId:r,baseId:e.baseId||r,schemaPath:pt.nil,errSchemaPath:e.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,pt._)`""`,opts:this.opts,self:this};let p;try{this._compilations.add(e),(0,rc.validateFunctionCode)(l),a.optimize(this.opts.code.optimize);const h=a.toString();p=`${a.scopeRefs(er.default.scope)}return ${h}`,this.opts.code.process&&(p=this.opts.code.process(p,e));const u=new Function(`${er.default.self}`,`${er.default.scope}`,p)(this,this.scope.get());if(this.scope.value(c,{ref:u}),u.errors=null,u.schema=e.schema,u.schemaEnv=e,e.$async&&(u.$async=!0),this.opts.code.source===!0&&(u.source={validateName:c,validateCode:h,scopeValues:a._values}),this.opts.unevaluated){const{props:_,items:f}=l;u.evaluated={props:_ instanceof pt.Name?void 0:_,items:f instanceof pt.Name?void 0:f,dynamicProps:_ instanceof pt.Name,dynamicItems:f instanceof pt.Name},u.source&&(u.source.evaluated=(0,pt.stringify)(u.evaluated))}return e.validate=u,e}catch(h){throw delete e.validate,delete e.validateName,p&&this.logger.error("Error compiling schema, function code:",p),h}finally{this._compilations.delete(e)}}nt.compileSchema=is;function nc(e,t,r){var s;r=(0,_t.resolveUrl)(this.opts.uriResolver,t,r);const n=e.refs[r];if(n)return n;let i=ac.call(this,e,r);if(i===void 0){const a=(s=e.localRefs)===null||s===void 0?void 0:s[r],{schemaId:o}=this.opts;a&&(i=new An({schema:a,schemaId:o,root:e,baseId:t}))}if(i!==void 0)return e.refs[r]=sc.call(this,i)}nt.resolveRef=nc;function sc(e){return(0,_t.inlineRef)(e.schema,this.opts.inlineRefs)?e.schema:e.validate?e:is.call(this,e)}function $a(e){for(const t of this._compilations)if(ic(t,e))return t}nt.getCompilingSchema=$a;function ic(e,t){return e.schema===t.schema&&e.root===t.root&&e.baseId===t.baseId}function ac(e,t){let r;for(;typeof(r=this.refs[t])=="string";)t=r;return r||this.schemas[t]||En.call(this,e,t)}function En(e,t){const r=this.opts.uriResolver.parse(t),s=(0,_t._getFullPath)(this.opts.uriResolver,r);let n=(0,_t.getFullPath)(this.opts.uriResolver,e.baseId,void 0);if(Object.keys(e.schema).length>0&&s===n)return Dn.call(this,r,e);const i=(0,_t.normalizeId)(s),a=this.refs[i]||this.schemas[i];if(typeof a=="string"){const o=En.call(this,e,a);return typeof(o==null?void 0:o.schema)!="object"?void 0:Dn.call(this,r,o)}if(typeof(a==null?void 0:a.schema)=="object"){if(a.validate||is.call(this,a),i===(0,_t.normalizeId)(t)){const{schema:o}=a,{schemaId:c}=this.opts,l=o[c];return l&&(n=(0,_t.resolveUrl)(this.opts.uriResolver,n,l)),new An({schema:o,schemaId:c,root:e,baseId:n})}return Dn.call(this,r,a)}}nt.resolveSchema=En;const oc=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function Dn(e,{baseId:t,schema:r,root:s}){var n;if(((n=e.fragment)===null||n===void 0?void 0:n[0])!=="/")return;for(const o of e.fragment.slice(1).split("/")){if(typeof r=="boolean")return;const c=r[(0,gi.unescapeFragment)(o)];if(c===void 0)return;r=c;const l=typeof r=="object"&&r[this.opts.schemaId];!oc.has(o)&&l&&(t=(0,_t.resolveUrl)(this.opts.uriResolver,t,l))}let i;if(typeof r!="boolean"&&r.$ref&&!(0,gi.schemaHasRulesButRef)(r,this.RULES)){const o=(0,_t.resolveUrl)(this.opts.uriResolver,t,r.$ref);i=En.call(this,s,o)}const{schemaId:a}=this.opts;if(i=i||new An({schema:r,schemaId:a,root:s,baseId:t}),i.schema!==i.root.schema)return i}const lc="https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",cc="Meta-schema for $data reference (JSON AnySchema extension proposal)",uc="object",fc=["$data"],dc={$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},hc=!1,pc={$id:lc,description:cc,type:uc,required:fc,properties:dc,additionalProperties:hc};var as={},mn={},mc={get exports(){return mn},set exports(e){mn=e}};/** @license URI.js v4.4.1 (c) 2011 Gary Court. License: http://github.com/garycourt/uri-js */(function(e,t){(function(r,s){s(t)})(Pr,function(r){function s(){for(var z=arguments.length,P=Array(z),F=0;F<z;F++)P[F]=arguments[F];if(P.length>1){P[0]=P[0].slice(0,-1);for(var W=P.length-1,H=1;H<W;++H)P[H]=P[H].slice(1,-1);return P[W]=P[W].slice(1),P.join("")}else return P[0]}function n(z){return"(?:"+z+")"}function i(z){return z===void 0?"undefined":z===null?"null":Object.prototype.toString.call(z).split(" ").pop().split("]").shift().toLowerCase()}function a(z){return z.toUpperCase()}function o(z){return z!=null?z instanceof Array?z:typeof z.length!="number"||z.split||z.setInterval||z.call?[z]:Array.prototype.slice.call(z):[]}function c(z,P){var F=z;if(P)for(var W in P)F[W]=P[W];return F}function l(z){var P="[A-Za-z]",F="[0-9]",W=s(F,"[A-Fa-f]"),H=n(n("%[EFef]"+W+"%"+W+W+"%"+W+W)+"|"+n("%[89A-Fa-f]"+W+"%"+W+W)+"|"+n("%"+W+W)),he="[\\:\\/\\?\\#\\[\\]\\@]",ge="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",Re=s(he,ge),Ue=z?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]",xe=z?"[\\uE000-\\uF8FF]":"[]",Oe=s(P,F,"[\\-\\.\\_\\~]",Ue);n(P+s(P,F,"[\\+\\-\\.]")+"*"),n(n(H+"|"+s(Oe,ge,"[\\:]"))+"*");var je=n(n("25[0-5]")+"|"+n("2[0-4]"+F)+"|"+n("1"+F+F)+"|"+n("0?[1-9]"+F)+"|0?0?"+F),Ke=n(je+"\\."+je+"\\."+je+"\\."+je),ke=n(W+"{1,4}"),Be=n(n(ke+"\\:"+ke)+"|"+Ke),He=n(n(ke+"\\:")+"{6}"+Be),Le=n("\\:\\:"+n(ke+"\\:")+"{5}"+Be),Bt=n(n(ke)+"?\\:\\:"+n(ke+"\\:")+"{4}"+Be),bt=n(n(n(ke+"\\:")+"{0,1}"+ke)+"?\\:\\:"+n(ke+"\\:")+"{3}"+Be),wt=n(n(n(ke+"\\:")+"{0,2}"+ke)+"?\\:\\:"+n(ke+"\\:")+"{2}"+Be),lr=n(n(n(ke+"\\:")+"{0,3}"+ke)+"?\\:\\:"+ke+"\\:"+Be),Qt=n(n(n(ke+"\\:")+"{0,4}"+ke)+"?\\:\\:"+Be),ut=n(n(n(ke+"\\:")+"{0,5}"+ke)+"?\\:\\:"+ke),$t=n(n(n(ke+"\\:")+"{0,6}"+ke)+"?\\:\\:"),Xt=n([He,Le,Bt,bt,wt,lr,Qt,ut,$t].join("|")),Rt=n(n(Oe+"|"+H)+"+");n("[vV]"+W+"+\\."+s(Oe,ge,"[\\:]")+"+"),n(n(H+"|"+s(Oe,ge))+"*");var Ar=n(H+"|"+s(Oe,ge,"[\\:\\@]"));return n(n(H+"|"+s(Oe,ge,"[\\@]"))+"+"),n(n(Ar+"|"+s("[\\/\\?]",xe))+"*"),{NOT_SCHEME:new RegExp(s("[^]",P,F,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(s("[^\\%\\:]",Oe,ge),"g"),NOT_HOST:new RegExp(s("[^\\%\\[\\]\\:]",Oe,ge),"g"),NOT_PATH:new RegExp(s("[^\\%\\/\\:\\@]",Oe,ge),"g"),NOT_PATH_NOSCHEME:new RegExp(s("[^\\%\\/\\@]",Oe,ge),"g"),NOT_QUERY:new RegExp(s("[^\\%]",Oe,ge,"[\\:\\@\\/\\?]",xe),"g"),NOT_FRAGMENT:new RegExp(s("[^\\%]",Oe,ge,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(s("[^]",Oe,ge),"g"),UNRESERVED:new RegExp(Oe,"g"),OTHER_CHARS:new RegExp(s("[^\\%]",Oe,Re),"g"),PCT_ENCODED:new RegExp(H,"g"),IPV4ADDRESS:new RegExp("^("+Ke+")$"),IPV6ADDRESS:new RegExp("^\\[?("+Xt+")"+n(n("\\%25|\\%(?!"+W+"{2})")+"("+Rt+")")+"?\\]?$")}}var p=l(!1),h=l(!0),b=function(){function z(P,F){var W=[],H=!0,he=!1,ge=void 0;try{for(var Re=P[Symbol.iterator](),Ue;!(H=(Ue=Re.next()).done)&&(W.push(Ue.value),!(F&&W.length===F));H=!0);}catch(xe){he=!0,ge=xe}finally{try{!H&&Re.return&&Re.return()}finally{if(he)throw ge}}return W}return function(P,F){if(Array.isArray(P))return P;if(Symbol.iterator in Object(P))return z(P,F);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),u=function(z){if(Array.isArray(z)){for(var P=0,F=Array(z.length);P<z.length;P++)F[P]=z[P];return F}else return Array.from(z)},_=2147483647,f=36,m=1,d=26,v=38,w=700,k=72,E=128,C="-",O=/^xn--/,D=/[^\0-\x7E]/,j=/[\x2E\u3002\uFF0E\uFF61]/g,Z={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},ie=f-m,N=Math.floor,q=String.fromCharCode;function y(z){throw new RangeError(Z[z])}function B(z,P){for(var F=[],W=z.length;W--;)F[W]=P(z[W]);return F}function ae(z,P){var F=z.split("@"),W="";F.length>1&&(W=F[0]+"@",z=F[1]),z=z.replace(j,".");var H=z.split("."),he=B(H,P).join(".");return W+he}function Q(z){for(var P=[],F=0,W=z.length;F<W;){var H=z.charCodeAt(F++);if(H>=55296&&H<=56319&&F<W){var he=z.charCodeAt(F++);(he&64512)==56320?P.push(((H&1023)<<10)+(he&1023)+65536):(P.push(H),F--)}else P.push(H)}return P}var pe=function(P){return String.fromCodePoint.apply(String,u(P))},ee=function(P){return P-48<10?P-22:P-65<26?P-65:P-97<26?P-97:f},G=function(P,F){return P+22+75*(P<26)-((F!=0)<<5)},A=function(P,F,W){var H=0;for(P=W?N(P/w):P>>1,P+=N(P/F);P>ie*d>>1;H+=f)P=N(P/ie);return N(H+(ie+1)*P/(P+v))},R=function(P){var F=[],W=P.length,H=0,he=E,ge=k,Re=P.lastIndexOf(C);Re<0&&(Re=0);for(var Ue=0;Ue<Re;++Ue)P.charCodeAt(Ue)>=128&&y("not-basic"),F.push(P.charCodeAt(Ue));for(var xe=Re>0?Re+1:0;xe<W;){for(var Oe=H,je=1,Ke=f;;Ke+=f){xe>=W&&y("invalid-input");var ke=ee(P.charCodeAt(xe++));(ke>=f||ke>N((_-H)/je))&&y("overflow"),H+=ke*je;var Be=Ke<=ge?m:Ke>=ge+d?d:Ke-ge;if(ke<Be)break;var He=f-Be;je>N(_/He)&&y("overflow"),je*=He}var Le=F.length+1;ge=A(H-Oe,Le,Oe==0),N(H/Le)>_-he&&y("overflow"),he+=N(H/Le),H%=Le,F.splice(H++,0,he)}return String.fromCodePoint.apply(String,F)},U=function(P){var F=[];P=Q(P);var W=P.length,H=E,he=0,ge=k,Re=!0,Ue=!1,xe=void 0;try{for(var Oe=P[Symbol.iterator](),je;!(Re=(je=Oe.next()).done);Re=!0){var Ke=je.value;Ke<128&&F.push(q(Ke))}}catch(Er){Ue=!0,xe=Er}finally{try{!Re&&Oe.return&&Oe.return()}finally{if(Ue)throw xe}}var ke=F.length,Be=ke;for(ke&&F.push(C);Be<W;){var He=_,Le=!0,Bt=!1,bt=void 0;try{for(var wt=P[Symbol.iterator](),lr;!(Le=(lr=wt.next()).done);Le=!0){var Qt=lr.value;Qt>=H&&Qt<He&&(He=Qt)}}catch(Er){Bt=!0,bt=Er}finally{try{!Le&&wt.return&&wt.return()}finally{if(Bt)throw bt}}var ut=Be+1;He-H>N((_-he)/ut)&&y("overflow"),he+=(He-H)*ut,H=He;var $t=!0,Xt=!1,Rt=void 0;try{for(var Ar=P[Symbol.iterator](),xs;!($t=(xs=Ar.next()).done);$t=!0){var Ks=xs.value;if(Ks<H&&++he>_&&y("overflow"),Ks==H){for(var Wr=he,Zr=f;;Zr+=f){var Gr=Zr<=ge?m:Zr>=ge+d?d:Zr-ge;if(Wr<Gr)break;var qs=Wr-Gr,Hs=f-Gr;F.push(q(G(Gr+qs%Hs,0))),Wr=N(qs/Hs)}F.push(q(G(Wr,0))),ge=A(he,ut,Be==ke),he=0,++Be}}}catch(Er){Xt=!0,Rt=Er}finally{try{!$t&&Ar.return&&Ar.return()}finally{if(Xt)throw Rt}}++he,++H}return F.join("")},$=function(P){return ae(P,function(F){return O.test(F)?R(F.slice(4).toLowerCase()):F})},S=function(P){return ae(P,function(F){return D.test(F)?"xn--"+U(F):F})},x={version:"2.1.0",ucs2:{decode:Q,encode:pe},decode:R,encode:U,toASCII:S,toUnicode:$},se={};function re(z){var P=z.charCodeAt(0),F=void 0;return P<16?F="%0"+P.toString(16).toUpperCase():P<128?F="%"+P.toString(16).toUpperCase():P<2048?F="%"+(P>>6|192).toString(16).toUpperCase()+"%"+(P&63|128).toString(16).toUpperCase():F="%"+(P>>12|224).toString(16).toUpperCase()+"%"+(P>>6&63|128).toString(16).toUpperCase()+"%"+(P&63|128).toString(16).toUpperCase(),F}function ue(z){for(var P="",F=0,W=z.length;F<W;){var H=parseInt(z.substr(F+1,2),16);if(H<128)P+=String.fromCharCode(H),F+=3;else if(H>=194&&H<224){if(W-F>=6){var he=parseInt(z.substr(F+4,2),16);P+=String.fromCharCode((H&31)<<6|he&63)}else P+=z.substr(F,6);F+=6}else if(H>=224){if(W-F>=9){var ge=parseInt(z.substr(F+4,2),16),Re=parseInt(z.substr(F+7,2),16);P+=String.fromCharCode((H&15)<<12|(ge&63)<<6|Re&63)}else P+=z.substr(F,9);F+=9}else P+=z.substr(F,3),F+=3}return P}function _e(z,P){function F(W){var H=ue(W);return H.match(P.UNRESERVED)?H:W}return z.scheme&&(z.scheme=String(z.scheme).replace(P.PCT_ENCODED,F).toLowerCase().replace(P.NOT_SCHEME,"")),z.userinfo!==void 0&&(z.userinfo=String(z.userinfo).replace(P.PCT_ENCODED,F).replace(P.NOT_USERINFO,re).replace(P.PCT_ENCODED,a)),z.host!==void 0&&(z.host=String(z.host).replace(P.PCT_ENCODED,F).toLowerCase().replace(P.NOT_HOST,re).replace(P.PCT_ENCODED,a)),z.path!==void 0&&(z.path=String(z.path).replace(P.PCT_ENCODED,F).replace(z.scheme?P.NOT_PATH:P.NOT_PATH_NOSCHEME,re).replace(P.PCT_ENCODED,a)),z.query!==void 0&&(z.query=String(z.query).replace(P.PCT_ENCODED,F).replace(P.NOT_QUERY,re).replace(P.PCT_ENCODED,a)),z.fragment!==void 0&&(z.fragment=String(z.fragment).replace(P.PCT_ENCODED,F).replace(P.NOT_FRAGMENT,re).replace(P.PCT_ENCODED,a)),z}function $e(z){return z.replace(/^0*(.*)/,"$1")||"0"}function Ve(z,P){var F=z.match(P.IPV4ADDRESS)||[],W=b(F,2),H=W[1];return H?H.split(".").map($e).join("."):z}function We(z,P){var F=z.match(P.IPV6ADDRESS)||[],W=b(F,3),H=W[1],he=W[2];if(H){for(var ge=H.toLowerCase().split("::").reverse(),Re=b(ge,2),Ue=Re[0],xe=Re[1],Oe=xe?xe.split(":").map($e):[],je=Ue.split(":").map($e),Ke=P.IPV4ADDRESS.test(je[je.length-1]),ke=Ke?7:8,Be=je.length-ke,He=Array(ke),Le=0;Le<ke;++Le)He[Le]=Oe[Le]||je[Be+Le]||"";Ke&&(He[ke-1]=Ve(He[ke-1],P));var Bt=He.reduce(function(ut,$t,Xt){if(!$t||$t==="0"){var Rt=ut[ut.length-1];Rt&&Rt.index+Rt.length===Xt?Rt.length++:ut.push({index:Xt,length:1})}return ut},[]),bt=Bt.sort(function(ut,$t){return $t.length-ut.length})[0],wt=void 0;if(bt&&bt.length>1){var lr=He.slice(0,bt.index),Qt=He.slice(bt.index+bt.length);wt=lr.join(":")+"::"+Qt.join(":")}else wt=He.join(":");return he&&(wt+="%"+he),wt}else return z}var g=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,J="".match(/(){0}/)[1]===void 0;function K(z){var P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},F={},W=P.iri!==!1?h:p;P.reference==="suffix"&&(z=(P.scheme?P.scheme+":":"")+"//"+z);var H=z.match(g);if(H){J?(F.scheme=H[1],F.userinfo=H[3],F.host=H[4],F.port=parseInt(H[5],10),F.path=H[6]||"",F.query=H[7],F.fragment=H[8],isNaN(F.port)&&(F.port=H[5])):(F.scheme=H[1]||void 0,F.userinfo=z.indexOf("@")!==-1?H[3]:void 0,F.host=z.indexOf("//")!==-1?H[4]:void 0,F.port=parseInt(H[5],10),F.path=H[6]||"",F.query=z.indexOf("?")!==-1?H[7]:void 0,F.fragment=z.indexOf("#")!==-1?H[8]:void 0,isNaN(F.port)&&(F.port=z.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?H[4]:void 0)),F.host&&(F.host=We(Ve(F.host,W),W)),F.scheme===void 0&&F.userinfo===void 0&&F.host===void 0&&F.port===void 0&&!F.path&&F.query===void 0?F.reference="same-document":F.scheme===void 0?F.reference="relative":F.fragment===void 0?F.reference="absolute":F.reference="uri",P.reference&&P.reference!=="suffix"&&P.reference!==F.reference&&(F.error=F.error||"URI is not a "+P.reference+" reference.");var he=se[(P.scheme||F.scheme||"").toLowerCase()];if(!P.unicodeSupport&&(!he||!he.unicodeSupport)){if(F.host&&(P.domainHost||he&&he.domainHost))try{F.host=x.toASCII(F.host.replace(W.PCT_ENCODED,ue).toLowerCase())}catch(ge){F.error=F.error||"Host's domain name can not be converted to ASCII via punycode: "+ge}_e(F,p)}else _e(F,W);he&&he.parse&&he.parse(F,P)}else F.error=F.error||"URI can not be parsed.";return F}function T(z,P){var F=P.iri!==!1?h:p,W=[];return z.userinfo!==void 0&&(W.push(z.userinfo),W.push("@")),z.host!==void 0&&W.push(We(Ve(String(z.host),F),F).replace(F.IPV6ADDRESS,function(H,he,ge){return"["+he+(ge?"%25"+ge:"")+"]"})),(typeof z.port=="number"||typeof z.port=="string")&&(W.push(":"),W.push(String(z.port))),W.length?W.join(""):void 0}var I=/^\.\.?\//,M=/^\/\.(\/|$)/,Y=/^\/\.\.(\/|$)/,X=/^\/?(?:.|\n)*?(?=\/|$)/;function V(z){for(var P=[];z.length;)if(z.match(I))z=z.replace(I,"");else if(z.match(M))z=z.replace(M,"/");else if(z.match(Y))z=z.replace(Y,"/"),P.pop();else if(z==="."||z==="..")z="";else{var F=z.match(X);if(F){var W=F[0];z=z.slice(W.length),P.push(W)}else throw new Error("Unexpected dot segment condition")}return P.join("")}function te(z){var P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},F=P.iri?h:p,W=[],H=se[(P.scheme||z.scheme||"").toLowerCase()];if(H&&H.serialize&&H.serialize(z,P),z.host&&!F.IPV6ADDRESS.test(z.host)){if(P.domainHost||H&&H.domainHost)try{z.host=P.iri?x.toUnicode(z.host):x.toASCII(z.host.replace(F.PCT_ENCODED,ue).toLowerCase())}catch(Re){z.error=z.error||"Host's domain name can not be converted to "+(P.iri?"Unicode":"ASCII")+" via punycode: "+Re}}_e(z,F),P.reference!=="suffix"&&z.scheme&&(W.push(z.scheme),W.push(":"));var he=T(z,P);if(he!==void 0&&(P.reference!=="suffix"&&W.push("//"),W.push(he),z.path&&z.path.charAt(0)!=="/"&&W.push("/")),z.path!==void 0){var ge=z.path;!P.absolutePath&&(!H||!H.absolutePath)&&(ge=V(ge)),he===void 0&&(ge=ge.replace(/^\/\//,"/%2F")),W.push(ge)}return z.query!==void 0&&(W.push("?"),W.push(z.query)),z.fragment!==void 0&&(W.push("#"),W.push(z.fragment)),W.join("")}function le(z,P){var F=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},W=arguments[3],H={};return W||(z=K(te(z,F),F),P=K(te(P,F),F)),F=F||{},!F.tolerant&&P.scheme?(H.scheme=P.scheme,H.userinfo=P.userinfo,H.host=P.host,H.port=P.port,H.path=V(P.path||""),H.query=P.query):(P.userinfo!==void 0||P.host!==void 0||P.port!==void 0?(H.userinfo=P.userinfo,H.host=P.host,H.port=P.port,H.path=V(P.path||""),H.query=P.query):(P.path?(P.path.charAt(0)==="/"?H.path=V(P.path):((z.userinfo!==void 0||z.host!==void 0||z.port!==void 0)&&!z.path?H.path="/"+P.path:z.path?H.path=z.path.slice(0,z.path.lastIndexOf("/")+1)+P.path:H.path=P.path,H.path=V(H.path)),H.query=P.query):(H.path=z.path,P.query!==void 0?H.query=P.query:H.query=z.query),H.userinfo=z.userinfo,H.host=z.host,H.port=z.port),H.scheme=z.scheme),H.fragment=P.fragment,H}function ne(z,P,F){var W=c({scheme:"null"},F);return te(le(K(z,W),K(P,W),W,!0),W)}function fe(z,P){return typeof z=="string"?z=te(K(z,P),P):i(z)==="object"&&(z=K(te(z,P),P)),z}function Te(z,P,F){return typeof z=="string"?z=te(K(z,F),F):i(z)==="object"&&(z=te(z,F)),typeof P=="string"?P=te(K(P,F),F):i(P)==="object"&&(P=te(P,F)),z===P}function Ee(z,P){return z&&z.toString().replace(!P||!P.iri?p.ESCAPE:h.ESCAPE,re)}function Fe(z,P){return z&&z.toString().replace(!P||!P.iri?p.PCT_ENCODED:h.PCT_ENCODED,ue)}var it={scheme:"http",domainHost:!0,parse:function(P,F){return P.host||(P.error=P.error||"HTTP URIs must have a host."),P},serialize:function(P,F){var W=String(P.scheme).toLowerCase()==="https";return(P.port===(W?443:80)||P.port==="")&&(P.port=void 0),P.path||(P.path="/"),P}},at={scheme:"https",domainHost:it.domainHost,parse:it.parse,serialize:it.serialize};function Mt(z){return typeof z.secure=="boolean"?z.secure:String(z.scheme).toLowerCase()==="wss"}var De={scheme:"ws",domainHost:!0,parse:function(P,F){var W=P;return W.secure=Mt(W),W.resourceName=(W.path||"/")+(W.query?"?"+W.query:""),W.path=void 0,W.query=void 0,W},serialize:function(P,F){if((P.port===(Mt(P)?443:80)||P.port==="")&&(P.port=void 0),typeof P.secure=="boolean"&&(P.scheme=P.secure?"wss":"ws",P.secure=void 0),P.resourceName){var W=P.resourceName.split("?"),H=b(W,2),he=H[0],ge=H[1];P.path=he&&he!=="/"?he:void 0,P.query=ge,P.resourceName=void 0}return P.fragment=void 0,P}},Jt={scheme:"wss",domainHost:De.domainHost,parse:De.parse,serialize:De.serialize},kr={},ct="[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]",ot="[0-9A-Fa-f]",Cn=n(n("%[EFef]"+ot+"%"+ot+ot+"%"+ot+ot)+"|"+n("%[89A-Fa-f]"+ot+"%"+ot+ot)+"|"+n("%"+ot+ot)),In="[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]",Pn="[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",Hr=s(Pn,'[\\"\\\\]'),Yt="[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]",ar=new RegExp(ct,"g"),or=new RegExp(Cn,"g"),za=new RegExp(s("[^]",In,"[\\.]",'[\\"]',Hr),"g"),Ms=new RegExp(s("[^]",ct,Yt),"g"),ja=Ms;function On(z){var P=ue(z);return P.match(ar)?P:z}var Bs={scheme:"mailto",parse:function(P,F){var W=P,H=W.to=W.path?W.path.split(","):[];if(W.path=void 0,W.query){for(var he=!1,ge={},Re=W.query.split("&"),Ue=0,xe=Re.length;Ue<xe;++Ue){var Oe=Re[Ue].split("=");switch(Oe[0]){case"to":for(var je=Oe[1].split(","),Ke=0,ke=je.length;Ke<ke;++Ke)H.push(je[Ke]);break;case"subject":W.subject=Fe(Oe[1],F);break;case"body":W.body=Fe(Oe[1],F);break;default:he=!0,ge[Fe(Oe[0],F)]=Fe(Oe[1],F);break}}he&&(W.headers=ge)}W.query=void 0;for(var Be=0,He=H.length;Be<He;++Be){var Le=H[Be].split("@");if(Le[0]=Fe(Le[0]),F.unicodeSupport)Le[1]=Fe(Le[1],F).toLowerCase();else try{Le[1]=x.toASCII(Fe(Le[1],F).toLowerCase())}catch(Bt){W.error=W.error||"Email address's domain name can not be converted to ASCII via punycode: "+Bt}H[Be]=Le.join("@")}return W},serialize:function(P,F){var W=P,H=o(P.to);if(H){for(var he=0,ge=H.length;he<ge;++he){var Re=String(H[he]),Ue=Re.lastIndexOf("@"),xe=Re.slice(0,Ue).replace(or,On).replace(or,a).replace(za,re),Oe=Re.slice(Ue+1);try{Oe=F.iri?x.toUnicode(Oe):x.toASCII(Fe(Oe,F).toLowerCase())}catch(Be){W.error=W.error||"Email address's domain name can not be converted to "+(F.iri?"Unicode":"ASCII")+" via punycode: "+Be}H[he]=xe+"@"+Oe}W.path=H.join(",")}var je=P.headers=P.headers||{};P.subject&&(je.subject=P.subject),P.body&&(je.body=P.body);var Ke=[];for(var ke in je)je[ke]!==kr[ke]&&Ke.push(ke.replace(or,On).replace(or,a).replace(Ms,re)+"="+je[ke].replace(or,On).replace(or,a).replace(ja,re));return Ke.length&&(W.query=Ke.join("&")),W}},Fa=/^([^\:]+)\:(.*)/,Ls={scheme:"urn",parse:function(P,F){var W=P.path&&P.path.match(Fa),H=P;if(W){var he=F.scheme||H.scheme||"urn",ge=W[1].toLowerCase(),Re=W[2],Ue=he+":"+(F.nid||ge),xe=se[Ue];H.nid=ge,H.nss=Re,H.path=void 0,xe&&(H=xe.parse(H,F))}else H.error=H.error||"URN can not be parsed.";return H},serialize:function(P,F){var W=F.scheme||P.scheme||"urn",H=P.nid,he=W+":"+(F.nid||H),ge=se[he];ge&&(P=ge.serialize(P,F));var Re=P,Ue=P.nss;return Re.path=(H||F.nid)+":"+Ue,Re}},Ua=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,Vs={scheme:"urn:uuid",parse:function(P,F){var W=P;return W.uuid=W.nss,W.nss=void 0,!F.tolerant&&(!W.uuid||!W.uuid.match(Ua))&&(W.error=W.error||"UUID is not valid."),W},serialize:function(P,F){var W=P;return W.nss=(P.uuid||"").toLowerCase(),W}};se[it.scheme]=it,se[at.scheme]=at,se[De.scheme]=De,se[Jt.scheme]=Jt,se[Bs.scheme]=Bs,se[Ls.scheme]=Ls,se[Vs.scheme]=Vs,r.SCHEMES=se,r.pctEncChar=re,r.pctDecChars=ue,r.parse=K,r.removeDotSegments=V,r.serialize=te,r.resolveComponents=le,r.resolve=ne,r.normalize=fe,r.equal=Te,r.escapeComponent=Ee,r.unescapeComponent=Fe,Object.defineProperty(r,"__esModule",{value:!0})})})(mc,mn);Object.defineProperty(as,"__esModule",{value:!0});const ka=mn;ka.code='require("ajv/dist/runtime/uri").default';as.default=ka;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=void 0;var t=gt;Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return t.KeywordCxt}});var r=Pe;Object.defineProperty(e,"_",{enumerable:!0,get:function(){return r._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return r.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return r.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return r.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return r.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return r.CodeGen}});const s=xr,n=Kr,i=sr,a=nt,o=Pe,c=Qe,l=Vr,p=Ne,h=pc,b=as,u=(G,A)=>new RegExp(G,A);u.code="new RegExp";const _=["removeAdditional","useDefaults","coerceTypes"],f=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),m={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},d={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},v=200;function w(G){var A,R,U,$,S,x,se,re,ue,_e,$e,Ve,We,g,J,K,T,I,M,Y,X,V,te,le,ne;const fe=G.strict,Te=(A=G.code)===null||A===void 0?void 0:A.optimize,Ee=Te===!0||Te===void 0?1:Te||0,Fe=(U=(R=G.code)===null||R===void 0?void 0:R.regExp)!==null&&U!==void 0?U:u,it=($=G.uriResolver)!==null&&$!==void 0?$:b.default;return{strictSchema:(x=(S=G.strictSchema)!==null&&S!==void 0?S:fe)!==null&&x!==void 0?x:!0,strictNumbers:(re=(se=G.strictNumbers)!==null&&se!==void 0?se:fe)!==null&&re!==void 0?re:!0,strictTypes:(_e=(ue=G.strictTypes)!==null&&ue!==void 0?ue:fe)!==null&&_e!==void 0?_e:"log",strictTuples:(Ve=($e=G.strictTuples)!==null&&$e!==void 0?$e:fe)!==null&&Ve!==void 0?Ve:"log",strictRequired:(g=(We=G.strictRequired)!==null&&We!==void 0?We:fe)!==null&&g!==void 0?g:!1,code:G.code?{...G.code,optimize:Ee,regExp:Fe}:{optimize:Ee,regExp:Fe},loopRequired:(J=G.loopRequired)!==null&&J!==void 0?J:v,loopEnum:(K=G.loopEnum)!==null&&K!==void 0?K:v,meta:(T=G.meta)!==null&&T!==void 0?T:!0,messages:(I=G.messages)!==null&&I!==void 0?I:!0,inlineRefs:(M=G.inlineRefs)!==null&&M!==void 0?M:!0,schemaId:(Y=G.schemaId)!==null&&Y!==void 0?Y:"$id",addUsedSchema:(X=G.addUsedSchema)!==null&&X!==void 0?X:!0,validateSchema:(V=G.validateSchema)!==null&&V!==void 0?V:!0,validateFormats:(te=G.validateFormats)!==null&&te!==void 0?te:!0,unicodeRegExp:(le=G.unicodeRegExp)!==null&&le!==void 0?le:!0,int32range:(ne=G.int32range)!==null&&ne!==void 0?ne:!0,uriResolver:it}}class k{constructor(A={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,A=this.opts={...A,...w(A)};const{es5:R,lines:U}=this.opts.code;this.scope=new o.ValueScope({scope:{},prefixes:f,es5:R,lines:U}),this.logger=N(A.logger);const $=A.validateFormats;A.validateFormats=!1,this.RULES=(0,i.getRules)(),E.call(this,m,A,"NOT SUPPORTED"),E.call(this,d,A,"DEPRECATED","warn"),this._metaOpts=Z.call(this),A.formats&&D.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),A.keywords&&j.call(this,A.keywords),typeof A.meta=="object"&&this.addMetaSchema(A.meta),O.call(this),A.validateFormats=$}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:A,meta:R,schemaId:U}=this.opts;let $=h;U==="id"&&($={...h},$.id=$.$id,delete $.$id),R&&A&&this.addMetaSchema($,$[U],!1)}defaultMeta(){const{meta:A,schemaId:R}=this.opts;return this.opts.defaultMeta=typeof A=="object"?A[R]||A:void 0}validate(A,R){let U;if(typeof A=="string"){if(U=this.getSchema(A),!U)throw new Error(`no schema with key or ref "${A}"`)}else U=this.compile(A);const $=U(R);return"$async"in U||(this.errors=U.errors),$}compile(A,R){const U=this._addSchema(A,R);return U.validate||this._compileSchemaEnv(U)}compileAsync(A,R){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");const{loadSchema:U}=this.opts;return $.call(this,A,R);async function $(_e,$e){await S.call(this,_e.$schema);const Ve=this._addSchema(_e,$e);return Ve.validate||x.call(this,Ve)}async function S(_e){_e&&!this.getSchema(_e)&&await $.call(this,{$ref:_e},!0)}async function x(_e){try{return this._compileSchemaEnv(_e)}catch($e){if(!($e instanceof n.default))throw $e;return se.call(this,$e),await re.call(this,$e.missingSchema),x.call(this,_e)}}function se({missingSchema:_e,missingRef:$e}){if(this.refs[_e])throw new Error(`AnySchema ${_e} is loaded but ${$e} cannot be resolved`)}async function re(_e){const $e=await ue.call(this,_e);this.refs[_e]||await S.call(this,$e.$schema),this.refs[_e]||this.addSchema($e,_e,R)}async function ue(_e){const $e=this._loading[_e];if($e)return $e;try{return await(this._loading[_e]=U(_e))}finally{delete this._loading[_e]}}}addSchema(A,R,U,$=this.opts.validateSchema){if(Array.isArray(A)){for(const x of A)this.addSchema(x,void 0,U,$);return this}let S;if(typeof A=="object"){const{schemaId:x}=this.opts;if(S=A[x],S!==void 0&&typeof S!="string")throw new Error(`schema ${x} must be string`)}return R=(0,c.normalizeId)(R||S),this._checkUnique(R),this.schemas[R]=this._addSchema(A,U,R,$,!0),this}addMetaSchema(A,R,U=this.opts.validateSchema){return this.addSchema(A,R,!0,U),this}validateSchema(A,R){if(typeof A=="boolean")return!0;let U;if(U=A.$schema,U!==void 0&&typeof U!="string")throw new Error("$schema must be a string");if(U=U||this.opts.defaultMeta||this.defaultMeta(),!U)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const $=this.validate(U,A);if(!$&&R){const S="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(S);else throw new Error(S)}return $}getSchema(A){let R;for(;typeof(R=C.call(this,A))=="string";)A=R;if(R===void 0){const{schemaId:U}=this.opts,$=new a.SchemaEnv({schema:{},schemaId:U});if(R=a.resolveSchema.call(this,$,A),!R)return;this.refs[A]=R}return R.validate||this._compileSchemaEnv(R)}removeSchema(A){if(A instanceof RegExp)return this._removeAllSchemas(this.schemas,A),this._removeAllSchemas(this.refs,A),this;switch(typeof A){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const R=C.call(this,A);return typeof R=="object"&&this._cache.delete(R.schema),delete this.schemas[A],delete this.refs[A],this}case"object":{const R=A;this._cache.delete(R);let U=A[this.opts.schemaId];return U&&(U=(0,c.normalizeId)(U),delete this.schemas[U],delete this.refs[U]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(A){for(const R of A)this.addKeyword(R);return this}addKeyword(A,R){let U;if(typeof A=="string")U=A,typeof R=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),R.keyword=U);else if(typeof A=="object"&&R===void 0){if(R=A,U=R.keyword,Array.isArray(U)&&!U.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(y.call(this,U,R),!R)return(0,p.eachItem)(U,S=>B.call(this,S)),this;Q.call(this,R);const $={...R,type:(0,l.getJSONTypes)(R.type),schemaType:(0,l.getJSONTypes)(R.schemaType)};return(0,p.eachItem)(U,$.type.length===0?S=>B.call(this,S,$):S=>$.type.forEach(x=>B.call(this,S,$,x))),this}getKeyword(A){const R=this.RULES.all[A];return typeof R=="object"?R.definition:!!R}removeKeyword(A){const{RULES:R}=this;delete R.keywords[A],delete R.all[A];for(const U of R.rules){const $=U.rules.findIndex(S=>S.keyword===A);$>=0&&U.rules.splice($,1)}return this}addFormat(A,R){return typeof R=="string"&&(R=new RegExp(R)),this.formats[A]=R,this}errorsText(A=this.errors,{separator:R=", ",dataVar:U="data"}={}){return!A||A.length===0?"No errors":A.map($=>`${U}${$.instancePath} ${$.message}`).reduce(($,S)=>$+R+S)}$dataMetaSchema(A,R){const U=this.RULES.all;A=JSON.parse(JSON.stringify(A));for(const $ of R){const S=$.split("/").slice(1);let x=A;for(const se of S)x=x[se];for(const se in U){const re=U[se];if(typeof re!="object")continue;const{$data:ue}=re.definition,_e=x[se];ue&&_e&&(x[se]=ee(_e))}}return A}_removeAllSchemas(A,R){for(const U in A){const $=A[U];(!R||R.test(U))&&(typeof $=="string"?delete A[U]:$&&!$.meta&&(this._cache.delete($.schema),delete A[U]))}}_addSchema(A,R,U,$=this.opts.validateSchema,S=this.opts.addUsedSchema){let x;const{schemaId:se}=this.opts;if(typeof A=="object")x=A[se];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof A!="boolean")throw new Error("schema must be object or boolean")}let re=this._cache.get(A);if(re!==void 0)return re;U=(0,c.normalizeId)(x||U);const ue=c.getSchemaRefs.call(this,A,U);return re=new a.SchemaEnv({schema:A,schemaId:se,meta:R,baseId:U,localRefs:ue}),this._cache.set(re.schema,re),S&&!U.startsWith("#")&&(U&&this._checkUnique(U),this.refs[U]=re),$&&this.validateSchema(A,!0),re}_checkUnique(A){if(this.schemas[A]||this.refs[A])throw new Error(`schema with key or id "${A}" already exists`)}_compileSchemaEnv(A){if(A.meta?this._compileMetaSchema(A):a.compileSchema.call(this,A),!A.validate)throw new Error("ajv implementation error");return A.validate}_compileMetaSchema(A){const R=this.opts;this.opts=this._metaOpts;try{a.compileSchema.call(this,A)}finally{this.opts=R}}}e.default=k,k.ValidationError=s.default,k.MissingRefError=n.default;function E(G,A,R,U="error"){for(const $ in G){const S=$;S in A&&this.logger[U](`${R}: option ${$}. ${G[S]}`)}}function C(G){return G=(0,c.normalizeId)(G),this.schemas[G]||this.refs[G]}function O(){const G=this.opts.schemas;if(G)if(Array.isArray(G))this.addSchema(G);else for(const A in G)this.addSchema(G[A],A)}function D(){for(const G in this.opts.formats){const A=this.opts.formats[G];A&&this.addFormat(G,A)}}function j(G){if(Array.isArray(G)){this.addVocabulary(G);return}this.logger.warn("keywords option as map is deprecated, pass array");for(const A in G){const R=G[A];R.keyword||(R.keyword=A),this.addKeyword(R)}}function Z(){const G={...this.opts};for(const A of _)delete G[A];return G}const ie={log(){},warn(){},error(){}};function N(G){if(G===!1)return ie;if(G===void 0)return console;if(G.log&&G.warn&&G.error)return G;throw new Error("logger must implement log, warn and error methods")}const q=/^[a-z_$][a-z0-9_$:-]*$/i;function y(G,A){const{RULES:R}=this;if((0,p.eachItem)(G,U=>{if(R.keywords[U])throw new Error(`Keyword ${U} is already defined`);if(!q.test(U))throw new Error(`Keyword ${U} has invalid name`)}),!!A&&A.$data&&!("code"in A||"validate"in A))throw new Error('$data keyword must have "code" or "validate" function')}function B(G,A,R){var U;const $=A==null?void 0:A.post;if(R&&$)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:S}=this;let x=$?S.post:S.rules.find(({type:re})=>re===R);if(x||(x={type:R,rules:[]},S.rules.push(x)),S.keywords[G]=!0,!A)return;const se={keyword:G,definition:{...A,type:(0,l.getJSONTypes)(A.type),schemaType:(0,l.getJSONTypes)(A.schemaType)}};A.before?ae.call(this,x,se,A.before):x.rules.push(se),S.all[G]=se,(U=A.implements)===null||U===void 0||U.forEach(re=>this.addKeyword(re))}function ae(G,A,R){const U=G.rules.findIndex($=>$.keyword===R);U>=0?G.rules.splice(U,0,A):(G.rules.push(A),this.logger.warn(`rule ${R} is not defined`))}function Q(G){let{metaSchema:A}=G;A!==void 0&&(G.$data&&this.opts.$data&&(A=ee(A)),G.validateSchema=this.compile(A,!0))}const pe={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function ee(G){return{anyOf:[G,pe]}}})(Xi);var os={},ls={},cs={};Object.defineProperty(cs,"__esModule",{value:!0});const _c={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};cs.default=_c;var ir={};Object.defineProperty(ir,"__esModule",{value:!0});ir.callRef=ir.getValidate=void 0;const gc=Kr,vi=Ie,rt=Pe,dr=Ot,yi=nt,Qr=Ne,vc={keyword:"$ref",schemaType:"string",code(e){const{gen:t,schema:r,it:s}=e,{baseId:n,schemaEnv:i,validateName:a,opts:o,self:c}=s,{root:l}=i;if((r==="#"||r==="#/")&&n===l.baseId)return h();const p=yi.resolveRef.call(c,l,n,r);if(p===void 0)throw new gc.default(s.opts.uriResolver,n,r);if(p instanceof yi.SchemaEnv)return b(p);return u(p);function h(){if(i===l)return on(e,a,i,i.$async);const _=t.scopeValue("root",{ref:l});return on(e,(0,rt._)`${_}.validate`,l,l.$async)}function b(_){const f=Aa(e,_);on(e,f,_,_.$async)}function u(_){const f=t.scopeValue("schema",o.code.source===!0?{ref:_,code:(0,rt.stringify)(_)}:{ref:_}),m=t.name("valid"),d=e.subschema({schema:_,dataTypes:[],schemaPath:rt.nil,topSchemaRef:f,errSchemaPath:r},m);e.mergeEvaluated(d),e.ok(m)}}};function Aa(e,t){const{gen:r}=e;return t.validate?r.scopeValue("validate",{ref:t.validate}):(0,rt._)`${r.scopeValue("wrapper",{ref:t})}.validate`}ir.getValidate=Aa;function on(e,t,r,s){const{gen:n,it:i}=e,{allErrors:a,schemaEnv:o,opts:c}=i,l=c.passContext?dr.default.this:rt.nil;s?p():h();function p(){if(!o.$async)throw new Error("async schema referenced by sync schema");const _=n.let("valid");n.try(()=>{n.code((0,rt._)`await ${(0,vi.callValidateCode)(e,t,l)}`),u(t),a||n.assign(_,!0)},f=>{n.if((0,rt._)`!(${f} instanceof ${i.ValidationError})`,()=>n.throw(f)),b(f),a||n.assign(_,!1)}),e.ok(_)}function h(){e.result((0,vi.callValidateCode)(e,t,l),()=>u(t),()=>b(t))}function b(_){const f=(0,rt._)`${_}.errors`;n.assign(dr.default.vErrors,(0,rt._)`${dr.default.vErrors} === null ? ${f} : ${dr.default.vErrors}.concat(${f})`),n.assign(dr.default.errors,(0,rt._)`${dr.default.vErrors}.length`)}function u(_){var f;if(!i.opts.unevaluated)return;const m=(f=r==null?void 0:r.validate)===null||f===void 0?void 0:f.evaluated;if(i.props!==!0)if(m&&!m.dynamicProps)m.props!==void 0&&(i.props=Qr.mergeEvaluated.props(n,m.props,i.props));else{const d=n.var("props",(0,rt._)`${_}.evaluated.props`);i.props=Qr.mergeEvaluated.props(n,d,i.props,rt.Name)}if(i.items!==!0)if(m&&!m.dynamicItems)m.items!==void 0&&(i.items=Qr.mergeEvaluated.items(n,m.items,i.items));else{const d=n.var("items",(0,rt._)`${_}.evaluated.items`);i.items=Qr.mergeEvaluated.items(n,d,i.items,rt.Name)}}}ir.callRef=on;ir.default=vc;Object.defineProperty(ls,"__esModule",{value:!0});const yc=cs,bc=ir,wc=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",yc.default,bc.default];ls.default=wc;var us={},fs={};Object.defineProperty(fs,"__esModule",{value:!0});const _n=Pe,Vt=_n.operators,gn={maximum:{okStr:"<=",ok:Vt.LTE,fail:Vt.GT},minimum:{okStr:">=",ok:Vt.GTE,fail:Vt.LT},exclusiveMaximum:{okStr:"<",ok:Vt.LT,fail:Vt.GTE},exclusiveMinimum:{okStr:">",ok:Vt.GT,fail:Vt.LTE}},$c={message:({keyword:e,schemaCode:t})=>(0,_n.str)`must be ${gn[e].okStr} ${t}`,params:({keyword:e,schemaCode:t})=>(0,_n._)`{comparison: ${gn[e].okStr}, limit: ${t}}`},kc={keyword:Object.keys(gn),type:"number",schemaType:"number",$data:!0,error:$c,code(e){const{keyword:t,data:r,schemaCode:s}=e;e.fail$data((0,_n._)`${r} ${gn[t].fail} ${s} || isNaN(${r})`)}};fs.default=kc;var ds={};Object.defineProperty(ds,"__esModule",{value:!0});const Dr=Pe,Ac={message:({schemaCode:e})=>(0,Dr.str)`must be multiple of ${e}`,params:({schemaCode:e})=>(0,Dr._)`{multipleOf: ${e}}`},Ec={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:Ac,code(e){const{gen:t,data:r,schemaCode:s,it:n}=e,i=n.opts.multipleOfPrecision,a=t.let("res"),o=i?(0,Dr._)`Math.abs(Math.round(${a}) - ${a}) > 1e-${i}`:(0,Dr._)`${a} !== parseInt(${a})`;e.fail$data((0,Dr._)`(${s} === 0 || (${a} = ${r}/${s}, ${o}))`)}};ds.default=Ec;var hs={},ps={};Object.defineProperty(ps,"__esModule",{value:!0});function Ea(e){const t=e.length;let r=0,s=0,n;for(;s<t;)r++,n=e.charCodeAt(s++),n>=55296&&n<=56319&&s<t&&(n=e.charCodeAt(s),(n&64512)===56320&&s++);return r}ps.default=Ea;Ea.code='require("ajv/dist/runtime/ucs2length").default';Object.defineProperty(hs,"__esModule",{value:!0});const rr=Pe,Sc=Ne,Cc=ps,Ic={message({keyword:e,schemaCode:t}){const r=e==="maxLength"?"more":"fewer";return(0,rr.str)`must NOT have ${r} than ${t} characters`},params:({schemaCode:e})=>(0,rr._)`{limit: ${e}}`},Pc={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:Ic,code(e){const{keyword:t,data:r,schemaCode:s,it:n}=e,i=t==="maxLength"?rr.operators.GT:rr.operators.LT,a=n.opts.unicode===!1?(0,rr._)`${r}.length`:(0,rr._)`${(0,Sc.useFunc)(e.gen,Cc.default)}(${r})`;e.fail$data((0,rr._)`${a} ${i} ${s}`)}};hs.default=Pc;var ms={};Object.defineProperty(ms,"__esModule",{value:!0});const Oc=Ie,vn=Pe,Rc={message:({schemaCode:e})=>(0,vn.str)`must match pattern "${e}"`,params:({schemaCode:e})=>(0,vn._)`{pattern: ${e}}`},Nc={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:Rc,code(e){const{data:t,$data:r,schema:s,schemaCode:n,it:i}=e,a=i.opts.unicodeRegExp?"u":"",o=r?(0,vn._)`(new RegExp(${n}, ${a}))`:(0,Oc.usePattern)(e,s);e.fail$data((0,vn._)`!${o}.test(${t})`)}};ms.default=Nc;var _s={};Object.defineProperty(_s,"__esModule",{value:!0});const zr=Pe,Tc={message({keyword:e,schemaCode:t}){const r=e==="maxProperties"?"more":"fewer";return(0,zr.str)`must NOT have ${r} than ${t} properties`},params:({schemaCode:e})=>(0,zr._)`{limit: ${e}}`},Dc={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:Tc,code(e){const{keyword:t,data:r,schemaCode:s}=e,n=t==="maxProperties"?zr.operators.GT:zr.operators.LT;e.fail$data((0,zr._)`Object.keys(${r}).length ${n} ${s}`)}};_s.default=Dc;var gs={};Object.defineProperty(gs,"__esModule",{value:!0});const Ir=Ie,jr=Pe,zc=Ne,jc={message:({params:{missingProperty:e}})=>(0,jr.str)`must have required property '${e}'`,params:({params:{missingProperty:e}})=>(0,jr._)`{missingProperty: ${e}}`},Fc={keyword:"required",type:"object",schemaType:"array",$data:!0,error:jc,code(e){const{gen:t,schema:r,schemaCode:s,data:n,$data:i,it:a}=e,{opts:o}=a;if(!i&&r.length===0)return;const c=r.length>=o.loopRequired;if(a.allErrors?l():p(),o.strictRequired){const u=e.parentSchema.properties,{definedProperties:_}=e.it;for(const f of r)if((u==null?void 0:u[f])===void 0&&!_.has(f)){const m=a.schemaEnv.baseId+a.errSchemaPath,d=`required property "${f}" is not defined at "${m}" (strictRequired)`;(0,zc.checkStrictMode)(a,d,a.opts.strictRequired)}}function l(){if(c||i)e.block$data(jr.nil,h);else for(const u of r)(0,Ir.checkReportMissingProp)(e,u)}function p(){const u=t.let("missing");if(c||i){const _=t.let("valid",!0);e.block$data(_,()=>b(u,_)),e.ok(_)}else t.if((0,Ir.checkMissingProp)(e,r,u)),(0,Ir.reportMissingProp)(e,u),t.else()}function h(){t.forOf("prop",s,u=>{e.setParams({missingProperty:u}),t.if((0,Ir.noPropertyInData)(t,n,u,o.ownProperties),()=>e.error())})}function b(u,_){e.setParams({missingProperty:u}),t.forOf(u,s,()=>{t.assign(_,(0,Ir.propertyInData)(t,n,u,o.ownProperties)),t.if((0,jr.not)(_),()=>{e.error(),t.break()})},jr.nil)}}};gs.default=Fc;var vs={};Object.defineProperty(vs,"__esModule",{value:!0});const Fr=Pe,Uc={message({keyword:e,schemaCode:t}){const r=e==="maxItems"?"more":"fewer";return(0,Fr.str)`must NOT have ${r} than ${t} items`},params:({schemaCode:e})=>(0,Fr._)`{limit: ${e}}`},Mc={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:Uc,code(e){const{keyword:t,data:r,schemaCode:s}=e,n=t==="maxItems"?Fr.operators.GT:Fr.operators.LT;e.fail$data((0,Fr._)`${r}.length ${n} ${s}`)}};vs.default=Mc;var ys={},qr={};Object.defineProperty(qr,"__esModule",{value:!0});const Sa=oa;Sa.code='require("ajv/dist/runtime/equal").default';qr.default=Sa;Object.defineProperty(ys,"__esModule",{value:!0});const zn=Vr,Je=Pe,Bc=Ne,Lc=qr,Vc={message:({params:{i:e,j:t}})=>(0,Je.str)`must NOT have duplicate items (items ## ${t} and ${e} are identical)`,params:({params:{i:e,j:t}})=>(0,Je._)`{i: ${e}, j: ${t}}`},xc={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:Vc,code(e){const{gen:t,data:r,$data:s,schema:n,parentSchema:i,schemaCode:a,it:o}=e;if(!s&&!n)return;const c=t.let("valid"),l=i.items?(0,zn.getSchemaTypes)(i.items):[];e.block$data(c,p,(0,Je._)`${a} === false`),e.ok(c);function p(){const _=t.let("i",(0,Je._)`${r}.length`),f=t.let("j");e.setParams({i:_,j:f}),t.assign(c,!0),t.if((0,Je._)`${_} > 1`,()=>(h()?b:u)(_,f))}function h(){return l.length>0&&!l.some(_=>_==="object"||_==="array")}function b(_,f){const m=t.name("item"),d=(0,zn.checkDataTypes)(l,m,o.opts.strictNumbers,zn.DataType.Wrong),v=t.const("indices",(0,Je._)`{}`);t.for((0,Je._)`;${_}--;`,()=>{t.let(m,(0,Je._)`${r}[${_}]`),t.if(d,(0,Je._)`continue`),l.length>1&&t.if((0,Je._)`typeof ${m} == "string"`,(0,Je._)`${m} += "_"`),t.if((0,Je._)`typeof ${v}[${m}] == "number"`,()=>{t.assign(f,(0,Je._)`${v}[${m}]`),e.error(),t.assign(c,!1).break()}).code((0,Je._)`${v}[${m}] = ${_}`)})}function u(_,f){const m=(0,Bc.useFunc)(t,Lc.default),d=t.name("outer");t.label(d).for((0,Je._)`;${_}--;`,()=>t.for((0,Je._)`${f} = ${_}; ${f}--;`,()=>t.if((0,Je._)`${m}(${r}[${_}], ${r}[${f}])`,()=>{e.error(),t.assign(c,!1).break(d)})))}}};ys.default=xc;var bs={};Object.defineProperty(bs,"__esModule",{value:!0});const Hn=Pe,Kc=Ne,qc=qr,Hc={message:"must be equal to constant",params:({schemaCode:e})=>(0,Hn._)`{allowedValue: ${e}}`},Wc={keyword:"const",$data:!0,error:Hc,code(e){const{gen:t,data:r,$data:s,schemaCode:n,schema:i}=e;s||i&&typeof i=="object"?e.fail$data((0,Hn._)`!${(0,Kc.useFunc)(t,qc.default)}(${r}, ${n})`):e.fail((0,Hn._)`${i} !== ${r}`)}};bs.default=Wc;var ws={};Object.defineProperty(ws,"__esModule",{value:!0});const Or=Pe,Zc=Ne,Gc=qr,Jc={message:"must be equal to one of the allowed values",params:({schemaCode:e})=>(0,Or._)`{allowedValues: ${e}}`},Yc={keyword:"enum",schemaType:"array",$data:!0,error:Jc,code(e){const{gen:t,data:r,$data:s,schema:n,schemaCode:i,it:a}=e;if(!s&&n.length===0)throw new Error("enum must have non-empty array");const o=n.length>=a.opts.loopEnum;let c;const l=()=>c??(c=(0,Zc.useFunc)(t,Gc.default));let p;if(o||s)p=t.let("valid"),e.block$data(p,h);else{if(!Array.isArray(n))throw new Error("ajv implementation error");const u=t.const("vSchema",i);p=(0,Or.or)(...n.map((_,f)=>b(u,f)))}e.pass(p);function h(){t.assign(p,!1),t.forOf("v",i,u=>t.if((0,Or._)`${l()}(${r}, ${u})`,()=>t.assign(p,!0).break()))}function b(u,_){const f=n[_];return typeof f=="object"&&f!==null?(0,Or._)`${l()}(${r}, ${u}[${_}])`:(0,Or._)`${r} === ${f}`}}};ws.default=Yc;Object.defineProperty(us,"__esModule",{value:!0});const Qc=fs,Xc=ds,eu=hs,tu=ms,ru=_s,nu=gs,su=vs,iu=ys,au=bs,ou=ws,lu=[Qc.default,Xc.default,eu.default,tu.default,ru.default,nu.default,su.default,iu.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},au.default,ou.default];us.default=lu;var $s={},wr={};Object.defineProperty(wr,"__esModule",{value:!0});wr.validateAdditionalItems=void 0;const nr=Pe,Wn=Ne,cu={message:({params:{len:e}})=>(0,nr.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,nr._)`{limit: ${e}}`},uu={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:cu,code(e){const{parentSchema:t,it:r}=e,{items:s}=t;if(!Array.isArray(s)){(0,Wn.checkStrictMode)(r,'"additionalItems" is ignored when "items" is not an array of schemas');return}Ca(e,s)}};function Ca(e,t){const{gen:r,schema:s,data:n,keyword:i,it:a}=e;a.items=!0;const o=r.const("len",(0,nr._)`${n}.length`);if(s===!1)e.setParams({len:t.length}),e.pass((0,nr._)`${o} <= ${t.length}`);else if(typeof s=="object"&&!(0,Wn.alwaysValidSchema)(a,s)){const l=r.var("valid",(0,nr._)`${o} <= ${t.length}`);r.if((0,nr.not)(l),()=>c(l)),e.ok(l)}function c(l){r.forRange("i",t.length,o,p=>{e.subschema({keyword:i,dataProp:p,dataPropType:Wn.Type.Num},l),a.allErrors||r.if((0,nr.not)(l),()=>r.break())})}}wr.validateAdditionalItems=Ca;wr.default=uu;var ks={},$r={};Object.defineProperty($r,"__esModule",{value:!0});$r.validateTuple=void 0;const bi=Pe,ln=Ne,fu=Ie,du={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(e){const{schema:t,it:r}=e;if(Array.isArray(t))return Ia(e,"additionalItems",t);r.items=!0,!(0,ln.alwaysValidSchema)(r,t)&&e.ok((0,fu.validateArray)(e))}};function Ia(e,t,r=e.schema){const{gen:s,parentSchema:n,data:i,keyword:a,it:o}=e;p(n),o.opts.unevaluated&&r.length&&o.items!==!0&&(o.items=ln.mergeEvaluated.items(s,r.length,o.items));const c=s.name("valid"),l=s.const("len",(0,bi._)`${i}.length`);r.forEach((h,b)=>{(0,ln.alwaysValidSchema)(o,h)||(s.if((0,bi._)`${l} > ${b}`,()=>e.subschema({keyword:a,schemaProp:b,dataProp:b},c)),e.ok(c))});function p(h){const{opts:b,errSchemaPath:u}=o,_=r.length,f=_===h.minItems&&(_===h.maxItems||h[t]===!1);if(b.strictTuples&&!f){const m=`"${a}" is ${_}-tuple, but minItems or maxItems/${t} are not specified or different at path "${u}"`;(0,ln.checkStrictMode)(o,m,b.strictTuples)}}}$r.validateTuple=Ia;$r.default=du;Object.defineProperty(ks,"__esModule",{value:!0});const hu=$r,pu={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:e=>(0,hu.validateTuple)(e,"items")};ks.default=pu;var As={};Object.defineProperty(As,"__esModule",{value:!0});const wi=Pe,mu=Ne,_u=Ie,gu=wr,vu={message:({params:{len:e}})=>(0,wi.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,wi._)`{limit: ${e}}`},yu={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:vu,code(e){const{schema:t,parentSchema:r,it:s}=e,{prefixItems:n}=r;s.items=!0,!(0,mu.alwaysValidSchema)(s,t)&&(n?(0,gu.validateAdditionalItems)(e,n):e.ok((0,_u.validateArray)(e)))}};As.default=yu;var Es={};Object.defineProperty(Es,"__esModule",{value:!0});const ft=Pe,Xr=Ne,bu={message:({params:{min:e,max:t}})=>t===void 0?(0,ft.str)`must contain at least ${e} valid item(s)`:(0,ft.str)`must contain at least ${e} and no more than ${t} valid item(s)`,params:({params:{min:e,max:t}})=>t===void 0?(0,ft._)`{minContains: ${e}}`:(0,ft._)`{minContains: ${e}, maxContains: ${t}}`},wu={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:bu,code(e){const{gen:t,schema:r,parentSchema:s,data:n,it:i}=e;let a,o;const{minContains:c,maxContains:l}=s;i.opts.next?(a=c===void 0?1:c,o=l):a=1;const p=t.const("len",(0,ft._)`${n}.length`);if(e.setParams({min:a,max:o}),o===void 0&&a===0){(0,Xr.checkStrictMode)(i,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(o!==void 0&&a>o){(0,Xr.checkStrictMode)(i,'"minContains" > "maxContains" is always invalid'),e.fail();return}if((0,Xr.alwaysValidSchema)(i,r)){let f=(0,ft._)`${p} >= ${a}`;o!==void 0&&(f=(0,ft._)`${f} && ${p} <= ${o}`),e.pass(f);return}i.items=!0;const h=t.name("valid");o===void 0&&a===1?u(h,()=>t.if(h,()=>t.break())):a===0?(t.let(h,!0),o!==void 0&&t.if((0,ft._)`${n}.length > 0`,b)):(t.let(h,!1),b()),e.result(h,()=>e.reset());function b(){const f=t.name("_valid"),m=t.let("count",0);u(f,()=>t.if(f,()=>_(m)))}function u(f,m){t.forRange("i",0,p,d=>{e.subschema({keyword:"contains",dataProp:d,dataPropType:Xr.Type.Num,compositeRule:!0},f),m()})}function _(f){t.code((0,ft._)`${f}++`),o===void 0?t.if((0,ft._)`${f} >= ${a}`,()=>t.assign(h,!0).break()):(t.if((0,ft._)`${f} > ${o}`,()=>t.assign(h,!1).break()),a===1?t.assign(h,!0):t.if((0,ft._)`${f} >= ${a}`,()=>t.assign(h,!0)))}}};Es.default=wu;var Pa={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.validateSchemaDeps=e.validatePropertyDeps=e.error=void 0;const t=Pe,r=Ne,s=Ie;e.error={message:({params:{property:c,depsCount:l,deps:p}})=>{const h=l===1?"property":"properties";return(0,t.str)`must have ${h} ${p} when property ${c} is present`},params:({params:{property:c,depsCount:l,deps:p,missingProperty:h}})=>(0,t._)`{property: ${c},
    missingProperty: ${h},
    depsCount: ${l},
    deps: ${p}}`};const n={keyword:"dependencies",type:"object",schemaType:"object",error:e.error,code(c){const[l,p]=i(c);a(c,l),o(c,p)}};function i({schema:c}){const l={},p={};for(const h in c){if(h==="__proto__")continue;const b=Array.isArray(c[h])?l:p;b[h]=c[h]}return[l,p]}function a(c,l=c.schema){const{gen:p,data:h,it:b}=c;if(Object.keys(l).length===0)return;const u=p.let("missing");for(const _ in l){const f=l[_];if(f.length===0)continue;const m=(0,s.propertyInData)(p,h,_,b.opts.ownProperties);c.setParams({property:_,depsCount:f.length,deps:f.join(", ")}),b.allErrors?p.if(m,()=>{for(const d of f)(0,s.checkReportMissingProp)(c,d)}):(p.if((0,t._)`${m} && (${(0,s.checkMissingProp)(c,f,u)})`),(0,s.reportMissingProp)(c,u),p.else())}}e.validatePropertyDeps=a;function o(c,l=c.schema){const{gen:p,data:h,keyword:b,it:u}=c,_=p.name("valid");for(const f in l)(0,r.alwaysValidSchema)(u,l[f])||(p.if((0,s.propertyInData)(p,h,f,u.opts.ownProperties),()=>{const m=c.subschema({keyword:b,schemaProp:f},_);c.mergeValidEvaluated(m,_)},()=>p.var(_,!0)),c.ok(_))}e.validateSchemaDeps=o,e.default=n})(Pa);var Ss={};Object.defineProperty(Ss,"__esModule",{value:!0});const Oa=Pe,$u=Ne,ku={message:"property name must be valid",params:({params:e})=>(0,Oa._)`{propertyName: ${e.propertyName}}`},Au={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:ku,code(e){const{gen:t,schema:r,data:s,it:n}=e;if((0,$u.alwaysValidSchema)(n,r))return;const i=t.name("valid");t.forIn("key",s,a=>{e.setParams({propertyName:a}),e.subschema({keyword:"propertyNames",data:a,dataTypes:["string"],propertyName:a,compositeRule:!0},i),t.if((0,Oa.not)(i),()=>{e.error(!0),n.allErrors||t.break()})}),e.ok(i)}};Ss.default=Au;var Sn={};Object.defineProperty(Sn,"__esModule",{value:!0});const en=Ie,mt=Pe,Eu=Ot,tn=Ne,Su={message:"must NOT have additional properties",params:({params:e})=>(0,mt._)`{additionalProperty: ${e.additionalProperty}}`},Cu={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:Su,code(e){const{gen:t,schema:r,parentSchema:s,data:n,errsCount:i,it:a}=e;if(!i)throw new Error("ajv implementation error");const{allErrors:o,opts:c}=a;if(a.props=!0,c.removeAdditional!=="all"&&(0,tn.alwaysValidSchema)(a,r))return;const l=(0,en.allSchemaProperties)(s.properties),p=(0,en.allSchemaProperties)(s.patternProperties);h(),e.ok((0,mt._)`${i} === ${Eu.default.errors}`);function h(){t.forIn("key",n,m=>{!l.length&&!p.length?_(m):t.if(b(m),()=>_(m))})}function b(m){let d;if(l.length>8){const v=(0,tn.schemaRefOrVal)(a,s.properties,"properties");d=(0,en.isOwnProperty)(t,v,m)}else l.length?d=(0,mt.or)(...l.map(v=>(0,mt._)`${m} === ${v}`)):d=mt.nil;return p.length&&(d=(0,mt.or)(d,...p.map(v=>(0,mt._)`${(0,en.usePattern)(e,v)}.test(${m})`))),(0,mt.not)(d)}function u(m){t.code((0,mt._)`delete ${n}[${m}]`)}function _(m){if(c.removeAdditional==="all"||c.removeAdditional&&r===!1){u(m);return}if(r===!1){e.setParams({additionalProperty:m}),e.error(),o||t.break();return}if(typeof r=="object"&&!(0,tn.alwaysValidSchema)(a,r)){const d=t.name("valid");c.removeAdditional==="failing"?(f(m,d,!1),t.if((0,mt.not)(d),()=>{e.reset(),u(m)})):(f(m,d),o||t.if((0,mt.not)(d),()=>t.break()))}}function f(m,d,v){const w={keyword:"additionalProperties",dataProp:m,dataPropType:tn.Type.Str};v===!1&&Object.assign(w,{compositeRule:!0,createErrors:!1,allErrors:!1}),e.subschema(w,d)}}};Sn.default=Cu;var Cs={};Object.defineProperty(Cs,"__esModule",{value:!0});const Iu=gt,$i=Ie,jn=Ne,ki=Sn,Pu={keyword:"properties",type:"object",schemaType:"object",code(e){const{gen:t,schema:r,parentSchema:s,data:n,it:i}=e;i.opts.removeAdditional==="all"&&s.additionalProperties===void 0&&ki.default.code(new Iu.KeywordCxt(i,ki.default,"additionalProperties"));const a=(0,$i.allSchemaProperties)(r);for(const h of a)i.definedProperties.add(h);i.opts.unevaluated&&a.length&&i.props!==!0&&(i.props=jn.mergeEvaluated.props(t,(0,jn.toHash)(a),i.props));const o=a.filter(h=>!(0,jn.alwaysValidSchema)(i,r[h]));if(o.length===0)return;const c=t.name("valid");for(const h of o)l(h)?p(h):(t.if((0,$i.propertyInData)(t,n,h,i.opts.ownProperties)),p(h),i.allErrors||t.else().var(c,!0),t.endIf()),e.it.definedProperties.add(h),e.ok(c);function l(h){return i.opts.useDefaults&&!i.compositeRule&&r[h].default!==void 0}function p(h){e.subschema({keyword:"properties",schemaProp:h,dataProp:h},c)}}};Cs.default=Pu;var Is={};Object.defineProperty(Is,"__esModule",{value:!0});const Ai=Ie,rn=Pe,Ei=Ne,Si=Ne,Ou={keyword:"patternProperties",type:"object",schemaType:"object",code(e){const{gen:t,schema:r,data:s,parentSchema:n,it:i}=e,{opts:a}=i,o=(0,Ai.allSchemaProperties)(r),c=o.filter(f=>(0,Ei.alwaysValidSchema)(i,r[f]));if(o.length===0||c.length===o.length&&(!i.opts.unevaluated||i.props===!0))return;const l=a.strictSchema&&!a.allowMatchingProperties&&n.properties,p=t.name("valid");i.props!==!0&&!(i.props instanceof rn.Name)&&(i.props=(0,Si.evaluatedPropsToName)(t,i.props));const{props:h}=i;b();function b(){for(const f of o)l&&u(f),i.allErrors?_(f):(t.var(p,!0),_(f),t.if(p))}function u(f){for(const m in l)new RegExp(f).test(m)&&(0,Ei.checkStrictMode)(i,`property ${m} matches pattern ${f} (use allowMatchingProperties)`)}function _(f){t.forIn("key",s,m=>{t.if((0,rn._)`${(0,Ai.usePattern)(e,f)}.test(${m})`,()=>{const d=c.includes(f);d||e.subschema({keyword:"patternProperties",schemaProp:f,dataProp:m,dataPropType:Si.Type.Str},p),i.opts.unevaluated&&h!==!0?t.assign((0,rn._)`${h}[${m}]`,!0):!d&&!i.allErrors&&t.if((0,rn.not)(p),()=>t.break())})})}}};Is.default=Ou;var Ps={};Object.defineProperty(Ps,"__esModule",{value:!0});const Ru=Ne,Nu={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(e){const{gen:t,schema:r,it:s}=e;if((0,Ru.alwaysValidSchema)(s,r)){e.fail();return}const n=t.name("valid");e.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},n),e.failResult(n,()=>e.reset(),()=>e.error())},error:{message:"must NOT be valid"}};Ps.default=Nu;var Os={};Object.defineProperty(Os,"__esModule",{value:!0});const Tu=Ie,Du={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:Tu.validateUnion,error:{message:"must match a schema in anyOf"}};Os.default=Du;var Rs={};Object.defineProperty(Rs,"__esModule",{value:!0});const cn=Pe,zu=Ne,ju={message:"must match exactly one schema in oneOf",params:({params:e})=>(0,cn._)`{passingSchemas: ${e.passing}}`},Fu={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:ju,code(e){const{gen:t,schema:r,parentSchema:s,it:n}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");if(n.opts.discriminator&&s.discriminator)return;const i=r,a=t.let("valid",!1),o=t.let("passing",null),c=t.name("_valid");e.setParams({passing:o}),t.block(l),e.result(a,()=>e.reset(),()=>e.error(!0));function l(){i.forEach((p,h)=>{let b;(0,zu.alwaysValidSchema)(n,p)?t.var(c,!0):b=e.subschema({keyword:"oneOf",schemaProp:h,compositeRule:!0},c),h>0&&t.if((0,cn._)`${c} && ${a}`).assign(a,!1).assign(o,(0,cn._)`[${o}, ${h}]`).else(),t.if(c,()=>{t.assign(a,!0),t.assign(o,h),b&&e.mergeEvaluated(b,cn.Name)})})}}};Rs.default=Fu;var Ns={};Object.defineProperty(Ns,"__esModule",{value:!0});const Uu=Ne,Mu={keyword:"allOf",schemaType:"array",code(e){const{gen:t,schema:r,it:s}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");const n=t.name("valid");r.forEach((i,a)=>{if((0,Uu.alwaysValidSchema)(s,i))return;const o=e.subschema({keyword:"allOf",schemaProp:a},n);e.ok(n),e.mergeEvaluated(o)})}};Ns.default=Mu;var Ts={};Object.defineProperty(Ts,"__esModule",{value:!0});const yn=Pe,Ra=Ne,Bu={message:({params:e})=>(0,yn.str)`must match "${e.ifClause}" schema`,params:({params:e})=>(0,yn._)`{failingKeyword: ${e.ifClause}}`},Lu={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:Bu,code(e){const{gen:t,parentSchema:r,it:s}=e;r.then===void 0&&r.else===void 0&&(0,Ra.checkStrictMode)(s,'"if" without "then" and "else" is ignored');const n=Ci(s,"then"),i=Ci(s,"else");if(!n&&!i)return;const a=t.let("valid",!0),o=t.name("_valid");if(c(),e.reset(),n&&i){const p=t.let("ifClause");e.setParams({ifClause:p}),t.if(o,l("then",p),l("else",p))}else n?t.if(o,l("then")):t.if((0,yn.not)(o),l("else"));e.pass(a,()=>e.error(!0));function c(){const p=e.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},o);e.mergeEvaluated(p)}function l(p,h){return()=>{const b=e.subschema({keyword:p},o);t.assign(a,o),e.mergeValidEvaluated(b,a),h?t.assign(h,(0,yn._)`${p}`):e.setParams({ifClause:p})}}}};function Ci(e,t){const r=e.schema[t];return r!==void 0&&!(0,Ra.alwaysValidSchema)(e,r)}Ts.default=Lu;var Ds={};Object.defineProperty(Ds,"__esModule",{value:!0});const Vu=Ne,xu={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:e,parentSchema:t,it:r}){t.if===void 0&&(0,Vu.checkStrictMode)(r,`"${e}" without "if" is ignored`)}};Ds.default=xu;Object.defineProperty($s,"__esModule",{value:!0});const Ku=wr,qu=ks,Hu=$r,Wu=As,Zu=Es,Gu=Pa,Ju=Ss,Yu=Sn,Qu=Cs,Xu=Is,ef=Ps,tf=Os,rf=Rs,nf=Ns,sf=Ts,af=Ds;function of(e=!1){const t=[ef.default,tf.default,rf.default,nf.default,sf.default,af.default,Ju.default,Yu.default,Gu.default,Qu.default,Xu.default];return e?t.push(qu.default,Wu.default):t.push(Ku.default,Hu.default),t.push(Zu.default),t}$s.default=of;var zs={},js={};Object.defineProperty(js,"__esModule",{value:!0});const qe=Pe,lf={message:({schemaCode:e})=>(0,qe.str)`must match format "${e}"`,params:({schemaCode:e})=>(0,qe._)`{format: ${e}}`},cf={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:lf,code(e,t){const{gen:r,data:s,$data:n,schema:i,schemaCode:a,it:o}=e,{opts:c,errSchemaPath:l,schemaEnv:p,self:h}=o;if(!c.validateFormats)return;n?b():u();function b(){const _=r.scopeValue("formats",{ref:h.formats,code:c.code.formats}),f=r.const("fDef",(0,qe._)`${_}[${a}]`),m=r.let("fType"),d=r.let("format");r.if((0,qe._)`typeof ${f} == "object" && !(${f} instanceof RegExp)`,()=>r.assign(m,(0,qe._)`${f}.type || "string"`).assign(d,(0,qe._)`${f}.validate`),()=>r.assign(m,(0,qe._)`"string"`).assign(d,f)),e.fail$data((0,qe.or)(v(),w()));function v(){return c.strictSchema===!1?qe.nil:(0,qe._)`${a} && !${d}`}function w(){const k=p.$async?(0,qe._)`(${f}.async ? await ${d}(${s}) : ${d}(${s}))`:(0,qe._)`${d}(${s})`,E=(0,qe._)`(typeof ${d} == "function" ? ${k} : ${d}.test(${s}))`;return(0,qe._)`${d} && ${d} !== true && ${m} === ${t} && !${E}`}}function u(){const _=h.formats[i];if(!_){v();return}if(_===!0)return;const[f,m,d]=w(_);f===t&&e.pass(k());function v(){if(c.strictSchema===!1){h.logger.warn(E());return}throw new Error(E());function E(){return`unknown format "${i}" ignored in schema at path "${l}"`}}function w(E){const C=E instanceof RegExp?(0,qe.regexpCode)(E):c.code.formats?(0,qe._)`${c.code.formats}${(0,qe.getProperty)(i)}`:void 0,O=r.scopeValue("formats",{key:i,ref:E,code:C});return typeof E=="object"&&!(E instanceof RegExp)?[E.type||"string",E.validate,(0,qe._)`${O}.validate`]:["string",E,O]}function k(){if(typeof _=="object"&&!(_ instanceof RegExp)&&_.async){if(!p.$async)throw new Error("async format in sync schema");return(0,qe._)`await ${d}(${s})`}return typeof m=="function"?(0,qe._)`${d}(${s})`:(0,qe._)`${d}.test(${s})`}}}};js.default=cf;Object.defineProperty(zs,"__esModule",{value:!0});const uf=js,ff=[uf.default];zs.default=ff;var br={};Object.defineProperty(br,"__esModule",{value:!0});br.contentVocabulary=br.metadataVocabulary=void 0;br.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"];br.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"];Object.defineProperty(os,"__esModule",{value:!0});const df=ls,hf=us,pf=$s,mf=zs,Ii=br,_f=[df.default,hf.default,(0,pf.default)(),mf.default,Ii.metadataVocabulary,Ii.contentVocabulary];os.default=_f;var Fs={},Na={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.DiscrError=void 0,function(t){t.Tag="tag",t.Mapping="mapping"}(e.DiscrError||(e.DiscrError={}))})(Na);Object.defineProperty(Fs,"__esModule",{value:!0});const pr=Pe,Zn=Na,Pi=nt,gf=Ne,vf={message:({params:{discrError:e,tagName:t}})=>e===Zn.DiscrError.Tag?`tag "${t}" must be string`:`value of tag "${t}" must be in oneOf`,params:({params:{discrError:e,tag:t,tagName:r}})=>(0,pr._)`{error: ${e}, tag: ${r}, tagValue: ${t}}`},yf={keyword:"discriminator",type:"object",schemaType:"object",error:vf,code(e){const{gen:t,data:r,schema:s,parentSchema:n,it:i}=e,{oneOf:a}=n;if(!i.opts.discriminator)throw new Error("discriminator: requires discriminator option");const o=s.propertyName;if(typeof o!="string")throw new Error("discriminator: requires propertyName");if(s.mapping)throw new Error("discriminator: mapping is not supported");if(!a)throw new Error("discriminator: requires oneOf keyword");const c=t.let("valid",!1),l=t.const("tag",(0,pr._)`${r}${(0,pr.getProperty)(o)}`);t.if((0,pr._)`typeof ${l} == "string"`,()=>p(),()=>e.error(!1,{discrError:Zn.DiscrError.Tag,tag:l,tagName:o})),e.ok(c);function p(){const u=b();t.if(!1);for(const _ in u)t.elseIf((0,pr._)`${l} === ${_}`),t.assign(c,h(u[_]));t.else(),e.error(!1,{discrError:Zn.DiscrError.Mapping,tag:l,tagName:o}),t.endIf()}function h(u){const _=t.name("valid"),f=e.subschema({keyword:"oneOf",schemaProp:u},_);return e.mergeEvaluated(f,pr.Name),_}function b(){var u;const _={},f=d(n);let m=!0;for(let k=0;k<a.length;k++){let E=a[k];E!=null&&E.$ref&&!(0,gf.schemaHasRulesButRef)(E,i.self.RULES)&&(E=Pi.resolveRef.call(i.self,i.schemaEnv.root,i.baseId,E==null?void 0:E.$ref),E instanceof Pi.SchemaEnv&&(E=E.schema));const C=(u=E==null?void 0:E.properties)===null||u===void 0?void 0:u[o];if(typeof C!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${o}"`);m=m&&(f||d(E)),v(C,k)}if(!m)throw new Error(`discriminator: "${o}" must be required`);return _;function d({required:k}){return Array.isArray(k)&&k.includes(o)}function v(k,E){if(k.const)w(k.const,E);else if(k.enum)for(const C of k.enum)w(C,E);else throw new Error(`discriminator: "properties/${o}" must have "const" or "enum"`)}function w(k,E){if(typeof k!="string"||k in _)throw new Error(`discriminator: "${o}" values must be unique strings`);_[k]=E}}}};Fs.default=yf;const bf="http://json-schema.org/draft-07/schema#",wf="http://json-schema.org/draft-07/schema#",$f="Core schema meta-schema",kf={schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},Af=["object","boolean"],Ef={$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},Sf={$schema:bf,$id:wf,title:$f,definitions:kf,type:Af,properties:Ef,default:!0};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.MissingRefError=t.ValidationError=t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=void 0;const r=Xi,s=os,n=Fs,i=Sf,a=["/properties"],o="http://json-schema.org/draft-07/schema";class c extends r.default{_addVocabularies(){super._addVocabularies(),s.default.forEach(_=>this.addVocabulary(_)),this.opts.discriminator&&this.addKeyword(n.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const _=this.opts.$data?this.$dataMetaSchema(i,a):i;this.addMetaSchema(_,o,!1),this.refs["http://json-schema.org/schema"]=o}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(o)?o:void 0)}}e.exports=t=c,Object.defineProperty(t,"__esModule",{value:!0}),t.default=c;var l=gt;Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return l.KeywordCxt}});var p=Pe;Object.defineProperty(t,"_",{enumerable:!0,get:function(){return p._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return p.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return p.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return p.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return p.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return p.CodeGen}});var h=xr;Object.defineProperty(t,"ValidationError",{enumerable:!0,get:function(){return h.default}});var b=Kr;Object.defineProperty(t,"MissingRefError",{enumerable:!0,get:function(){return b.default}})})(zo,hn);const Cf=To(hn),Ta=async e=>(await Nr.loadAsync(e)).file("pack.mcmeta")!==null,If=async e=>{const t=await e.text(),r={type:"array",items:{type:"object",properties:{title:{type:"string"},author:{type:"string"},"disc-namespace":{type:"string"},"model-data":{type:"integer"},"creeper-drop":{type:"boolean"},lores:{type:"array",items:{type:"string"}},"loot-tables":{type:"array",items:{type:"string"}}},required:["author","creeper-drop","disc-namespace","lores","model-data","title"]}};return new Cf().compile(r)(JSON.parse(t))},Pf=async(e,t)=>{const r=await e.text(),s=JSON.parse(r),n=await new Nr().loadAsync(t),i=await Promise.all(s.map(async a=>{const o=a["disc-namespace"].substring(a["disc-namespace"].indexOf(".")+1),c=await n.file(`assets/minecraft/sounds/records/${o}.ogg`).async("blob"),l=await n.file(`assets/minecraft/textures/item/music_disc_${o}.png`).async("blob");return{name:a.title,author:a.author,namespace:a["disc-namespace"],creeperDrop:a["creeper-drop"],isMono:!0,normalize:!0,lores:a.lores.join(`
`),lootTables:a["loot-tables"]??[],fragmentLootTables:a["fragment-loot-tables"]??[],uploadedFile:new File([c],`music_disc.${o}.ogg`),oggFile:c,monoFile:c,texture:l}}));mr.set(i)};function Oi(e){let t,r,s=`url(${Qn})`,n,i,a;return{c(){t=ce("div"),L(t,"class","popupbackground svelte-1njfzaq"),vt(t,"background-image",s)},m(o,c){ve(o,t,c),n=!0,i||(a=[be(t,"click",e[9]),be(t,"keydown",null)],i=!0)},p:Ce,i(o){n||(ht(()=>{r||(r=vr(t,Ut,{},!0)),r.run(1)}),n=!0)},o(o){r||(r=vr(t,Ut,{},!1)),r.run(0),n=!1},d(o){o&&me(t),o&&r&&r.end(),i=!1,ze(a)}}}function Ri(e){let t,r,s,n,i,a,o,c,l,p,h,b,u,_,f,m,d,v,w,k,E,C,O,D,j,Z,ie,N,q,y,B,ae,Q,pe,ee,G;return{c(){t=ce("div"),r=ce("div"),s=ce("div"),n=ce("img"),a=Ae(),o=ce("p"),o.textContent="Not Valid",c=Ae(),l=ce("p"),p=lt(e[3]),u=Ae(),_=ce("div"),f=ce("input"),m=Ae(),d=ce("img"),w=Ae(),k=ce("p"),k.textContent="Not Valid",E=Ae(),C=ce("p"),O=lt(e[4]),Z=Ae(),ie=ce("p"),ie.textContent="Warning: Importing a resource pack will overwrite any existing resource pack in the tool!",N=Ae(),q=ce("div"),y=ce("div"),B=ce("div"),B.innerHTML='<p id="generate_text" class="noselect svelte-1njfzaq">Import</p>',Q=Ae(),pe=ce("div"),pe.innerHTML='<div id="content" class="svelte-1njfzaq"><p id="generate_text" class="noselect svelte-1njfzaq">Discard</p></div>',st(n.src,i=Xn)||L(n,"src",i),L(n,"alt",""),L(n,"class","svelte-1njfzaq"),L(o,"id","error"),L(o,"class","svelte-1njfzaq"),L(s,"class",h=dt(e[1])+" svelte-1njfzaq"),L(f,"type","file"),L(f,"name","discs_input"),L(f,"id","discs_input"),L(f,"accept",".json"),L(f,"class","svelte-1njfzaq"),st(d.src,v=Ji)||L(d,"src",v),L(d,"alt",""),L(d,"class","svelte-1njfzaq"),L(k,"id","error"),L(k,"class","svelte-1njfzaq"),L(_,"class",D=dt(e[2])+" svelte-1njfzaq"),L(r,"class","popupcontainer svelte-1njfzaq"),vt(ie,"color","red"),vt(ie,"margin-bottom","0"),L(B,"id","content"),L(B,"class","svelte-1njfzaq"),L(y,"id","messagepopupconfirm"),L(y,"class",ae="popupconfirm "+e[5]+" svelte-1njfzaq"),L(pe,"id","messagepopupconfirm"),L(pe,"class","popupconfirm svelte-1njfzaq"),L(q,"id","input"),L(q,"class","svelte-1njfzaq"),L(t,"class","popup svelte-1njfzaq")},m(A,R){ve(A,t,R),oe(t,r),oe(r,s),oe(s,n),oe(s,a),oe(s,o),oe(s,c),oe(s,l),oe(l,p),oe(r,u),oe(r,_),oe(_,f),oe(_,m),oe(_,d),oe(_,w),oe(_,k),oe(_,E),oe(_,C),oe(C,O),oe(t,Z),oe(t,ie),oe(t,N),oe(t,q),oe(q,y),oe(y,B),oe(q,Q),oe(q,pe),ee||(G=[tt(Mr.call(null,s,{accept:".zip",cb:e[6]})),be(s,"keydown",null),tt(Mr.call(null,_,{accept:".json",cb:e[7]})),be(_,"keydown",null),be(y,"click",e[10]),be(y,"keydown",null),be(pe,"click",e[9]),be(pe,"keydown",null)],ee=!0)},p(A,R){R&8&&Ft(p,A[3]),R&2&&h!==(h=dt(A[1])+" svelte-1njfzaq")&&L(s,"class",h),R&16&&Ft(O,A[4]),R&4&&D!==(D=dt(A[2])+" svelte-1njfzaq")&&L(_,"class",D),R&32&&ae!==(ae="popupconfirm "+A[5]+" svelte-1njfzaq")&&L(y,"class",ae)},i(A){b||ht(()=>{b=Ln(s,Ut,{}),b.start()}),j||ht(()=>{j=Ln(_,Ut,{}),j.start()})},o:Ce,d(A){A&&me(t),ee=!1,ze(G)}}}function Of(e){let t,r,s,n=e[0]&&Oi(e),i=e[0]&&Ri(e);return{c(){n&&n.c(),t=Ae(),i&&i.c(),r=$n()},m(a,o){n&&n.m(a,o),ve(a,t,o),i&&i.m(a,o),ve(a,r,o),s=!0},p(a,[o]){a[0]?n?(n.p(a,o),o&1&&ye(n,1)):(n=Oi(a),n.c(),ye(n,1),n.m(t.parentNode,t)):n&&(St(),Se(n,1,1,()=>{n=null}),Ct()),a[0]?i?(i.p(a,o),o&1&&ye(i,1)):(i=Ri(a),i.c(),ye(i,1),i.m(r.parentNode,r)):i&&(i.d(1),i=null)},i(a){s||(ye(n),ye(i),s=!0)},o(a){Se(n),s=!1},d(a){n&&n.d(a),a&&me(t),i&&i.d(a),a&&me(r)}}}function Rf(e,t,r){let s,{active:n}=t,i="ready",a="Resource pack",o,c="ready",l="discs.json",p,h=!1;const b=async d=>{if(!d||d.length===0)return;const v=d[0];v.name.length>13?r(3,a=v.name.substring(0,10)+"..."):r(3,a=v.name),await Ta(v)?r(1,i="success"):r(1,i="error"),o=v},u=async d=>{if(!d||d.length===0)return;const v=d[0];v.name.length>13?r(4,l=v.name.substring(0,10)+"..."):r(4,l=v.name),await If(v)?r(2,c="success"):r(2,c="error"),p=v},_=async()=>{i==="success"&&c==="success"&&!h&&(h=!0,await Pf(p,o),f())},f=()=>r(0,n=!1),m=()=>_();return e.$$set=d=>{"active"in d&&r(0,n=d.active)},e.$$.update=()=>{e.$$.dirty&6&&r(5,s=i!=="success"||c!=="success"?"forbid":"")},[n,i,c,a,l,s,b,u,_,f,m]}class Nf extends Pt{constructor(t){super(),It(this,t,Rf,Of,yt,{active:0})}}function Us(){return new Worker("/jext-reborn/assets/worker-377d6e3d.js")}const Tf=e=>new Promise(t=>{const r=Df(e);t(new Blob([r],{type:"image/png"}))}),Df=e=>{const t=e.split(",")[1],r=window.atob(t),s=new ArrayBuffer(r.length),n=new Uint8Array(s);for(let i=0;i<r.length;i++)n[i]=r.charCodeAt(i);return s},zf=(e,t)=>{const r=document.createElement("a");r.href=URL.createObjectURL(e),r.download=t,r.click()};Array.prototype.mapAsync=async function(e){const t=this.map(e);return await Promise.all(t)};Array.prototype.forEachParallel=async function(e){await Promise.all(this.map(e))};const jf=async e=>e.type=="audio/ogg"?new Blob([e],{type:"audio/ogg"}):await new Promise(t=>{const r=new FileReader,s=new Blob([e]);r.readAsArrayBuffer(s),r.onload=async()=>{const n=r.result,i=new Us;i.onmessage=a=>{t(new Blob([a.data],{type:"audio/ogg"}))},i.postMessage({audio:n,args:["-acodec","libvorbis"]})}}),Ff=async e=>await new Promise(t=>{const r=new FileReader;r.readAsArrayBuffer(e),r.onload=async()=>{const s=r.result,n=new Us;n.onmessage=i=>{t(new Blob([i.data],{type:"audio/ogg"}))},n.postMessage({audio:s,args:["-af","loudnorm"]})}}),Uf=async e=>await new Promise(t=>{const r=new FileReader;r.readAsArrayBuffer(e),r.onload=async()=>{const s=r.result,n=new Us;n.onmessage=i=>{t(new Blob([i.data],{type:"audio/ogg"}))},n.postMessage({audio:s,args:["-ac","1"]})}}),Mf=async(e,t,r)=>await new Promise(s=>{const n=new Image;n.src=URL.createObjectURL(e),n.onload=()=>{const i=document.createElement("canvas");i.width=t,i.height=r,i.getContext("2d").drawImage(n,0,0,t,r);const o=i.toDataURL("image/png");s(Tf(o))}});function Bf(e){return{c:Ce,m:Ce,p:Ce,i:Ce,o:Ce,d:Ce}}function Lf(e){let t,r,s,n,i,a,o,c,l,p,h,b,u,_,f,m,d,v,w,k,E,C,O,D,j,Z,ie;r=new Nt({props:{text:"Changes the disc icon",$$slots:{default:[Vf]},$$scope:{ctx:e}}}),i=new Nt({props:{text:"Toggles Creeper drops",$$slots:{default:[xf]},$$scope:{ctx:e}}}),o=new Nt({props:{text:"Selects structures in which the disc can be found",$$slots:{default:[Kf]},$$scope:{ctx:e}}}),l=new Nt({props:{text:"Selects structures in which the disc fragments can be found",$$slots:{default:[qf]},$$scope:{ctx:e}}}),h=new Nt({props:{text:"(M)ono: single audio channel but music fading<br>(S)tereo: multiple audio channels but no music fading",width:"22em",$$slots:{default:[Hf]},$$scope:{ctx:e}}}),u=new Nt({props:{text:"Enabled: increases or decreases the volume to match the other minecraft discs<br>Disabled: keeps the song as is",width:"35em",$$slots:{default:[Wf]},$$scope:{ctx:e}}}),f=new Nt({props:{text:"Removes the disc",$$slots:{default:[Zf]},$$scope:{ctx:e}}});function N(B,ae){return B[0].namespace.length>90?Jf:Gf}let q=N(e),y=q(e);return{c(){t=ce("div"),Ye(r.$$.fragment),s=Ae(),n=ce("div"),Ye(i.$$.fragment),a=Ae(),Ye(o.$$.fragment),c=Ae(),Ye(l.$$.fragment),p=Ae(),Ye(h.$$.fragment),b=Ae(),Ye(u.$$.fragment),_=Ae(),Ye(f.$$.fragment),m=Ae(),d=ce("div"),v=ce("input"),w=Ae(),k=ce("input"),E=Ae(),C=ce("p"),y.c(),O=Ae(),D=ce("textarea"),L(n,"id","buttons"),L(n,"class","svelte-14nzoxh"),L(t,"id","icons"),L(t,"class","svelte-14nzoxh"),L(v,"type","text"),L(v,"name","song_name"),L(v,"id","song_name_input"),L(v,"class","svelte-14nzoxh"),L(k,"type","text"),L(k,"name","song_author"),L(k,"id","song_author_input"),L(k,"class","svelte-14nzoxh"),L(C,"id","disknamespace"),L(C,"class","svelte-14nzoxh"),L(d,"id","names"),L(d,"class","svelte-14nzoxh"),L(D,"name","song_lore"),L(D,"id","song_lore_input"),L(D,"cols","30"),L(D,"rows","6"),L(D,"class","svelte-14nzoxh")},m(B,ae){ve(B,t,ae),Ze(r,t,null),oe(t,s),oe(t,n),Ze(i,n,null),oe(n,a),Ze(o,n,null),oe(n,c),Ze(l,n,null),oe(n,p),Ze(h,n,null),oe(n,b),Ze(u,n,null),oe(n,_),Ze(f,n,null),ve(B,m,ae),ve(B,d,ae),oe(d,v),xt(v,e[0].name),oe(d,w),oe(d,k),xt(k,e[0].author),oe(d,E),oe(d,C),y.m(C,null),ve(B,O,ae),ve(B,D,ae),xt(D,e[0].lores),j=!0,Z||(ie=[be(v,"input",e[14]),be(v,"input",e[3]),be(k,"input",e[15]),be(k,"input",e[3]),be(D,"input",e[16])],Z=!0)},p(B,ae){const Q={};ae&524289&&(Q.$$scope={dirty:ae,ctx:B}),r.$set(Q);const pe={};ae&524289&&(pe.$$scope={dirty:ae,ctx:B}),i.$set(pe);const ee={};ae&524292&&(ee.$$scope={dirty:ae,ctx:B}),o.$set(ee);const G={};ae&524292&&(G.$$scope={dirty:ae,ctx:B}),l.$set(G);const A={};ae&524289&&(A.$$scope={dirty:ae,ctx:B}),h.$set(A);const R={};ae&524289&&(R.$$scope={dirty:ae,ctx:B}),u.$set(R);const U={};ae&524290&&(U.$$scope={dirty:ae,ctx:B}),f.$set(U),ae&1&&v.value!==B[0].name&&xt(v,B[0].name),ae&1&&k.value!==B[0].author&&xt(k,B[0].author),q===(q=N(B))&&y?y.p(B,ae):(y.d(1),y=q(B),y&&(y.c(),y.m(C,null))),ae&1&&xt(D,B[0].lores)},i(B){j||(ye(r.$$.fragment,B),ye(i.$$.fragment,B),ye(o.$$.fragment,B),ye(l.$$.fragment,B),ye(h.$$.fragment,B),ye(u.$$.fragment,B),ye(f.$$.fragment,B),j=!0)},o(B){Se(r.$$.fragment,B),Se(i.$$.fragment,B),Se(o.$$.fragment,B),Se(l.$$.fragment,B),Se(h.$$.fragment,B),Se(u.$$.fragment,B),Se(f.$$.fragment,B),j=!1},d(B){B&&me(t),Ge(r),Ge(i),Ge(o),Ge(l),Ge(h),Ge(u),Ge(f),B&&me(m),B&&me(d),y.d(),B&&me(O),B&&me(D),Z=!1,ze(ie)}}}function Vf(e){let t,r,s,n;return{c(){t=ce("img"),L(t,"id","disc_texture"),st(t.src,r=URL.createObjectURL(e[0].texture))||L(t,"src",r),L(t,"height","64"),L(t,"width","64"),L(t,"alt","disc icon"),L(t,"class","svelte-14nzoxh")},m(i,a){ve(i,t,a),s||(n=[tt(Gt.call(null,t)),tt(Mr.call(null,t,{accept:"image/*",cb:e[5]})),be(t,"keydown",null)],s=!0)},p(i,a){a&1&&!st(t.src,r=URL.createObjectURL(i[0].texture))&&L(t,"src",r)},d(i){i&&me(t),s=!1,ze(n)}}}function xf(e){let t,r,s,n,i;return{c(){t=ce("img"),L(t,"id","toggle_creeper"),st(t.src,r=co)||L(t,"src",r),L(t,"alt","creeper icon"),L(t,"class",s=dt(e[0].creeperDrop?"":"grayscale")+" svelte-14nzoxh")},m(a,o){ve(a,t,o),n||(i=[tt(Gt.call(null,t)),be(t,"click",e[9]),be(t,"keydown",null)],n=!0)},p(a,o){o&1&&s!==(s=dt(a[0].creeperDrop?"":"grayscale")+" svelte-14nzoxh")&&L(t,"class",s)},d(a){a&&me(t),n=!1,ze(i)}}}function Kf(e){let t,r,s,n;return{c(){t=ce("img"),L(t,"id","loot_selector"),st(t.src,r=lo)||L(t,"src",r),L(t,"alt","chest icon"),L(t,"class","svelte-14nzoxh")},m(i,a){ve(i,t,a),s||(n=[tt(Gt.call(null,t)),be(t,"click",e[10]),be(t,"keydown",null)],s=!0)},p:Ce,d(i){i&&me(t),s=!1,ze(n)}}}function qf(e){let t,r,s,n;return{c(){t=ce("img"),L(t,"id","loot_selector"),st(t.src,r=ho)||L(t,"src",r),L(t,"alt","fragment icon"),L(t,"class","svelte-14nzoxh")},m(i,a){ve(i,t,a),s||(n=[tt(Gt.call(null,t)),be(t,"click",e[11]),be(t,"keydown",null)],s=!0)},p:Ce,d(i){i&&me(t),s=!1,ze(n)}}}function Hf(e){let t,r=e[0].isMono?"M":"S",s,n,i;return{c(){t=ce("p"),s=lt(r),L(t,"id","toggle_mono"),L(t,"class","svelte-14nzoxh")},m(a,o){ve(a,t,o),oe(t,s),n||(i=[tt(Gt.call(null,t)),be(t,"click",e[12]),be(t,"keydown",null)],n=!0)},p(a,o){o&1&&r!==(r=a[0].isMono?"M":"S")&&Ft(s,r)},d(a){a&&me(t),n=!1,ze(i)}}}function Wf(e){let t,r,s,n;return{c(){t=ce("img"),st(t.src,r=e[0].normalize?Ys:Qs)||L(t,"src",r),L(t,"id","audio_normalize"),L(t,"alt","audio icon"),L(t,"class","svelte-14nzoxh")},m(i,a){ve(i,t,a),s||(n=[tt(Gt.call(null,t)),be(t,"click",e[13]),be(t,"keydown",null)],s=!0)},p(i,a){a&1&&!st(t.src,r=i[0].normalize?Ys:Qs)&&L(t,"src",r)},d(i){i&&me(t),s=!1,ze(n)}}}function Zf(e){let t,r,s;return{c(){t=ce("img"),L(t,"id","song_delete"),L(t,"alt","delete icon"),L(t,"class","svelte-14nzoxh")},m(n,i){ve(n,t,i),r||(s=[tt(Gt.call(null,t)),tt(ro.call(null,t,{src:fo,hover:uo})),be(t,"click",function(){Zt(e[1])&&e[1].apply(this,arguments)}),be(t,"keydown",null)],r=!0)},p(n,i){e=n},d(n){n&&me(t),r=!1,ze(s)}}}function Gf(e){let t=e[0].namespace+"",r;return{c(){r=lt(t)},m(s,n){ve(s,r,n)},p(s,n){n&1&&t!==(t=s[0].namespace+"")&&Ft(r,t)},d(s){s&&me(r)}}}function Jf(e){let t=e[0].namespace.substring(0,90)+"",r,s;return{c(){r=lt(t),s=lt("...")},m(n,i){ve(n,r,i),ve(n,s,i)},p(n,i){i&1&&t!==(t=n[0].namespace.substring(0,90)+"")&&Ft(r,t)},d(n){n&&me(r),n&&me(s)}}}function Yf(e){let t,r,s,n;return{c(){t=ce("div"),r=ce("img"),L(r,"alt","loading"),L(r,"class","svelte-14nzoxh"),L(t,"id","loading"),L(t,"class","svelte-14nzoxh")},m(i,a){ve(i,t,a),oe(t,r),s||(n=tt(no.call(null,r,po)),s=!0)},p:Ce,i:Ce,o:Ce,d(i){i&&me(t),s=!1,n()}}}function Qf(e){let t,r,s,n,i,a;function o(h){e[7](h)}function c(h){e[8](h)}let l={};e[0].lootTables!==void 0&&(l.selectedDungeons=e[0].lootTables),e[2]!==void 0&&(l.active=e[2]),t=new Co({props:l}),Et.push(()=>Ht(t,"selectedDungeons",o)),Et.push(()=>Ht(t,"active",c));let p={ctx:e,current:null,token:null,hasCatch:!1,pending:Yf,then:Lf,catch:Bf,value:18,blocks:[,,,]};return Wi(e[4],p),{c(){Ye(t.$$.fragment),n=Ae(),i=ce("div"),p.block.c(),L(i,"id","song"),L(i,"class","svelte-14nzoxh")},m(h,b){Ze(t,h,b),ve(h,n,b),ve(h,i,b),p.block.m(i,p.anchor=null),p.mount=()=>i,p.anchor=null,a=!0},p(h,[b]){e=h;const u={};!r&&b&1&&(r=!0,u.selectedDungeons=e[0].lootTables,qt(()=>r=!1)),!s&&b&4&&(s=!0,u.active=e[2],qt(()=>s=!1)),t.$set(u),Zi(p,e,b)},i(h){a||(ye(t.$$.fragment,h),ye(p.block),a=!0)},o(h){Se(t.$$.fragment,h);for(let b=0;b<3;b+=1){const u=p.blocks[b];Se(u)}a=!1},d(h){Ge(t,h),h&&me(n),h&&me(i),p.block.d(),p.token=null,p=null}}}function Xf(e,t,r){let{song:s}=t,{id:n}=t,{onRemove:i=()=>{}}=t,a=!1;const o=()=>{r(0,s.namespace=`${s.name}${s.author}${n}`.replace(/[^a-zA-Z0-9]/g,"").replaceAll("1","one").replaceAll("2","two").replaceAll("3","three").replaceAll("4","four").replaceAll("5","five").replaceAll("6","six").replaceAll("7","seven").replaceAll("8","eight").replaceAll("9","nine").replaceAll("0","zero").toLowerCase(),s)},l=(async()=>{const E=s.uploadedFile.name.replace(/(\.mp3)|(\.ogg)|(\.wav)/g,"").split(/ ?- ?/g);E.length>=1&&r(0,s.name=E.shift(),s),E.length>=1&&r(0,s.author=E.join(),s),o(),r(0,s.oggFile=await jf(s.uploadedFile),s),r(0,s.texture=await(await fetch(Ji)).blob(),s)})(),p=E=>{const C=E[0];C&&r(0,s.texture=C,s)};function h(E){e.$$.not_equal(s.lootTables,E)&&(s.lootTables=E,r(0,s))}function b(E){a=E,r(2,a)}const u=()=>r(0,s.creeperDrop=!s.creeperDrop,s),_=()=>r(2,a=!0),f=()=>a,m=()=>r(0,s.isMono=!s.isMono,s),d=()=>r(0,s.normalize=!s.normalize,s);function v(){s.name=this.value,r(0,s)}function w(){s.author=this.value,r(0,s)}function k(){s.lores=this.value,r(0,s)}return e.$$set=E=>{"song"in E&&r(0,s=E.song),"id"in E&&r(6,n=E.id),"onRemove"in E&&r(1,i=E.onRemove)},[s,i,a,o,l,p,n,h,b,u,_,f,m,d,v,w,k]}class ed extends Pt{constructor(t){super(),It(this,t,Xf,Qf,yt,{song:0,id:6,onRemove:1})}}function Ni(e){let t,r,s,n,i;return{c(){t=ce("div"),L(t,"class","popupbackground svelte-16n0rxp"),vt(t,"background-image","url("+Qn+")")},m(a,o){ve(a,t,o),s=!0,n||(i=[be(t,"click",e[2]),be(t,"keydown",null)],n=!0)},p:Ce,i(a){s||(ht(()=>{r||(r=vr(t,Ut,{},!0)),r.run(1)}),s=!0)},o(a){r||(r=vr(t,Ut,{},!1)),r.run(0),s=!1},d(a){a&&me(t),a&&r&&r.end(),n=!1,ze(i)}}}function Ti(e){let t,r,s,n,i,a,o;return{c(){t=ce("div"),r=ce("div"),s=lt(e[1]),n=Ae(),i=ce("div"),i.innerHTML='<div id="content" class="svelte-16n0rxp"><p id="generate_text" class="noselect svelte-16n0rxp">OK</p></div>',L(r,"class","popupcontainer svelte-16n0rxp"),L(r,"id","messagepopupcontainer"),L(i,"id","messagepopupconfirm"),L(i,"class","popupconfirm svelte-16n0rxp"),L(t,"class","popup svelte-16n0rxp")},m(c,l){ve(c,t,l),oe(t,r),oe(r,s),oe(t,n),oe(t,i),a||(o=[be(i,"click",e[2]),be(i,"keydown",null)],a=!0)},p(c,l){l&2&&Ft(s,c[1])},d(c){c&&me(t),a=!1,ze(o)}}}function td(e){let t,r,s,n=e[0]&&Ni(e),i=e[0]&&Ti(e);return{c(){n&&n.c(),t=Ae(),i&&i.c(),r=$n()},m(a,o){n&&n.m(a,o),ve(a,t,o),i&&i.m(a,o),ve(a,r,o),s=!0},p(a,[o]){a[0]?n?(n.p(a,o),o&1&&ye(n,1)):(n=Ni(a),n.c(),ye(n,1),n.m(t.parentNode,t)):n&&(St(),Se(n,1,1,()=>{n=null}),Ct()),a[0]?i?i.p(a,o):(i=Ti(a),i.c(),i.m(r.parentNode,r)):i&&(i.d(1),i=null)},i(a){s||(ye(n),s=!0)},o(a){Se(n),s=!1},d(a){n&&n.d(a),a&&me(t),i&&i.d(a),a&&me(r)}}}function rd(e,t,r){let{text:s}=t,{active:n}=t;const i=()=>r(0,n=!1);return e.$$set=a=>{"text"in a&&r(1,s=a.text),"active"in a&&r(0,n=a.active)},[n,s,i]}class nd extends Pt{constructor(t){super(),It(this,t,rd,td,yt,{text:1,active:0})}}function sd(e){let t,r,s;const n=e[4].default,i=zi(n,e,e[3],null);return{c(){i&&i.c(),t=Ae(),r=ce("span"),L(r,"id","tooltiptext"),L(r,"class","left svelte-i4awrz"),vt(r,"width",e[1])},m(a,o){i&&i.m(a,o),ve(a,t,o),ve(a,r,o),r.innerHTML=e[0],s=!0},p(a,o){i&&i.p&&(!s||o&8)&&Ui(i,n,a,a[3],s?Fi(n,a[3],o,null):Mi(a[3]),null),(!s||o&1)&&(r.innerHTML=a[0]),(!s||o&2)&&vt(r,"width",a[1])},i(a){s||(ye(i,a),s=!0)},o(a){Se(i,a),s=!1},d(a){i&&i.d(a),a&&me(t),a&&me(r)}}}function id(e){let t,r,s;const n=e[4].default,i=zi(n,e,e[3],null);return{c(){t=ce("span"),r=Ae(),i&&i.c(),L(t,"id","tooltiptext"),L(t,"class","right svelte-i4awrz"),vt(t,"width",e[1])},m(a,o){ve(a,t,o),t.innerHTML=e[0],ve(a,r,o),i&&i.m(a,o),s=!0},p(a,o){(!s||o&1)&&(t.innerHTML=a[0]),(!s||o&2)&&vt(t,"width",a[1]),i&&i.p&&(!s||o&8)&&Ui(i,n,a,a[3],s?Fi(n,a[3],o,null):Mi(a[3]),null)},i(a){s||(ye(i,a),s=!0)},o(a){Se(i,a),s=!1},d(a){a&&me(t),a&&me(r),i&&i.d(a)}}}function ad(e){let t,r,s,n;const i=[id,sd],a=[];function o(c,l){return c[2]?0:1}return r=o(e),s=a[r]=i[r](e),{c(){t=ce("div"),s.c(),L(t,"id","container"),L(t,"class","svelte-i4awrz")},m(c,l){ve(c,t,l),a[r].m(t,null),n=!0},p(c,[l]){let p=r;r=o(c),r===p?a[r].p(c,l):(St(),Se(a[p],1,1,()=>{a[p]=null}),Ct(),s=a[r],s?s.p(c,l):(s=a[r]=i[r](c),s.c()),ye(s,1),s.m(t,null))},i(c){n||(ye(s),n=!0)},o(c){Se(s),n=!1},d(c){c&&me(t),a[r].d()}}}function od(e,t,r){let{$$slots:s={},$$scope:n}=t,{text:i}=t,{width:a="120px"}=t,{right:o=!0}=t;return e.$$set=c=>{"text"in c&&r(0,i=c.text),"width"in c&&r(1,a=c.width),"right"in c&&r(2,o=c.right),"$$scope"in c&&r(3,n=c.$$scope)},[i,a,o,n,s]}class Nt extends Pt{constructor(t){super(),It(this,t,od,ad,yt,{text:0,width:1,right:2})}}let Da;dn.subscribe(e=>Da=e);const ld=async(e,t,r,s)=>new Promise(async n=>{const i=new Nr,a=`
			{"pack": {"pack_format": ${Da},"description": "Adds custom musics discs"}}
		`;i.file("pack.mcmeta",a);const c=await(await(await fetch(t)).blob()).arrayBuffer();i.file("pack.png",c);const l=i.folder("assets").folder("minecraft"),p={};e.forEach(f=>{p[`music_disc.${f.namespace}`]={sounds:[{name:`records/${f.namespace}`,stream:!0}]}}),l.file("sounds.json",JSON.stringify(p,null,2));const h=l.folder("models").folder("item"),b=l.folder("sounds").folder("records"),u=l.folder("textures").folder("item"),_={parent:"item/generated",textures:{layer0:"item/music_disc_11"},overrides:e.map((f,m)=>({predicate:{custom_model_data:m+1},model:`item/music_disc_${f.namespace}`}))};h.file("music_disc_11.json",JSON.stringify(_,null,2)),await e.forEachParallel(async f=>{f.isMono&&!f.monoFile&&(f.monoFile=await Uf(f.oggFile))});for(let f=0;f<e.length;f++){const m=e[f],d=await(await Mf(m.texture,16,16)).arrayBuffer();u.file(`music_disc_${m.namespace}.png`,d);const v=m.isMono?m.monoFile:m.oggFile,k=await(m.normalize?await Ff(v):v).arrayBuffer();b.file(`${m.namespace}.ogg`,k),h.file(`music_disc_${m.namespace}.json`,JSON.stringify({parent:"item/generated",textures:{layer0:`item/music_disc_${m.namespace}`}},null,2))}if(s){const f=document.createElement("input");f.type="file",f.accept=".zip",f.click(),await new Promise((m,d)=>{f.onchange=async()=>{(!f.files||f.files.length==0)&&d("No file was selected"),await Ta(f.files[0])||d("The selected file is not a valid resource pack");const v=f.files[0];await(await Nr.loadAsync(v)).forEach(async(k,E)=>{k!="pack.mcmeta"&&k!="pack.png"&&(E.dir?i.folder(k)||i.folder(k):i.file(k)?d("Cannot merge resource pack manually as there are conflicting files"):i.file(k,await E.async("arraybuffer")))}),m()}}).catch(m=>{alert(m),n()})}i.generateAsync({type:"blob"}).then(async f=>{const m=new Nr,d=await Promise.all(e.map(async(v,w)=>({title:v.name,author:v.author,duration:await cd(v.isMono?v.monoFile:v.oggFile),"disc-namespace":`music_disc.${v.namespace}`,"model-data":w+1,"creeper-drop":v.creeperDrop,lores:v.lores.split(`
`),"loot-tables":v.lootTables,"fragment-loot-tables":v.fragmentLootTables})));m.file("README.md",await(await fetch(mo)).arrayBuffer()),m.file(`${r}.zip`,await f.arrayBuffer()),m.file("discs.json",JSON.stringify(d,null,2)),m.generateAsync({type:"blob"}).then(async v=>{zf(v,"open me.zip"),n()})})}),cd=async e=>new Promise(t=>{const r=document.createElement("audio");r.src=URL.createObjectURL(e),r.onloadedmetadata=()=>{URL.revokeObjectURL(r.src),t(Math.ceil(r.duration))}});function ud(e){const t=e.slice(),r=t[5].length>0;return t[12]=r,t}function fd(e){let t,r,s=`url(${Yi})`,n,i,a,o,c,l;function p(b){e[11](b)}let h={options:["Generate","Merge"]};return e[3]!==void 0&&(h.selected=e[3]),i=new vo({props:h}),Et.push(()=>Ht(i,"selected",p)),{c(){t=ce("div"),n=Ae(),Ye(i.$$.fragment),L(t,"id","generate_button"),L(t,"class",r=dt(e[12]?"":"grayscale")+" svelte-t4a3jn"),vt(t,"background-image",s)},m(b,u){ve(b,t,u),ve(b,n,u),Ze(i,b,u),o=!0,c||(l=[be(t,"click",function(){Zt(e[12]?e[6]:e[10])&&(e[12]?e[6]:e[10]).apply(this,arguments)}),be(t,"keydown",null)],c=!0)},p(b,u){e=b,(!o||u&32&&r!==(r=dt(e[12]?"":"grayscale")+" svelte-t4a3jn"))&&L(t,"class",r);const _={};!a&&u&8&&(a=!0,_.selected=e[3],qt(()=>a=!1)),i.$set(_)},i(b){o||(ye(i.$$.fragment,b),o=!0)},o(b){Se(i.$$.fragment,b),o=!1},d(b){b&&me(t),b&&me(n),Ge(i,b),c=!1,ze(l)}}}function dd(e){let t,r,s;return{c(){t=ce("div"),r=ce("img"),st(r.src,s=Qi)||L(r,"src",s),L(r,"alt","loading"),L(r,"height","32"),L(r,"width","32"),L(t,"id","generate_button"),vt(t,"background-image","url("+Yi+")"),L(t,"class","svelte-t4a3jn")},m(n,i){ve(n,t,i),oe(t,r)},p:Ce,i:Ce,o:Ce,d(n){n&&me(t)}}}function hd(e){let t,r,s,n,i,a,o,c,l,p,h,b,u,_;function f(D){e[7](D)}let m={text:"Add at least a disc"};e[2]!==void 0&&(m.active=e[2]),r=new nd({props:m}),Et.push(()=>Ht(r,"active",f));function d(D){e[8](D)}function v(D){e[9](D)}let w={};e[1]!==void 0&&(w.packname=e[1]),e[0]!==void 0&&(w.imagesrc=e[0]),i=new No({props:w}),Et.push(()=>Ht(i,"packname",d)),Et.push(()=>Ht(i,"imagesrc",v)),l=new ao({});const k=[dd,fd],E=[];function C(D,j){return D[4]?0:1}function O(D,j){return j===1?ud(D):D}return b=C(e),u=E[b]=k[b](O(e,b)),{c(){t=ce("main"),Ye(r.$$.fragment),n=Ae(),Ye(i.$$.fragment),c=Ae(),Ye(l.$$.fragment),p=Ae(),h=ce("div"),u.c(),L(h,"id","footer"),L(h,"class","svelte-t4a3jn"),L(t,"class","svelte-t4a3jn")},m(D,j){ve(D,t,j),Ze(r,t,null),oe(t,n),Ze(i,t,null),oe(t,c),Ze(l,t,null),oe(t,p),oe(t,h),E[b].m(h,null),_=!0},p(D,[j]){const Z={};!s&&j&4&&(s=!0,Z.active=D[2],qt(()=>s=!1)),r.$set(Z);const ie={};!a&&j&2&&(a=!0,ie.packname=D[1],qt(()=>a=!1)),!o&&j&1&&(o=!0,ie.imagesrc=D[0],qt(()=>o=!1)),i.$set(ie);let N=b;b=C(D),b===N?E[b].p(O(D,b),j):(St(),Se(E[N],1,1,()=>{E[N]=null}),Ct(),u=E[b],u?u.p(O(D,b),j):(u=E[b]=k[b](O(D,b)),u.c()),ye(u,1),u.m(h,null))},i(D){_||(ye(r.$$.fragment,D),ye(i.$$.fragment,D),ye(l.$$.fragment,D),ye(u),_=!0)},o(D){Se(r.$$.fragment,D),Se(i.$$.fragment,D),Se(l.$$.fragment,D),Se(u),_=!1},d(D){D&&me(t),Ge(r),Ge(i),Ge(l),E[b].d()}}}function pd(e,t,r){let s;bn(e,mr,f=>r(5,s=f));let n,i,a=!1,o="Generate",c=!1;const l=async()=>{c||(r(4,c=!0),await ld(s,n,i,o=="Merge"),r(4,c=!1))};function p(f){a=f,r(2,a)}function h(f){i=f,r(1,i)}function b(f){n=f,r(0,n)}const u=()=>r(2,a=!0);function _(f){o=f,r(3,o)}return[n,i,a,o,c,s,l,p,h,b,u,_]}class md extends Pt{constructor(t){super(),It(this,t,pd,hd,yt,{})}}new md({target:document.getElementById("app")});
