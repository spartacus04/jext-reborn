(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))i(n);new MutationObserver(n=>{for(const s of n)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function r(n){const s={};return n.integrity&&(s.integrity=n.integrity),n.referrerpolicy&&(s.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?s.credentials="include":n.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(n){if(n.ep)return;n.ep=!0;const s=r(n);fetch(n.href,s)}})();function ke(){}const Jn=e=>e;function Ja(e,t){for(const r in t)e[r]=t[r];return e}function Ya(e){return e&&typeof e=="object"&&typeof e.then=="function"}function Ls(e){return e()}function Ji(){return Object.create(null)}function je(e){e.forEach(Ls)}function It(e){return typeof e=="function"}function bt(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}let Zr;function xe(e,t){return Zr||(Zr=document.createElement("a")),Zr.href=t,e===Zr.href}function Xa(e){return Object.keys(e).length===0}function Qa(e,...t){if(e==null)return ke;const r=e.subscribe(...t);return r.unsubscribe?()=>r.unsubscribe():r}function Vs(e,t,r){e.$$.on_destroy.push(Qa(t,r))}function qs(e,t,r,i){if(e){const n=Ks(e,t,r,i);return e[0](n)}}function Ks(e,t,r,i){return e[1]&&i?Ja(r.ctx.slice(),e[1](i(t))):r.ctx}function Ws(e,t,r,i){if(e[2]&&i){const n=e[2](i(r));if(t.dirty===void 0)return n;if(typeof n=="object"){const s=[],a=Math.max(t.dirty.length,n.length);for(let o=0;o<a;o+=1)s[o]=t.dirty[o]|n[o];return s}return t.dirty|n}return t.dirty}function Gs(e,t,r,i,n,s){if(n){const a=Ks(t,r,i,s);e.p(a,n)}}function Hs(e){if(e.ctx.length>32){const t=[],r=e.ctx.length/32;for(let i=0;i<r;i++)t[i]=-1;return t}return-1}function pr(e){return e??""}const xs=typeof window<"u";let Zs=xs?()=>window.performance.now():()=>Date.now(),Yn=xs?e=>requestAnimationFrame(e):ke;const mr=new Set;function Js(e){mr.forEach(t=>{t.c(e)||(mr.delete(t),t.f())}),mr.size!==0&&Yn(Js)}function Ys(e){let t;return mr.size===0&&Yn(Js),{promise:new Promise(r=>{mr.add(t={c:e,f:r})}),abort(){mr.delete(t)}}}function se(e,t){e.appendChild(t)}function Xs(e){if(!e)return document;const t=e.getRootNode?e.getRootNode():e.ownerDocument;return t&&t.host?t:e.ownerDocument}function eo(e){const t=le("style");return to(Xs(e),t),t.sheet}function to(e,t){return se(e.head||e,t),t.sheet}function pe(e,t,r){e.insertBefore(t,r||null)}function de(e){e.parentNode&&e.parentNode.removeChild(e)}function wn(e,t){for(let r=0;r<e.length;r+=1)e[r]&&e[r].d(t)}function le(e){return document.createElement(e)}function rt(e){return document.createTextNode(e)}function Se(){return rt(" ")}function wt(){return rt("")}function he(e,t,r,i){return e.addEventListener(t,r,i),()=>e.removeEventListener(t,r,i)}function B(e,t,r){r==null?e.removeAttribute(t):e.getAttribute(t)!==r&&e.setAttribute(t,r)}function ro(e){return Array.from(e.childNodes)}function vt(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function Wt(e,t){e.value=t??""}function yt(e,t,r,i){r===null?e.style.removeProperty(t):e.style.setProperty(t,r,i?"important":"")}function Yi(e,t){for(let r=0;r<e.options.length;r+=1){const i=e.options[r];if(i.__value===t){i.selected=!0;return}}e.selectedIndex=-1}function no(e){const t=e.querySelector(":checked")||e.options[0];return t&&t.__value}function io(e,t,{bubbles:r=!1,cancelable:i=!1}={}){const n=document.createEvent("CustomEvent");return n.initCustomEvent(e,r,i,t),n}const un=new Map;let fn=0;function so(e){let t=5381,r=e.length;for(;r--;)t=(t<<5)-t^e.charCodeAt(r);return t>>>0}function ao(e,t){const r={stylesheet:eo(t),rules:{}};return un.set(e,r),r}function Bn(e,t,r,i,n,s,a,o=0){const l=16.666/i;let c=`{
`;for(let m=0;m<=1;m+=l){const f=t+(r-t)*s(m);c+=m*100+`%{${a(f,1-f)}}
`}const p=c+`100% {${a(r,1-r)}}
}`,h=`__svelte_${so(p)}_${o}`,w=Xs(e),{stylesheet:d,rules:g}=un.get(w)||ao(w,e);g[h]||(g[h]=!0,d.insertRule(`@keyframes ${h} ${p}`,d.cssRules.length));const u=e.style.animation||"";return e.style.animation=`${u?`${u}, `:""}${h} ${i}ms linear ${n}ms 1 both`,fn+=1,h}function Ln(e,t){const r=(e.style.animation||"").split(", "),i=r.filter(t?s=>s.indexOf(t)<0:s=>s.indexOf("__svelte")===-1),n=r.length-i.length;n&&(e.style.animation=i.join(", "),fn-=n,fn||oo())}function oo(){Yn(()=>{fn||(un.forEach(e=>{const{ownerNode:t}=e.stylesheet;t&&de(t)}),un.clear())})}let Ur;function Dt(e){Ur=e}function lo(){if(!Ur)throw new Error("Function called outside component initialization");return Ur}const Or=[],dt=[],nn=[],Vn=[],co=Promise.resolve();let qn=!1;function uo(){qn||(qn=!0,co.then(Xn))}function nt(e){nn.push(e)}function St(e){Vn.push(e)}const In=new Set;let Jr=0;function Xn(){const e=Ur;do{for(;Jr<Or.length;){const t=Or[Jr];Jr++,Dt(t),fo(t.$$)}for(Dt(null),Or.length=0,Jr=0;dt.length;)dt.pop()();for(let t=0;t<nn.length;t+=1){const r=nn[t];In.has(r)||(In.add(r),r())}nn.length=0}while(Or.length);for(;Vn.length;)Vn.pop()();qn=!1,In.clear(),Dt(e)}function fo(e){if(e.fragment!==null){e.update(),je(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(nt)}}let Ar;function Qs(){return Ar||(Ar=Promise.resolve(),Ar.then(()=>{Ar=null})),Ar}function Nr(e,t,r){e.dispatchEvent(io(`${t?"intro":"outro"}${r}`))}const sn=new Set;let zt;function Ut(){zt={r:0,c:[],p:zt}}function Bt(){zt.r||je(zt.c),zt=zt.p}function we(e,t){e&&e.i&&(sn.delete(e),e.i(t))}function Ie(e,t,r,i){if(e&&e.o){if(sn.has(e))return;sn.add(e),zt.c.push(()=>{sn.delete(e),i&&(r&&e.d(1),i())}),e.o(t)}else i&&i()}const ea={duration:0};function _r(e,t,r){const i={direction:"in"};let n=t(e,r,i),s=!1,a,o,l=0;function c(){a&&Ln(e,a)}function p(){const{delay:w=0,duration:d=300,easing:g=Jn,tick:u=ke,css:m}=n||ea;m&&(a=Bn(e,0,1,d,w,g,m,l++)),u(0,1);const f=Zs()+w,y=f+d;o&&o.abort(),s=!0,nt(()=>Nr(e,!0,"start")),o=Ys(k=>{if(s){if(k>=y)return u(1,0),Nr(e,!0,"end"),c(),s=!1;if(k>=f){const E=g((k-f)/d);u(E,1-E)}}return s})}let h=!1;return{start(){h||(h=!0,Ln(e),It(n)?(n=n(i),Qs().then(p)):p())},invalidate(){h=!1},end(){s&&(c(),s=!1)}}}function vr(e,t,r,i){const n={direction:"both"};let s=t(e,r,n),a=i?0:1,o=null,l=null,c=null;function p(){c&&Ln(e,c)}function h(d,g){const u=d.b-a;return g*=Math.abs(u),{a,b:d.b,d:u,duration:g,start:d.start,end:d.start+g,group:d.group}}function w(d){const{delay:g=0,duration:u=300,easing:m=Jn,tick:f=ke,css:y}=s||ea,k={start:Zs()+g,b:d};d||(k.group=zt,zt.r+=1),o||l?l=k:(y&&(p(),c=Bn(e,a,d,u,g,m,y)),d&&f(0,1),o=h(k,u),nt(()=>Nr(e,d,"start")),Ys(E=>{if(l&&E>l.start&&(o=h(l,u),l=null,Nr(e,o.b,"start"),y&&(p(),c=Bn(e,a,o.b,o.duration,0,m,s.css))),o){if(E>=o.end)f(a=o.b,1-a),Nr(e,o.b,"end"),l||(o.b?p():--o.group.r||je(o.group.c)),o=null;else if(E>=o.start){const A=E-o.start;a=o.a+o.d*m(A/o.duration),f(a,1-a)}}return!!(o||l)}))}return{run(d){It(s)?Qs().then(()=>{s=s(n),w(d)}):w(d)},end(){p(),o=l=null}}}function Qn(e,t){const r=t.token={};function i(n,s,a,o){if(t.token!==r)return;t.resolved=o;let l=t.ctx;a!==void 0&&(l=l.slice(),l[a]=o);const c=n&&(t.current=n)(l);let p=!1;t.block&&(t.blocks?t.blocks.forEach((h,w)=>{w!==s&&h&&(Ut(),Ie(h,1,1,()=>{t.blocks[w]===h&&(t.blocks[w]=null)}),Bt())}):t.block.d(1),c.c(),we(c,1),c.m(t.mount(),t.anchor),p=!0),t.block=c,t.blocks&&(t.blocks[s]=c),p&&Xn()}if(Ya(e)){const n=lo();if(e.then(s=>{Dt(n),i(t.then,1,t.value,s),Dt(null)},s=>{if(Dt(n),i(t.catch,2,t.error,s),Dt(null),!t.hasCatch)throw s}),t.current!==t.pending)return i(t.pending,0),!0}else{if(t.current!==t.then)return i(t.then,1,t.value,e),!0;t.resolved=e}}function ei(e,t,r){const i=t.slice(),{resolved:n}=e;e.current===e.then&&(i[e.value]=n),e.current===e.catch&&(i[e.error]=n),e.block.p(i,r)}function At(e,t,r,i){const n=e.$$.props[t];n!==void 0&&(e.$$.bound[n]=r,i===void 0&&r(e.$$.ctx[n]))}function tt(e){e&&e.c()}function Xe(e,t,r,i){const{fragment:n,after_update:s}=e.$$;n&&n.m(t,r),i||nt(()=>{const a=e.$$.on_mount.map(Ls).filter(It);e.$$.on_destroy?e.$$.on_destroy.push(...a):je(a),e.$$.on_mount=[]}),s.forEach(nt)}function Qe(e,t){const r=e.$$;r.fragment!==null&&(je(r.on_destroy),r.fragment&&r.fragment.d(t),r.on_destroy=r.fragment=null,r.ctx=[])}function ho(e,t){e.$$.dirty[0]===-1&&(Or.push(e),uo(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function Rt(e,t,r,i,n,s,a,o=[-1]){const l=Ur;Dt(e);const c=e.$$={fragment:null,ctx:[],props:s,update:ke,not_equal:n,bound:Ji(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(l?l.$$.context:[])),callbacks:Ji(),dirty:o,skip_bound:!1,root:t.target||l.$$.root};a&&a(c.root);let p=!1;if(c.ctx=r?r(e,t.props||{},(h,w,...d)=>{const g=d.length?d[0]:w;return c.ctx&&n(c.ctx[h],c.ctx[h]=g)&&(!c.skip_bound&&c.bound[h]&&c.bound[h](g),p&&ho(e,h)),w}):[],c.update(),p=!0,je(c.before_update),c.fragment=i?i(c.ctx):!1,t.target){if(t.hydrate){const h=ro(t.target);c.fragment&&c.fragment.l(h),h.forEach(de)}else c.fragment&&c.fragment.c();t.intro&&we(e.$$.fragment),Xe(e,t.target,t.anchor,t.customElement),Xn()}Dt(l)}class Nt{$destroy(){Qe(this,1),this.$destroy=ke}$on(t,r){if(!It(r))return ke;const i=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return i.push(r),()=>{const n=i.indexOf(r);n!==-1&&i.splice(n,1)}}$set(t){this.$$set&&!Xa(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const cr=[];function ta(e,t=ke){let r;const i=new Set;function n(o){if(bt(e,o)&&(e=o,r)){const l=!cr.length;for(const c of i)c[1](),cr.push(c,e);if(l){for(let c=0;c<cr.length;c+=2)cr[c][0](cr[c+1]);cr.length=0}}}function s(o){n(o(e))}function a(o,l=ke){const c=[o,l];return i.add(c),i.size===1&&(r=t(n)||ke),o(e),()=>{i.delete(c),i.size===0&&(r(),r=null)}}return{set:n,update:s,subscribe:a}}const dn=ta(9),ra=ta([]);var Ir=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function po(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function mo(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function i(){if(this instanceof i){var n=[null];n.push.apply(n,arguments);var s=Function.bind.apply(t,n);return new s}return t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(i){var n=Object.getOwnPropertyDescriptor(e,i);Object.defineProperty(r,i,n.get?n:{enumerable:!0,get:function(){return e[i]}})}),r}var Xi={},go={get exports(){return Xi},set exports(e){Xi=e}};(function(e){var t=function(r){var i=Object.prototype,n=i.hasOwnProperty,s=Object.defineProperty||function(L,D,$){L[D]=$.value},a,o=typeof Symbol=="function"?Symbol:{},l=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",p=o.toStringTag||"@@toStringTag";function h(L,D,$){return Object.defineProperty(L,D,{value:$,enumerable:!0,configurable:!0,writable:!0}),L[D]}try{h({},"")}catch{h=function(D,$,O){return D[$]=O}}function w(L,D,$,O){var T=D&&D.prototype instanceof k?D:k,b=Object.create(T.prototype),P=new ae(O||[]);return s(b,"_invoke",{value:S(L,$,P)}),b}r.wrap=w;function d(L,D,$){try{return{type:"normal",arg:L.call(D,$)}}catch(O){return{type:"throw",arg:O}}}var g="suspendedStart",u="suspendedYield",m="executing",f="completed",y={};function k(){}function E(){}function A(){}var C={};h(C,l,function(){return this});var I=Object.getPrototypeOf,F=I&&I(I(Y([])));F&&F!==i&&n.call(F,l)&&(C=F);var U=A.prototype=k.prototype=Object.create(C);E.prototype=A,s(U,"constructor",{value:A,configurable:!0}),s(A,"constructor",{value:E,configurable:!0}),E.displayName=h(A,p,"GeneratorFunction");function H(L){["next","throw","return"].forEach(function(D){h(L,D,function($){return this._invoke(D,$)})})}r.isGeneratorFunction=function(L){var D=typeof L=="function"&&L.constructor;return D?D===E||(D.displayName||D.name)==="GeneratorFunction":!1},r.mark=function(L){return Object.setPrototypeOf?Object.setPrototypeOf(L,A):(L.__proto__=A,h(L,p,"GeneratorFunction")),L.prototype=Object.create(U),L},r.awrap=function(L){return{__await:L}};function re(L,D){function $(b,P,W,ie){var Q=d(L[b],L,P);if(Q.type==="throw")ie(Q.arg);else{var ue=Q.arg,me=ue.value;return me&&typeof me=="object"&&n.call(me,"__await")?D.resolve(me.__await).then(function(be){$("next",be,W,ie)},function(be){$("throw",be,W,ie)}):D.resolve(me).then(function(be){ue.value=be,W(ue)},function(be){return $("throw",be,W,ie)})}}var O;function T(b,P){function W(){return new D(function(ie,Q){$(b,P,ie,Q)})}return O=O?O.then(W,W):W()}s(this,"_invoke",{value:T})}H(re.prototype),h(re.prototype,c,function(){return this}),r.AsyncIterator=re,r.async=function(L,D,$,O,T){T===void 0&&(T=Promise);var b=new re(w(L,D,$,O),T);return r.isGeneratorFunction(D)?b:b.next().then(function(P){return P.done?P.value:b.next()})};function S(L,D,$){var O=g;return function(b,P){if(O===m)throw new Error("Generator is already running");if(O===f){if(b==="throw")throw P;return fe()}for($.method=b,$.arg=P;;){var W=$.delegate;if(W){var ie=q(W,$);if(ie){if(ie===y)continue;return ie}}if($.method==="next")$.sent=$._sent=$.arg;else if($.method==="throw"){if(O===g)throw O=f,$.arg;$.dispatchException($.arg)}else $.method==="return"&&$.abrupt("return",$.arg);O=m;var Q=d(L,D,$);if(Q.type==="normal"){if(O=$.done?f:u,Q.arg===y)continue;return{value:Q.arg,done:$.done}}else Q.type==="throw"&&(O=f,$.method="throw",$.arg=Q.arg)}}}function q(L,D){var $=D.method,O=L.iterator[$];if(O===a)return D.delegate=null,$==="throw"&&L.iterator.return&&(D.method="return",D.arg=a,q(L,D),D.method==="throw")||$!=="return"&&(D.method="throw",D.arg=new TypeError("The iterator does not provide a '"+$+"' method")),y;var T=d(O,L.iterator,D.arg);if(T.type==="throw")return D.method="throw",D.arg=T.arg,D.delegate=null,y;var b=T.arg;if(!b)return D.method="throw",D.arg=new TypeError("iterator result is not an object"),D.delegate=null,y;if(b.done)D[L.resultName]=b.value,D.next=L.nextLoc,D.method!=="return"&&(D.method="next",D.arg=a);else return b;return D.delegate=null,y}H(U),h(U,p,"Generator"),h(U,l,function(){return this}),h(U,"toString",function(){return"[object Generator]"});function v(L){var D={tryLoc:L[0]};1 in L&&(D.catchLoc=L[1]),2 in L&&(D.finallyLoc=L[2],D.afterLoc=L[3]),this.tryEntries.push(D)}function G(L){var D=L.completion||{};D.type="normal",delete D.arg,L.completion=D}function ae(L){this.tryEntries=[{tryLoc:"root"}],L.forEach(v,this),this.reset(!0)}r.keys=function(L){var D=Object(L),$=[];for(var O in D)$.push(O);return $.reverse(),function T(){for(;$.length;){var b=$.pop();if(b in D)return T.value=b,T.done=!1,T}return T.done=!0,T}};function Y(L){if(L){var D=L[l];if(D)return D.call(L);if(typeof L.next=="function")return L;if(!isNaN(L.length)){var $=-1,O=function T(){for(;++$<L.length;)if(n.call(L,$))return T.value=L[$],T.done=!1,T;return T.value=a,T.done=!0,T};return O.next=O}}return{next:fe}}r.values=Y;function fe(){return{value:a,done:!0}}return ae.prototype={constructor:ae,reset:function(L){if(this.prev=0,this.next=0,this.sent=this._sent=a,this.done=!1,this.delegate=null,this.method="next",this.arg=a,this.tryEntries.forEach(G),!L)for(var D in this)D.charAt(0)==="t"&&n.call(this,D)&&!isNaN(+D.slice(1))&&(this[D]=a)},stop:function(){this.done=!0;var L=this.tryEntries[0],D=L.completion;if(D.type==="throw")throw D.arg;return this.rval},dispatchException:function(L){if(this.done)throw L;var D=this;function $(ie,Q){return b.type="throw",b.arg=L,D.next=ie,Q&&(D.method="next",D.arg=a),!!Q}for(var O=this.tryEntries.length-1;O>=0;--O){var T=this.tryEntries[O],b=T.completion;if(T.tryLoc==="root")return $("end");if(T.tryLoc<=this.prev){var P=n.call(T,"catchLoc"),W=n.call(T,"finallyLoc");if(P&&W){if(this.prev<T.catchLoc)return $(T.catchLoc,!0);if(this.prev<T.finallyLoc)return $(T.finallyLoc)}else if(P){if(this.prev<T.catchLoc)return $(T.catchLoc,!0)}else if(W){if(this.prev<T.finallyLoc)return $(T.finallyLoc)}else throw new Error("try statement without catch or finally")}}},abrupt:function(L,D){for(var $=this.tryEntries.length-1;$>=0;--$){var O=this.tryEntries[$];if(O.tryLoc<=this.prev&&n.call(O,"finallyLoc")&&this.prev<O.finallyLoc){var T=O;break}}T&&(L==="break"||L==="continue")&&T.tryLoc<=D&&D<=T.finallyLoc&&(T=null);var b=T?T.completion:{};return b.type=L,b.arg=D,T?(this.method="next",this.next=T.finallyLoc,y):this.complete(b)},complete:function(L,D){if(L.type==="throw")throw L.arg;return L.type==="break"||L.type==="continue"?this.next=L.arg:L.type==="return"?(this.rval=this.arg=L.arg,this.method="return",this.next="end"):L.type==="normal"&&D&&(this.next=D),y},finish:function(L){for(var D=this.tryEntries.length-1;D>=0;--D){var $=this.tryEntries[D];if($.finallyLoc===L)return this.complete($.completion,$.afterLoc),G($),y}},catch:function(L){for(var D=this.tryEntries.length-1;D>=0;--D){var $=this.tryEntries[D];if($.tryLoc===L){var O=$.completion;if(O.type==="throw"){var T=O.arg;G($)}return T}}throw new Error("illegal catch attempt")},delegateYield:function(L,D,$){return this.delegate={iterator:Y(L),resultName:D,nextLoc:$},this.method==="next"&&(this.arg=a),y}},r}(e.exports);try{regeneratorRuntime=t}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}})(go);var _o={defaultArgs:["./ffmpeg","-nostdin","-y"],baseOptions:{log:!1,logger:()=>{},progress:()=>{},corePath:""}},vo=(e,t)=>{const r=e._malloc(t.length*Uint32Array.BYTES_PER_ELEMENT);return t.forEach((i,n)=>{const s=e.lengthBytesUTF8(i)+1,a=e._malloc(s);e.stringToUTF8(i,a,s),e.setValue(r+Uint32Array.BYTES_PER_ELEMENT*n,a,"i32")}),[t.length,r]};const yo="@ffmpeg/ffmpeg",bo="0.11.6",wo="FFmpeg WebAssembly version",ko="src/index.js",$o="src/index.d.ts",Eo={example:"examples"},So={start:"node scripts/server.js","start:worker":"node scripts/worker-server.js",build:"rimraf dist && webpack --config scripts/webpack.config.prod.js","build:worker":"rimraf dist && webpack --config scripts/webpack.config.worker.prod.js",prepublishOnly:"npm run build",lint:"eslint src",wait:"rimraf dist && wait-on http://localhost:3000/dist/ffmpeg.dev.js",test:"npm-run-all -p -r start test:all","test:all":"npm-run-all wait test:browser:ffmpeg test:node:all","test:node":"node node_modules/mocha/bin/_mocha --exit --bail --require ./scripts/test-helper.js","test:node:all":"npm run test:node -- ./tests/*.test.js","test:browser":"mocha-headless-chrome -a allow-file-access-from-files -a incognito -a no-sandbox -a disable-setuid-sandbox -a disable-logging -t 300000","test:browser:ffmpeg":"npm run test:browser -- -f ./tests/ffmpeg.test.html"},Ao={"./src/node/index.js":"./src/browser/index.js"},Co={type:"git",url:"git+https://github.com/ffmpegwasm/ffmpeg.wasm.git"},Po=["ffmpeg","WebAssembly","video"],Oo="Jerome Wu <jeromewus@gmail.com>",Io="MIT",Ro={url:"https://github.com/ffmpegwasm/ffmpeg.wasm/issues"},No={node:">=12.16.1"},To="https://github.com/ffmpegwasm/ffmpeg.wasm#readme",jo={"is-url":"^1.2.4","node-fetch":"^2.6.1","regenerator-runtime":"^0.13.7","resolve-url":"^0.2.1"},Do={"@babel/core":"^7.12.3","@babel/preset-env":"^7.12.1","@ffmpeg/core":"^0.11.0","@types/emscripten":"^1.39.4","babel-eslint":"^10.1.0","babel-loader":"^8.1.0",chai:"^4.2.0",cors:"^2.8.5",eslint:"^7.12.1","eslint-config-airbnb-base":"^14.1.0","eslint-plugin-import":"^2.22.1",express:"^4.17.1",mocha:"^8.2.1","mocha-headless-chrome":"^2.0.3","npm-run-all":"^4.1.5","wait-on":"^5.3.0",webpack:"^5.3.2","webpack-cli":"^4.1.0","webpack-dev-middleware":"^4.0.0"},na={name:yo,version:bo,description:wo,main:ko,types:$o,directories:Eo,scripts:So,browser:Ao,repository:Co,keywords:Po,author:Oo,license:Io,bugs:Ro,engines:No,homepage:To,dependencies:jo,devDependencies:Do},zo=(typeof process<"u",`https://unpkg.com/@ffmpeg/core@${na.devDependencies["@ffmpeg/core"].substring(1)}/dist/ffmpeg-core.js`),Fo={corePath:zo};let ti=!1,ia=()=>{};const Mo=e=>{ti=e},Uo=e=>{ia=e},Bo=(e,t)=>{ia({type:e,message:t}),ti&&console.log(`[${e}] ${t}`)};var rr={logging:ti,setLogging:Mo,setCustomLogger:Uo,log:Bo};const Lo=e=>`
createFFmpegCore is not defined. ffmpeg.wasm is unable to find createFFmpegCore after loading ffmpeg-core.js from ${e}. Use another URL when calling createFFmpeg():

const ffmpeg = createFFmpeg({
  corePath: 'http://localhost:3000/ffmpeg-core.js',
});
`;var Qi={CREATE_FFMPEG_CORE_IS_NOT_DEFINED:Lo};const ur=async(e,t)=>{rr.log("info",`fetch ${e}`);const r=await(await fetch(e)).arrayBuffer();rr.log("info",`${e} file size = ${r.byteLength} bytes`);const i=new Blob([r],{type:t}),n=URL.createObjectURL(i);return rr.log("info",`${e} blob URL = ${n}`),n},Vo=async({corePath:e,workerPath:t,wasmPath:r})=>{if(typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope){if(typeof e!="string")throw Error("corePath should be a string!");const o=new URL(e,import.meta.url).href,l=await ur(o,"application/javascript"),c=await ur(r!==void 0?r:o.replace("ffmpeg-core.js","ffmpeg-core.wasm"),"application/wasm"),p=await ur(t!==void 0?t:o.replace("ffmpeg-core.js","ffmpeg-core.worker.js"),"application/javascript");return typeof createFFmpegCore>"u"?new Promise(h=>{if(globalThis.importScripts(l),typeof createFFmpegCore>"u")throw Error(Qi.CREATE_FFMPEG_CORE_IS_NOT_DEFINED(o));rr.log("info","ffmpeg-core.js script loaded"),h({createFFmpegCore,corePath:l,wasmPath:c,workerPath:p})}):(rr.log("info","ffmpeg-core.js script is loaded already"),Promise.resolve({createFFmpegCore,corePath:l,wasmPath:c,workerPath:p}))}if(typeof e!="string")throw Error("corePath should be a string!");const i=new URL(e,import.meta.url).href,n=await ur(i,"application/javascript"),s=await ur(r!==void 0?r:i.replace("ffmpeg-core.js","ffmpeg-core.wasm"),"application/wasm"),a=await ur(t!==void 0?t:i.replace("ffmpeg-core.js","ffmpeg-core.worker.js"),"application/javascript");return typeof createFFmpegCore>"u"?new Promise(o=>{const l=document.createElement("script"),c=()=>{if(l.removeEventListener("load",c),typeof createFFmpegCore>"u")throw Error(Qi.CREATE_FFMPEG_CORE_IS_NOT_DEFINED(i));rr.log("info","ffmpeg-core.js script loaded"),o({createFFmpegCore,corePath:n,wasmPath:s,workerPath:a})};l.src=n,l.type="text/javascript",l.addEventListener("load",c),document.getElementsByTagName("head")[0].appendChild(l)}):(rr.log("info","ffmpeg-core.js script is loaded already"),Promise.resolve({createFFmpegCore,corePath:n,wasmPath:s,workerPath:a}))},qo=e=>new Promise((t,r)=>{const i=new FileReader;i.onload=()=>{t(i.result)},i.onerror=({target:{error:{code:n}}})=>{r(Error(`File could not be read! Code=${n}`))},i.readAsArrayBuffer(e)}),Ko=async e=>{let t=e;return typeof e>"u"?new Uint8Array:(typeof e=="string"?/data:_data\/([a-zA-Z]*);base64,([^"]*)/.test(e)?t=atob(e.split(",")[1]).split("").map(r=>r.charCodeAt(0)):t=await(await fetch(new URL(e,import.meta.url).href)).arrayBuffer():(e instanceof File||e instanceof Blob)&&(t=await qo(e)),new Uint8Array(t))},Wo=Object.freeze(Object.defineProperty({__proto__:null,defaultOptions:Fo,fetchFile:Ko,getCreateFFmpegCore:Vo},Symbol.toStringTag,{value:"Module"})),sa=mo(Wo),{defaultArgs:Go,baseOptions:Ho}=_o,xo=vo,{defaultOptions:Zo,getCreateFFmpegCore:Jo}=sa,{version:Yo}=na,Rn=Error("ffmpeg.wasm is not ready, make sure you have completed load().");var Xo=(e={})=>{const{log:t,logger:r,progress:i,...n}={...Ho,...Zo,...e};let s=null,a=null,o=null,l=null,c=!1,p=()=>{},h=t,w=i,d=0,g=0,u=!1,m=0;const f=v=>{v==="FFMPEG_END"&&o!==null&&(o(),o=null,l=null,c=!1)},y=(v,G)=>{p({type:v,message:G}),h&&console.log(`[${v}] ${G}`)},k=v=>{const[G,ae,Y]=v.split(":");return parseFloat(G)*60*60+parseFloat(ae)*60+parseFloat(Y)},E=(v,G)=>{if(typeof v=="string")if(v.startsWith("  Duration")){const ae=v.split(", ")[0].split(": ")[1],Y=k(ae);G({duration:Y,ratio:m}),(d===0||d>Y)&&(d=Y,u=!0)}else if(u&&v.startsWith("    Stream")){const ae=v.match(/([\d.]+) fps/);if(ae){const Y=parseFloat(ae[1]);g=d*Y}else g=0;u=!1}else if(v.startsWith("frame")||v.startsWith("size")){const ae=v.split("time=")[1].split(" ")[0],Y=k(ae),fe=v.match(/frame=\s*(\d+)/);if(g&&fe){const L=parseFloat(fe[1]);m=Math.min(L/g,1)}else m=Y/d;G({ratio:m,time:Y})}else v.startsWith("video:")&&(G({ratio:1}),d=0)},A=({type:v,message:G})=>{y(v,G),E(G,w),f(G)},C=async()=>{if(y("info","load ffmpeg-core"),s===null){y("info","loading ffmpeg-core");const{createFFmpegCore:v,corePath:G,workerPath:ae,wasmPath:Y}=await Jo(n);s=await v({mainScriptUrlOrBlob:G,printErr:fe=>A({type:"fferr",message:fe}),print:fe=>A({type:"ffout",message:fe}),locateFile:(fe,L)=>{if(typeof window<"u"||typeof WorkerGlobalScope<"u"){if(typeof Y<"u"&&fe.endsWith("ffmpeg-core.wasm"))return Y;if(typeof ae<"u"&&fe.endsWith("ffmpeg-core.worker.js"))return ae}return L+fe}}),a=s.cwrap(n.mainName||"proxy_main","number",["number","number"]),y("info","ffmpeg-core loaded")}else throw Error("ffmpeg.wasm was loaded, you should not load it again, use ffmpeg.isLoaded() to check next time.")},I=()=>s!==null,F=(...v)=>{if(y("info",`run ffmpeg command: ${v.join(" ")}`),s===null)throw Rn;if(c)throw Error("ffmpeg.wasm can only run one command at a time");return c=!0,new Promise((G,ae)=>{const Y=[...Go,...v].filter(fe=>fe.length!==0);o=G,l=ae,a(...xo(s,Y))})},U=(v,...G)=>{if(y("info",`run FS.${v} ${G.map(ae=>typeof ae=="string"?ae:`<${ae.length} bytes binary file>`).join(" ")}`),s===null)throw Rn;{let ae=null;try{ae=s.FS[v](...G)}catch{throw Error(v==="readdir"?`ffmpeg.FS('readdir', '${G[0]}') error. Check if the path exists, ex: ffmpeg.FS('readdir', '/')`:v==="readFile"?`ffmpeg.FS('readFile', '${G[0]}') error. Check if the path exists`:"Oops, something went wrong in FS operation.")}return ae}},H=()=>{if(s===null)throw Rn;l&&l("ffmpeg has exited"),c=!1;try{s.exit(1)}catch(v){y(v.message),l&&l(v)}finally{s=null,a=null,o=null,l=null}},re=v=>{w=v},S=v=>{p=v},q=v=>{h=v};return y("info",`use ffmpeg.wasm v${Yo}`),{setProgress:re,setLogger:S,setLogging:q,load:C,isLoaded:I,run:F,exit:H,FS:U}};const Qo=Xo,{fetchFile:el}=sa;var tl={createFFmpeg:Qo,fetchFile:el};const Ct=tl.createFFmpeg({corePath:"../ffmpeg-core/ffmpeg-core.js",mainName:"main"}),rl=async e=>e.type=="audio/ogg"?new Blob([e],{type:"audio/ogg"}):await new Promise(t=>{const r=new FileReader,i=new Blob([e]);r.readAsArrayBuffer(i),r.onload=async()=>{const n=r.result;await Ct.load(),Ct.FS("writeFile","audio",new Uint8Array(n)),await Ct.run("-i","audio","-acodec","libvorbis","/output.ogg");const s=Ct.FS("readFile","/output.ogg");Ct.exit(),t(new Blob([s],{type:"audio/ogg"}))}}),nl=async e=>await new Promise(t=>{const r=new FileReader;r.readAsArrayBuffer(e),r.onload=async()=>{const i=r.result;await Ct.load(),Ct.FS("writeFile","audio",new Uint8Array(i)),await Ct.run("-i","audio","-ac","1","/output.ogg");const n=Ct.FS("readFile","/output.ogg");Ct.exit(),t(new Blob([n],{type:"audio/ogg"}))}}),il=async(e,t,r)=>await new Promise(i=>{const n=new Image;n.src=URL.createObjectURL(e),n.onload=()=>{const s=document.createElement("canvas");s.width=t,s.height=r,s.getContext("2d").drawImage(n,0,0,t,r);const o=s.toDataURL("image/png");i(sl(o))}}),sl=e=>new Promise(t=>{const r=al(e);t(new Blob([r],{type:"image/png"}))}),al=e=>{const t=e.split(",")[1],r=window.atob(t),i=new ArrayBuffer(r.length),n=new Uint8Array(i);for(let s=0;s<r.length;s++)n[s]=r.charCodeAt(s);return i},ol=(e,t)=>{const r=document.createElement("a");r.href=URL.createObjectURL(e),r.download=t,r.click()};function ll(e){let t,r,i;const n=e[4].default,s=qs(n,e,e[3],null);return{c(){s&&s.c(),t=Se(),r=le("span"),B(r,"id","tooltiptext"),B(r,"class","left svelte-i4awrz"),yt(r,"width",e[1])},m(a,o){s&&s.m(a,o),pe(a,t,o),pe(a,r,o),r.innerHTML=e[0],i=!0},p(a,o){s&&s.p&&(!i||o&8)&&Gs(s,n,a,a[3],i?Ws(n,a[3],o,null):Hs(a[3]),null),(!i||o&1)&&(r.innerHTML=a[0]),(!i||o&2)&&yt(r,"width",a[1])},i(a){i||(we(s,a),i=!0)},o(a){Ie(s,a),i=!1},d(a){s&&s.d(a),a&&de(t),a&&de(r)}}}function cl(e){let t,r,i;const n=e[4].default,s=qs(n,e,e[3],null);return{c(){t=le("span"),r=Se(),s&&s.c(),B(t,"id","tooltiptext"),B(t,"class","right svelte-i4awrz"),yt(t,"width",e[1])},m(a,o){pe(a,t,o),t.innerHTML=e[0],pe(a,r,o),s&&s.m(a,o),i=!0},p(a,o){(!i||o&1)&&(t.innerHTML=a[0]),(!i||o&2)&&yt(t,"width",a[1]),s&&s.p&&(!i||o&8)&&Gs(s,n,a,a[3],i?Ws(n,a[3],o,null):Hs(a[3]),null)},i(a){i||(we(s,a),i=!0)},o(a){Ie(s,a),i=!1},d(a){a&&de(t),a&&de(r),s&&s.d(a)}}}function ul(e){let t,r,i,n;const s=[cl,ll],a=[];function o(l,c){return l[2]?0:1}return r=o(e),i=a[r]=s[r](e),{c(){t=le("div"),i.c(),B(t,"id","container"),B(t,"class","svelte-i4awrz")},m(l,c){pe(l,t,c),a[r].m(t,null),n=!0},p(l,[c]){let p=r;r=o(l),r===p?a[r].p(l,c):(Ut(),Ie(a[p],1,1,()=>{a[p]=null}),Bt(),i=a[r],i?i.p(l,c):(i=a[r]=s[r](l),i.c()),we(i,1),i.m(t,null))},i(l){n||(we(i),n=!0)},o(l){Ie(i),n=!1},d(l){l&&de(t),a[r].d()}}}function fl(e,t,r){let{$$slots:i={},$$scope:n}=t,{text:s}=t,{width:a="120px"}=t,{right:o=!0}=t;return e.$$set=l=>{"text"in l&&r(0,s=l.text),"width"in l&&r(1,a=l.width),"right"in l&&r(2,o=l.right),"$$scope"in l&&r(3,n=l.$$scope)},[s,a,o,n,i]}class nr extends Nt{constructor(t){super(),Rt(this,t,fl,ul,bt,{text:0,width:1,right:2})}}const aa="/jext-reborn/assets/default_disk-59365372.png",oa="/jext-reborn/assets/loading-9ab4977f.webp",la="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAYAAADED76LAAAFxnpUWHRSYXcgcHJvZmlsZSB0eXBlIGV4aWYAAHjarVdZkuQoDP3nFHMEkBDLcVgj5gZz/Hkshsyq6umqjrHDNinL4klPSKRq//zd1V84iLxWVnxw0TmNw0YbKWEQ9DrivBtt530dzzvzLlfnBUHEePL66dPWT5DL/eDYye9yFfYbCtuQOYbnwWPmMa6vICGnJTd2G4ptDVwM/hVq3oaKfXFpX/a6N4/xW70JPKJUBRMxUWPDet7DQsDjIk5DjrvmAD0zJcxR4SFstjEE5M2956nfAv0e/D1SH6N/Rh+CT2nL+UMs3cOa+/qFkQ9yPtPQ68R8ENH7i+S1/+TOvnqvofe2vEvWIaJuZ9QM9hOhoZgRcp6fOZwel2Ds5xlxBp10AeVVF51xFhMNIfpdGWuqSaabNp/FFEC01MjjSVSIpyywp0iFB092nKaT58iVA3gr1BSos0wHi5nzxjlfMQEzVwNVMjBmJv2/ONV/vfzJqXovI0RGhxMr4KKR14AxmBt3aIEQ0zdvMgP8nJt+/ZI/SFUwKDPMAQ4mnZeJLObmFk+eGXqC51pCRvm6DSBEmFsAxjAY0M6wGGe0R7UxBnEMICgBObGlDAaMCFWAJMvsSHnCksHc+MabqUtCjoYYtQlECDv24CZyAlnWCvLH24AcSsJiRcSJl6AkSnLsrBPnnHejyCXP3nrxznsffPQpcLBBggs+hBBDihQZNVCiiz6GGGNKpBImSrCVoJ8gyZQ52yzZZZ9DjjkVpE+xRYorvoQSS6pUuaJMVFd9DTXW1IxqqBTNNmmu+RZabKkj1zp326W77nvosafD2mb10/kD1sxmjSZTQ88f1iBV3j8mzCgnMjgDY2QNGPeDASQ0Dc50MNbSYG5wpiNhUQgBpAxuVDWDMVBomyHp5nB3mfsWb0rCt3ij3zGnBnX/B3MK1H3m7QvW6uhzZTK2VuGIqWasvtYpII8CcgCoxzhAt1MbA8rNlx6dnj+CRjWaCi1xpSNMfenWwFXJJ93C6IWPULcp7LFxOVKK1VgBWwjwGFhtirJLVukKW5wDgasvQqlTOIB2KksDraLJ+l5Zn+wj9dKXckbrT590A/YDR2gWgM7FhyFVUyw8QaeSj08hLv+TzdejZbE45P2DtC437Sj+zySy9AJK9aOW84JoY3UHNwrSFuZrT5UFsblYrkm7TOZYjy/ex/V51bH1GzraYlWw2PmqO79GckBFWZEfLflE7WHosqFMCY/UtTv9Rh+TN9fkIdMeWd1MdGXJ52sgPnJyvkR9uc+HzkyPttTNB5JNq4elWnY+Wg7hyfOm0xxlc4Pil/MS85kHpX3S75I7CeaRmWtyZEq4SOPvkKpfQf0pUvUrqN9EWh6kClDDDYD1G6pDITrqei+zRK/rCcK9+krsrG4W6pXrCMHjVvN515RoO3Zgp3xscSiNH6Hi2pe/KE/IzCcKZetGxOMYKGEXFVe6P6rNpFXYurXdnjgOs7sERW7uyIuZ5mI83KCg7EBUikjIm42y5SaWu0JzX+FEpjZ36HBrshbYbrxKP+6UcIODLrAToR4PUM/c4pxPBTbrJa7h2vbItqfS5vsx2WWxoIDlT7W6JC79IpL1GULV2q3VP4WpvsT5BzDVlzjRUh6idXe3V/FOCvyJOUI0xenaaFX5YmBZqlm38lj9+OS8e18pFxJiVJPbGWnRZ85ET/IlwpRn/rRThEy56zDWatTIkYhefqRmtyQx9UU11aclnWR6f6pRLp+ccygwdwHXp9ySjzdBn2VdDWa8FSitCpmxk7orqm7qbXMv69ftPk9c5YvoqS/D+Sm8WP7P3sJ2NKlHblZ4W2aVbn5I2hlXXjLzu/jUN/B8C596B3jxtbyTYmwuT/fvi7xsbrPunGRuIqRlbNKu3MpSLhYbplM29lKpnG7yYqO+F2S5q7+Vrepem0XbHYT5brKWV0mHd5jqS5x/AFN9ifOnMLl3VSP+R/wLwQRCBdriyuEAAAGFaUNDUElDQyBwcm9maWxlAAB4nH2RPUjDUBSFT1ulpVQc2kHEIUPVxYKoiKNWoQgVQq3QqoPJS/+gSUOS4uIouBYc/FmsOrg46+rgKgiCPyCOTk6KLlLifUmhRYwPLu/jvHcO990H+JtVppo944CqWUYmlRRy+VUh+IowQlSjiErM1OdEMQ3P9XUPH9/vEjzL+96fq08pmAzwCcSzTDcs4g3i6U1L57xPHGNlSSE+Jx4zqEHiR67LLr9xLjns55kxI5uZJ44RC6UulruYlQ2VeIo4rqga5ftzLiuctzir1Tpr98lfGCloK8tcpxpCCotYgggBMuqooAoLCdo1Ukxk6Dzp4R90/CK5ZHJVwMixgBpUSI4f/A9+z9YsTk64SZEk0Pti2x/DQHAXaDVs+/vYtlsnQOAZuNI6/loTmPkkvdHR4kdA/zZwcd3R5D3gcgcYeNIlQ3KkAJW/WATez+ib8kD0FgivuXNrn+P0AcjSrNI3wMEhMFKi7HWPd4e65/bvnfb8fgBGIXKVL4xNQwAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB+YKCAonM+tPNNQAAAELSURBVBjTNcE9SAJhAIDh9w5L+gSRMDUlIeiHhhAuTAocg6CWNgfnoKGIppaWyCgaAt1CCCvhIBCqrSCEIi4olKvxKjuzHBpEkA6PsKnnkfKPh50VY5UpobDgTRJ1RbkQR1iNNuVbA2ksM9KZVCYwmy+M90Z41aoMzfXRqlgs+zaQw4qH4v41PzmbYfcoLqebwtoVT1kDIQRyV7eTTltCU0s8W/c0glXM8zpvZpVscw9H3DlD/1KQyG6MnfVtpF+ZG71I6jLFp1zDESKAVnngJHfMx9k3AMmeBLObcRL2InLYM4hPBNDUEv/eT+tYNZv0XRo53zogFBf4p71k9C0KZZWBeR+G/oU/JvgD3DRc8fJrLSwAAAAASUVORK5CYII=",dl="/jext-reborn/assets/chest-dc4b25ff.png",hl="/jext-reborn/assets/delete_btn-871175bc.png",pl="/jext-reborn/assets/delete_btn_hover-386c7405.png";function ht(e,{delay:t=0,duration:r=400,easing:i=Jn}={}){const n=+getComputedStyle(e).opacity;return{delay:t,duration:r,easing:i,css:s=>`opacity: ${s*n}`}}function ml(e){return{c:ke,m:ke,p:ke,i:ke,o:ke,d:ke}}function gl(e){let t;function r(s,a){return s[0]?vl:_l}let i=r(e),n=i(e);return{c(){n.c(),t=wt()},m(s,a){n.m(s,a),pe(s,t,a)},p(s,a){i===(i=r(s))&&n?n.p(s,a):(n.d(1),n=i(s),n&&(n.c(),we(n,1),n.m(t.parentNode,t)))},i(s){we(n)},o:ke,d(s){n.d(s),s&&de(t)}}}function _l(e){let t,r,i,n,s,a,o,l,c;return{c(){t=le("div"),r=le("img"),n=Se(),s=le("p"),a=rt(e[2]),xe(r.src,i=e[1])||B(r,"src",i),B(r,"alt",e[2]),B(r,"class","svelte-72nmcc"),B(t,"class","svelte-72nmcc")},m(p,h){pe(p,t,h),se(t,r),se(t,n),se(t,s),se(s,a),l||(c=[he(t,"click",function(){It(e[3])&&e[3].apply(this,arguments)}),he(t,"keydown",null)],l=!0)},p(p,h){e=p,h&2&&!xe(r.src,i=e[1])&&B(r,"src",i),h&4&&B(r,"alt",e[2]),h&4&&vt(a,e[2])},i(p){o||nt(()=>{o=_r(t,ht,{}),o.start()})},o:ke,d(p){p&&de(t),l=!1,je(c)}}}function vl(e){let t,r,i,n,s,a,o,l,c;return{c(){t=le("div"),r=le("img"),n=Se(),s=le("p"),a=rt(e[2]),xe(r.src,i=e[6])||B(r,"src",i),B(r,"alt",e[2]),B(r,"class","svelte-72nmcc"),B(t,"class","selected svelte-72nmcc")},m(p,h){pe(p,t,h),se(t,r),se(t,n),se(t,s),se(s,a),l||(c=[he(t,"click",function(){It(e[3])&&e[3].apply(this,arguments)}),he(t,"keydown",null)],l=!0)},p(p,h){e=p,h&4&&B(r,"alt",e[2]),h&4&&vt(a,e[2])},i(p){o||nt(()=>{o=_r(t,ht,{}),o.start()})},o:ke,d(p){p&&de(t),l=!1,je(c)}}}function yl(e){let t;function r(s,a){return s[0]?wl:bl}let i=r(e),n=i(e);return{c(){n.c(),t=wt()},m(s,a){n.m(s,a),pe(s,t,a)},p(s,a){i===(i=r(s))&&n?n.p(s,a):(n.d(1),n=i(s),n&&(n.c(),we(n,1),n.m(t.parentNode,t)))},i(s){we(n)},o:ke,d(s){n.d(s),s&&de(t)}}}function bl(e){let t,r,i,n,s,a,o,l,c;return{c(){t=le("div"),r=le("img"),n=Se(),s=le("p"),a=rt(e[2]),xe(r.src,i=e[1])||B(r,"src",i),B(r,"alt",e[2]),B(r,"class","svelte-72nmcc"),B(t,"class","svelte-72nmcc")},m(p,h){pe(p,t,h),se(t,r),se(t,n),se(t,s),se(s,a),l||(c=[he(t,"click",function(){It(e[3])&&e[3].apply(this,arguments)}),he(t,"keydown",null)],l=!0)},p(p,h){e=p,h&2&&!xe(r.src,i=e[1])&&B(r,"src",i),h&4&&B(r,"alt",e[2]),h&4&&vt(a,e[2])},i(p){o||nt(()=>{o=_r(t,ht,{}),o.start()})},o:ke,d(p){p&&de(t),l=!1,je(c)}}}function wl(e){let t,r,i,n,s,a,o,l,c;return{c(){t=le("div"),r=le("img"),n=Se(),s=le("p"),a=rt(e[2]),xe(r.src,i=oa)||B(r,"src",i),B(r,"alt",e[2]),B(r,"class","svelte-72nmcc"),B(t,"class","selected svelte-72nmcc")},m(p,h){pe(p,t,h),se(t,r),se(t,n),se(t,s),se(s,a),l||(c=[he(t,"click",function(){It(e[3])&&e[3].apply(this,arguments)}),he(t,"keydown",null)],l=!0)},p(p,h){e=p,h&4&&B(r,"alt",e[2]),h&4&&vt(a,e[2])},i(p){o||nt(()=>{o=_r(t,ht,{}),o.start()})},o:ke,d(p){p&&de(t),l=!1,je(c)}}}function kl(e){let t,r={ctx:e,current:null,token:null,hasCatch:!1,pending:yl,then:gl,catch:ml,value:6};return Qn(e[4],r),{c(){t=wt(),r.block.c()},m(i,n){pe(i,t,n),r.block.m(i,r.anchor=n),r.mount=()=>t.parentNode,r.anchor=t},p(i,[n]){e=i,ei(r,e,n)},i(i){we(r.block)},o:ke,d(i){i&&de(t),r.block.d(i),r.token=null,r=null}}}function $l(e,t,r){let{value:i=!1}=t,{image:n}=t,{name:s}=t,{onClick:a=()=>{}}=t;const l=(async c=>{const h=await(await fetch(c)).blob();return URL.createObjectURL(h)})(n);return e.$$set=c=>{"value"in c&&r(0,i=c.value),"image"in c&&r(1,n=c.image),"name"in c&&r(2,s=c.name),"onClick"in c&&r(3,a=c.onClick)},[i,n,s,a,l]}class El extends Nt{constructor(t){super(),Rt(this,t,$l,kl,bt,{value:0,image:1,name:2,onClick:3})}}const ri="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAA0UlEQVR42nWSsQ1CMQxEvQ4rINFR0SOBxAgpaRgA/Q3YhelAF+mi9+/nF1YS2zn7zq7v+/H7tEu31/XYbea7nw6ruM/SRYlM0HtZluEzIO+KycporsI3qzGHeSW01tpwsJukkl0MAAcV0GdyJ6AKpa/cVlZyq9SG9yFicpR4TKDipOmzMjnH525m/g6QTp5uOT8zNt2D5J68SaVyPORsYPtJxVrVjBcraHSkwDH3TUxnguyZu1pRkD1v541wpjHb0MokKkz+WWgDkDtgkfbm7wJ/9oUoq3qXqFkAAAAASUVORK5CYII=",es=new Map([[4,"1.14 - 1.14.4"],[5,"1.15 - 1.16.1"],[6,"1.16.2-1.16.5"],[7,"1.17 - 1.17.1"],[8,"1.18 - 1.18.2"],[9,"1.19 - 1.19.2"]]),ts=[{source:"chests/ancient_city,chests/ancient_city_ice_box",img:"loottable_icons/Ancient_City.webp",name:"Ancient City",minVersion:9},{source:"chests/bastion_bridge,chests/bastion_hoglin_treasure,chests/bastion_other,chests/bastion_treasure",img:"loottable_icons/Bastion_Remnant.webp",name:"Bastion Remnant",minVersion:5},{source:"chests/desert_pyramid",img:"loottable_icons/Desert_pyramid.webp",name:"Desert Pyramid",minVersion:4},{source:"chests/simple_dungeon",img:"loottable_icons/Dungeon.webp",name:"Dungeon",minVersion:4},{source:"chests/end_city_treasure",img:"loottable_icons/End_City.webp",name:"End City",minVersion:4},{source:"chests/igloo_chest",img:"loottable_icons/Igloo.webp",name:"Igloo",minVersion:4},{source:"chests/jungle_temple",img:"loottable_icons/Jungle_pyramid.webp",name:"Jungle Temple",minVersion:4},{source:"chests/nether_bridge",img:"loottable_icons/Nether_Fortress.webp",name:"Nether Fortress",minVersion:4},{source:"chests/ruined_portal",img:"loottable_icons/Nether_portal.webp",name:"Ruined Portal",minVersion:5},{source:"chests/pillager_outpost",img:"loottable_icons/Pillager_outpost.webp",name:"Pillager Outpost",minVersion:4},{source:"chests/shipwreck_map,chests/shipwreck_supply,chests/shipwreck_treasure",img:"loottable_icons/Shipwreck.webp",name:"Shipwreck",minVersion:4},{source:"chests/stronghold_corridor,chests/stronghold_crossing",img:"loottable_icons/Stronghold.webp",name:"Stronghold",minVersion:4},{source:"chests/underwater_ruin_big,chests/underwater_ruin_small",img:"loottable_icons/Underwater_ruin.webp",name:"Underwater Ruins",minVersion:4},{source:"chests/village/village_plains_house,chests/village/village_savanna_house,chests/village/village_desert_house,chests/village/village_snowy_house,chests/village/village_taiga_house",img:"loottable_icons/Village.webp",name:"Village",minVersion:4},{source:"chests/woodland_mansion",img:"loottable_icons/Woodland_Mansion.webp",name:"Woodland Mansion",minVersion:4},{source:"chests/abandoned_mineshaft",img:"loottable_icons/Mineshaft.webp",name:"Mineshaft",minVersion:4}];function rs(e,t,r){const i=e.slice();return i[6]=t[r],i}function ns(e){let t,r,i,n,s,a,o,l=ts,c=[];for(let h=0;h<l.length;h+=1)c[h]=ss(rs(e,l,h));const p=h=>Ie(c[h],1,1,()=>{c[h]=null});return{c(){t=le("div"),r=le("div");for(let h=0;h<c.length;h+=1)c[h].c();i=Se(),n=le("div"),n.innerHTML='<div id="content" class="svelte-1xo6dv0"><p id="generate_text" class="noselect svelte-1xo6dv0">OK</p></div>',B(r,"class","popupcontainer svelte-1xo6dv0"),B(n,"id","messagepopupconfirm"),B(n,"class","popupconfirm svelte-1xo6dv0"),B(t,"class","popup svelte-1xo6dv0")},m(h,w){pe(h,t,w),se(t,r);for(let d=0;d<c.length;d+=1)c[d].m(r,null);se(t,i),se(t,n),s=!0,a||(o=[he(n,"click",e[4]),he(n,"keydown",null)],a=!0)},p(h,w){if(w&13){l=ts;let d;for(d=0;d<l.length;d+=1){const g=rs(h,l,d);c[d]?(c[d].p(g,w),we(c[d],1)):(c[d]=ss(g),c[d].c(),we(c[d],1),c[d].m(r,null))}for(Ut(),d=l.length;d<c.length;d+=1)p(d);Bt()}},i(h){if(!s){for(let w=0;w<l.length;w+=1)we(c[w]);s=!0}},o(h){c=c.filter(Boolean);for(let w=0;w<c.length;w+=1)Ie(c[w]);s=!1},d(h){h&&de(t),wn(c,h),a=!1,je(o)}}}function is(e){let t,r;function i(){return e[5](e[6])}return t=new El({props:{image:e[6].img,name:e[6].name,value:e[0].includes(e[6].source),onClick:i}}),{c(){tt(t.$$.fragment)},m(n,s){Xe(t,n,s),r=!0},p(n,s){e=n;const a={};s&1&&(a.value=e[0].includes(e[6].source)),t.$set(a)},i(n){r||(we(t.$$.fragment,n),r=!0)},o(n){Ie(t.$$.fragment,n),r=!1},d(n){Qe(t,n)}}}function ss(e){let t,r,i=e[6].minVersion&&e[6].minVersion<=e[2]&&is(e);return{c(){i&&i.c(),t=wt()},m(n,s){i&&i.m(n,s),pe(n,t,s),r=!0},p(n,s){n[6].minVersion&&n[6].minVersion<=n[2]?i?(i.p(n,s),s&4&&we(i,1)):(i=is(n),i.c(),we(i,1),i.m(t.parentNode,t)):i&&(Ut(),Ie(i,1,1,()=>{i=null}),Bt())},i(n){r||(we(i),r=!0)},o(n){Ie(i),r=!1},d(n){i&&i.d(n),n&&de(t)}}}function Sl(e){let t,r,i,n,s,a,o,l=e[1]&&ns(e);return{c(){t=le("div"),i=Se(),l&&l.c(),n=wt(),B(t,"class","popupbackground svelte-1xo6dv0"),yt(t,"background-image","url("+ri+")")},m(c,p){pe(c,t,p),pe(c,i,p),l&&l.m(c,p),pe(c,n,p),s=!0,a||(o=[he(t,"click",e[4]),he(t,"keydown",null)],a=!0)},p(c,[p]){c[1]?l?(l.p(c,p),p&2&&we(l,1)):(l=ns(c),l.c(),we(l,1),l.m(n.parentNode,n)):l&&(Ut(),Ie(l,1,1,()=>{l=null}),Bt())},i(c){s||(nt(()=>{r||(r=vr(t,ht,{},!0)),r.run(1)}),we(l),s=!0)},o(c){r||(r=vr(t,ht,{},!1)),r.run(0),Ie(l),s=!1},d(c){c&&de(t),c&&r&&r.end(),c&&de(i),l&&l.d(c),c&&de(n),a=!1,je(o)}}}function Al(e,t,r){let i;Vs(e,dn,c=>r(2,i=c));let{selectedDungeons:n=[]}=t,{closePopup:s}=t;const a=c=>{n.includes(c)?r(0,n=n.filter(p=>p!=c)):r(0,n=[...n,c])},o=()=>{r(1,s=!1),document.querySelector(".popup").style.display="none"},l=c=>a(c.source);return e.$$set=c=>{"selectedDungeons"in c&&r(0,n=c.selectedDungeons),"closePopup"in c&&r(1,s=c.closePopup)},[n,s,i,a,o,l]}class Cl extends Nt{constructor(t){super(),Rt(this,t,Al,Sl,bt,{selectedDungeons:0,closePopup:1})}}function as(e){let t,r,i,n;function s(l){e[12](l)}function a(l){e[13](l)}let o={};return e[0].lootTables!==void 0&&(o.selectedDungeons=e[0].lootTables),e[3]!==void 0&&(o.closePopup=e[3]),t=new Cl({props:o}),dt.push(()=>At(t,"selectedDungeons",s,e[0].lootTables)),dt.push(()=>At(t,"closePopup",a,e[3])),{c(){tt(t.$$.fragment)},m(l,c){Xe(t,l,c),n=!0},p(l,c){const p={};!r&&c&1&&(r=!0,p.selectedDungeons=l[0].lootTables,St(()=>r=!1)),!i&&c&8&&(i=!0,p.closePopup=l[3],St(()=>i=!1)),t.$set(p)},i(l){n||(we(t.$$.fragment,l),n=!0)},o(l){Ie(t.$$.fragment,l),n=!1},d(l){Qe(t,l)}}}function Pl(e){return{c:ke,m:ke,p:ke,i:ke,o:ke,d:ke}}function Ol(e){let t,r,i,n,s,a,o,l,c,p,h,w,d,g,u,m,f,y,k,E,A,C,I,F;r=new nr({props:{text:"Changes the disc icon",$$slots:{default:[Il]},$$scope:{ctx:e}}}),a=new nr({props:{text:"Toggles Creeper drops",$$slots:{default:[Tl]},$$scope:{ctx:e}}}),c=new nr({props:{text:"Selects structures in which the disc can be found",$$slots:{default:[jl]},$$scope:{ctx:e}}}),w=new nr({props:{text:"Removes the disc",$$slots:{default:[Fl]},$$scope:{ctx:e}}});function U(S,q){return S[0].namespace.length>90?Ul:Ml}let H=U(e),re=H(e);return{c(){t=le("div"),tt(r.$$.fragment),i=Se(),n=le("div"),s=le("div"),tt(a.$$.fragment),o=Se(),l=le("div"),tt(c.$$.fragment),p=Se(),h=le("div"),tt(w.$$.fragment),d=Se(),g=le("div"),u=le("input"),m=Se(),f=le("input"),y=Se(),k=le("p"),re.c(),E=Se(),A=le("textarea"),B(s,"id","wrapper"),B(s,"class","svelte-12gqr3a"),B(l,"id","wrapper"),B(l,"class","svelte-12gqr3a"),B(h,"id","wrapper"),B(h,"class","svelte-12gqr3a"),B(n,"id","buttons"),B(n,"class","svelte-12gqr3a"),B(t,"id","icons"),B(t,"class","svelte-12gqr3a"),B(u,"type","text"),B(u,"name","song_name"),B(u,"id","song_name_input"),B(u,"class","svelte-12gqr3a"),B(f,"type","text"),B(f,"name","song_author"),B(f,"id","song_author_input"),B(f,"class","svelte-12gqr3a"),B(k,"id","disknamespace"),B(k,"class","svelte-12gqr3a"),B(g,"id","names"),B(g,"class","svelte-12gqr3a"),B(A,"name","song_lore"),B(A,"id","song_lore_input"),B(A,"cols","30"),B(A,"rows","6"),B(A,"class","svelte-12gqr3a")},m(S,q){pe(S,t,q),Xe(r,t,null),se(t,i),se(t,n),se(n,s),Xe(a,s,null),se(n,o),se(n,l),Xe(c,l,null),se(n,p),se(n,h),Xe(w,h,null),pe(S,d,q),pe(S,g,q),se(g,u),Wt(u,e[0].name),se(g,m),se(g,f),Wt(f,e[0].author),se(g,y),se(g,k),re.m(k,null),pe(S,E,q),pe(S,A,q),Wt(A,e[0].lores),C=!0,I||(F=[he(u,"input",e[14]),he(u,"input",e[4]),he(f,"input",e[15]),he(f,"input",e[4]),he(A,"input",e[16])],I=!0)},p(S,q){const v={};q&1048577&&(v.$$scope={dirty:q,ctx:S}),r.$set(v);const G={};q&1048577&&(G.$$scope={dirty:q,ctx:S}),a.$set(G);const ae={};q&1048576&&(ae.$$scope={dirty:q,ctx:S}),c.$set(ae);const Y={};q&1048582&&(Y.$$scope={dirty:q,ctx:S}),w.$set(Y),q&1&&u.value!==S[0].name&&Wt(u,S[0].name),q&1&&f.value!==S[0].author&&Wt(f,S[0].author),H===(H=U(S))&&re?re.p(S,q):(re.d(1),re=H(S),re&&(re.c(),re.m(k,null))),q&1&&Wt(A,S[0].lores)},i(S){C||(we(r.$$.fragment,S),we(a.$$.fragment,S),we(c.$$.fragment,S),we(w.$$.fragment,S),C=!0)},o(S){Ie(r.$$.fragment,S),Ie(a.$$.fragment,S),Ie(c.$$.fragment,S),Ie(w.$$.fragment,S),C=!1},d(S){S&&de(t),Qe(r),Qe(a),Qe(c),Qe(w),S&&de(d),S&&de(g),re.d(),S&&de(E),S&&de(A),I=!1,je(F)}}}function Il(e){let t,r,i,n;return{c(){t=le("img"),B(t,"id","disc_texture"),xe(t.src,r=URL.createObjectURL(e[0].texture))||B(t,"src",r),B(t,"height","64"),B(t,"width","64"),B(t,"alt","disc icon"),B(t,"class","svelte-12gqr3a")},m(s,a){pe(s,t,a),i||(n=[he(t,"click",e[9]),he(t,"keydown",null)],i=!0)},p(s,a){a&1&&!xe(t.src,r=URL.createObjectURL(s[0].texture))&&B(t,"src",r)},d(s){s&&de(t),i=!1,je(n)}}}function Rl(e){let t,r,i,n;return{c(){t=le("img"),B(t,"id","toggle_creeper"),xe(t.src,r=la)||B(t,"src",r),B(t,"alt","creeper icon"),B(t,"class","svelte-12gqr3a")},m(s,a){pe(s,t,a),i||(n=[he(t,"click",e[7]),he(t,"keydown",null)],i=!0)},p:ke,d(s){s&&de(t),i=!1,je(n)}}}function Nl(e){let t,r,i,n;return{c(){t=le("img"),B(t,"id","toggle_creeper"),xe(t.src,r=la)||B(t,"src",r),B(t,"alt","creeper icon"),B(t,"class","grayscale svelte-12gqr3a")},m(s,a){pe(s,t,a),i||(n=[he(t,"click",e[7]),he(t,"keydown",null)],i=!0)},p:ke,d(s){s&&de(t),i=!1,je(n)}}}function Tl(e){let t;function r(s,a){return s[0].creeperDrop?Rl:Nl}let i=r(e),n=i(e);return{c(){n.c(),t=wt()},m(s,a){n.m(s,a),pe(s,t,a)},p(s,a){i===(i=r(s))&&n?n.p(s,a):(n.d(1),n=i(s),n&&(n.c(),n.m(t.parentNode,t)))},d(s){n.d(s),s&&de(t)}}}function jl(e){let t,r,i,n;return{c(){t=le("img"),B(t,"id","loot_selector"),xe(t.src,r=dl)||B(t,"src",r),B(t,"alt","chest icon"),B(t,"class","svelte-12gqr3a")},m(s,a){pe(s,t,a),i||(n=[he(t,"click",e[10]),he(t,"keydown",null)],i=!0)},p:ke,d(s){s&&de(t),i=!1,je(n)}}}function Dl(e){let t,r,i,n;return{c(){t=le("img"),B(t,"id","song_delete"),xe(t.src,r=pl)||B(t,"src",r),B(t,"alt","delete icon"),B(t,"class","svelte-12gqr3a")},m(s,a){pe(s,t,a),i||(n=[he(t,"mouseleave",e[8]),he(t,"click",function(){It(e[1])&&e[1].apply(this,arguments)}),he(t,"keydown",null)],i=!0)},p(s,a){e=s},d(s){s&&de(t),i=!1,je(n)}}}function zl(e){let t,r,i,n;return{c(){t=le("img"),B(t,"id","song_delete"),xe(t.src,r=hl)||B(t,"src",r),B(t,"alt","delete icon"),B(t,"class","svelte-12gqr3a")},m(s,a){pe(s,t,a),i||(n=[he(t,"mouseenter",e[8]),he(t,"click",function(){It(e[1])&&e[1].apply(this,arguments)}),he(t,"keydown",null)],i=!0)},p(s,a){e=s},d(s){s&&de(t),i=!1,je(n)}}}function Fl(e){let t;function r(s,a){return s[2]?Dl:zl}let i=r(e),n=i(e);return{c(){n.c(),t=wt()},m(s,a){n.m(s,a),pe(s,t,a)},p(s,a){i===(i=r(s))&&n?n.p(s,a):(n.d(1),n=i(s),n&&(n.c(),n.m(t.parentNode,t)))},d(s){n.d(s),s&&de(t)}}}function Ml(e){let t=e[0].namespace+"",r;return{c(){r=rt(t)},m(i,n){pe(i,r,n)},p(i,n){n&1&&t!==(t=i[0].namespace+"")&&vt(r,t)},d(i){i&&de(r)}}}function Ul(e){let t=e[0].namespace.substring(0,90)+"",r,i;return{c(){r=rt(t),i=rt("...")},m(n,s){pe(n,r,s),pe(n,i,s)},p(n,s){s&1&&t!==(t=n[0].namespace.substring(0,90)+"")&&vt(r,t)},d(n){n&&de(r),n&&de(i)}}}function Bl(e){let t,r={ctx:e,current:null,token:null,hasCatch:!1,pending:ql,then:Vl,catch:Ll,value:19};return Qn(e[6],r),{c(){t=wt(),r.block.c()},m(i,n){pe(i,t,n),r.block.m(i,r.anchor=n),r.mount=()=>t.parentNode,r.anchor=t},p(i,n){e=i,ei(r,e,n)},i:ke,o:ke,d(i){i&&de(t),r.block.d(i),r.token=null,r=null}}}function Ll(e){return{c:ke,m:ke,p:ke,d:ke}}function Vl(e){let t,r,i;return{c(){t=le("div"),r=le("img"),xe(r.src,i=oa)||B(r,"src",i),B(r,"alt","loading"),B(r,"class","svelte-12gqr3a"),B(t,"id","loading"),B(t,"class","svelte-12gqr3a")},m(n,s){pe(n,t,s),se(t,r)},p:ke,d(n){n&&de(t)}}}function ql(e){let t;return{c(){t=le("div"),t.innerHTML='<img src="" alt="loading" class="svelte-12gqr3a"/>',B(t,"id","loading"),B(t,"class","svelte-12gqr3a")},m(r,i){pe(r,t,i)},p:ke,d(r){r&&de(t)}}}function Kl(e){let t,r,i,n=e[3]&&as(e),s={ctx:e,current:null,token:null,hasCatch:!1,pending:Bl,then:Ol,catch:Pl,value:19,blocks:[,,,]};return Qn(e[5],s),{c(){n&&n.c(),t=Se(),r=le("div"),s.block.c(),B(r,"id","song"),B(r,"class","svelte-12gqr3a")},m(a,o){n&&n.m(a,o),pe(a,t,o),pe(a,r,o),s.block.m(r,s.anchor=null),s.mount=()=>r,s.anchor=null,i=!0},p(a,[o]){e=a,e[3]?n?(n.p(e,o),o&8&&we(n,1)):(n=as(e),n.c(),we(n,1),n.m(t.parentNode,t)):n&&(Ut(),Ie(n,1,1,()=>{n=null}),Bt()),ei(s,e,o)},i(a){i||(we(n),we(s.block),i=!0)},o(a){Ie(n);for(let o=0;o<3;o+=1){const l=s.blocks[o];Ie(l)}i=!1},d(a){n&&n.d(a),a&&de(t),a&&de(r),s.block.d(),s.token=null,s=null}}}function Wl(e,t,r){let{song:i}=t,{id:n}=t,{onRemove:s=()=>{}}=t;const a=()=>{r(0,i.namespace=`${i.name}${i.author}${n}`.replace(/[^a-zA-Z0-9]/g,"").replaceAll("1","one").replaceAll("2","two").replaceAll("3","three").replaceAll("4","four").replaceAll("5","five").replaceAll("6","six").replaceAll("7","seven").replaceAll("8","eight").replaceAll("9","nine").replaceAll("0","zero").toLowerCase(),i)},o=async()=>{const C=i.uploadedFile.name.replace(/(\.mp3)|(\.ogg)|(\.wav)/g,"").split(/ ?- ?/g);C.length>=1&&r(0,i.name=C.shift(),i),C.length>=1&&r(0,i.author=C.join(),i),a(),r(0,i.oggFile=await rl(i.uploadedFile),i),r(0,i.monoFile=await nl(i.oggFile),i),r(0,i.texture=await(await fetch(aa)).blob(),i)},l=async()=>await new Promise(C=>{setTimeout(()=>{C()},1)}),c=o(),p=l(),h=()=>{r(0,i.creeperDrop=!i.creeperDrop,i)};let w=!1;const d=()=>{r(2,w=!w)},g=()=>{const C=document.createElement("input");C.type="file",C.accept="image/*",C.addEventListener("change",()=>{const I=C.files[0];I&&r(0,i.texture=I,i)}),C.click()};let u=!1;const m=()=>{r(3,u=!0)};function f(C){e.$$.not_equal(i.lootTables,C)&&(i.lootTables=C,r(0,i))}function y(C){u=C,r(3,u)}function k(){i.name=this.value,r(0,i)}function E(){i.author=this.value,r(0,i)}function A(){i.lores=this.value,r(0,i)}return e.$$set=C=>{"song"in C&&r(0,i=C.song),"id"in C&&r(11,n=C.id),"onRemove"in C&&r(1,s=C.onRemove)},[i,s,w,u,a,c,p,h,d,g,m,n,f,y,k,E,A]}class Gl extends Nt{constructor(t){super(),Rt(this,t,Wl,Kl,bt,{song:0,id:11,onRemove:1})}}function os(e,t,r){const i=e.slice();return i[5]=t[r],i[6]=t,i[7]=r,i}function ls(e){let t,r,i;function n(){return e[3](e[5])}function s(o){e[4](o,e[5],e[6],e[7])}let a={id:e[7],onRemove:n};return e[5]!==void 0&&(a.song=e[5]),t=new Gl({props:a}),dt.push(()=>At(t,"song",s,e[5])),{c(){tt(t.$$.fragment)},m(o,l){Xe(t,o,l),i=!0},p(o,l){e=o;const c={};l&1&&(c.onRemove=n),!r&&l&1&&(r=!0,c.song=e[5],St(()=>r=!1)),t.$set(c)},i(o){i||(we(t.$$.fragment,o),i=!0)},o(o){Ie(t.$$.fragment,o),i=!1},d(o){Qe(t,o)}}}function Hl(e){let t,r,i,n,s,a,o,l,c,p=e[0],h=[];for(let d=0;d<p.length;d+=1)h[d]=ls(os(e,p,d));const w=d=>Ie(h[d],1,1,()=>{h[d]=null});return{c(){t=le("div"),r=le("div");for(let d=0;d<h.length;d+=1)h[d].c();i=Se(),n=le("hr"),s=Se(),a=le("div"),a.innerHTML='<h1 class="noselect svelte-15f98v0">+</h1>',B(r,"id","songscontainer"),B(n,"class","hidden"),B(a,"id","addsongsbtn"),B(a,"class","svelte-15f98v0"),B(t,"id","content"),B(t,"class","svelte-15f98v0")},m(d,g){pe(d,t,g),se(t,r);for(let u=0;u<h.length;u+=1)h[u].m(r,null);se(t,i),se(t,n),se(t,s),se(t,a),o=!0,l||(c=[he(a,"click",e[1]),he(a,"keydown",null)],l=!0)},p(d,[g]){if(g&5){p=d[0];let u;for(u=0;u<p.length;u+=1){const m=os(d,p,u);h[u]?(h[u].p(m,g),we(h[u],1)):(h[u]=ls(m),h[u].c(),we(h[u],1),h[u].m(r,null))}for(Ut(),u=p.length;u<h.length;u+=1)w(u);Bt()}},i(d){if(!o){for(let g=0;g<p.length;g+=1)we(h[g]);o=!0}},o(d){h=h.filter(Boolean);for(let g=0;g<h.length;g+=1)Ie(h[g]);o=!1},d(d){d&&de(t),wn(h,d),l=!1,je(c)}}}function xl(e,t,r){let{discData:i=[]}=t;ra.subscribe(l=>{r(0,i=l)});const n=()=>{const l=document.createElement("input");l.type="file",l.multiple=!0,l.accept="audio/*",l.click(),l.addEventListener("change",async()=>{if(!l.files||l.files.length===0)return;const c=[];for(let p=0;p<l.files.length;p++)c.push({uploadedFile:l.files[p],name:"Disc Name",author:"Disc Author",lores:`This is the lore of the disc

You can have multiple lines

If you don't want any lores you can leave this empty`,texture:null,creeperDrop:!0,lootTables:[],monoFile:null,namespace:"",oggFile:null});r(0,i=[...i,...c])})},s=l=>{r(0,i=i.filter(c=>c!=l))},a=l=>s(l);function o(l,c,p,h){p[h]=l,r(0,i)}return e.$$set=l=>{"discData"in l&&r(0,i=l.discData)},[i,n,s,a,o]}class Zl extends Nt{constructor(t){super(),Rt(this,t,xl,Hl,bt,{discData:0})}}const ni="/jext-reborn/assets/pack_icon-57c0be34.png";function Yr(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Kn={},Jl={get exports(){return Kn},set exports(e){Kn=e}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/(function(e,t){(function(r){e.exports=r()})(function(){return function r(i,n,s){function a(c,p){if(!n[c]){if(!i[c]){var h=typeof Yr=="function"&&Yr;if(!p&&h)return h(c,!0);if(o)return o(c,!0);var w=new Error("Cannot find module '"+c+"'");throw w.code="MODULE_NOT_FOUND",w}var d=n[c]={exports:{}};i[c][0].call(d.exports,function(g){var u=i[c][1][g];return a(u||g)},d,d.exports,r,i,n,s)}return n[c].exports}for(var o=typeof Yr=="function"&&Yr,l=0;l<s.length;l++)a(s[l]);return a}({1:[function(r,i,n){var s=r("./utils"),a=r("./support"),o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";n.encode=function(l){for(var c,p,h,w,d,g,u,m=[],f=0,y=l.length,k=y,E=s.getTypeOf(l)!=="string";f<l.length;)k=y-f,h=E?(c=l[f++],p=f<y?l[f++]:0,f<y?l[f++]:0):(c=l.charCodeAt(f++),p=f<y?l.charCodeAt(f++):0,f<y?l.charCodeAt(f++):0),w=c>>2,d=(3&c)<<4|p>>4,g=1<k?(15&p)<<2|h>>6:64,u=2<k?63&h:64,m.push(o.charAt(w)+o.charAt(d)+o.charAt(g)+o.charAt(u));return m.join("")},n.decode=function(l){var c,p,h,w,d,g,u=0,m=0,f="data:";if(l.substr(0,f.length)===f)throw new Error("Invalid base64 input, it looks like a data url.");var y,k=3*(l=l.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(l.charAt(l.length-1)===o.charAt(64)&&k--,l.charAt(l.length-2)===o.charAt(64)&&k--,k%1!=0)throw new Error("Invalid base64 input, bad content length.");for(y=a.uint8array?new Uint8Array(0|k):new Array(0|k);u<l.length;)c=o.indexOf(l.charAt(u++))<<2|(w=o.indexOf(l.charAt(u++)))>>4,p=(15&w)<<4|(d=o.indexOf(l.charAt(u++)))>>2,h=(3&d)<<6|(g=o.indexOf(l.charAt(u++))),y[m++]=c,d!==64&&(y[m++]=p),g!==64&&(y[m++]=h);return y}},{"./support":30,"./utils":32}],2:[function(r,i,n){var s=r("./external"),a=r("./stream/DataWorker"),o=r("./stream/Crc32Probe"),l=r("./stream/DataLengthProbe");function c(p,h,w,d,g){this.compressedSize=p,this.uncompressedSize=h,this.crc32=w,this.compression=d,this.compressedContent=g}c.prototype={getContentWorker:function(){var p=new a(s.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new l("data_length")),h=this;return p.on("end",function(){if(this.streamInfo.data_length!==h.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),p},getCompressedWorker:function(){return new a(s.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},c.createWorkerFrom=function(p,h,w){return p.pipe(new o).pipe(new l("uncompressedSize")).pipe(h.compressWorker(w)).pipe(new l("compressedSize")).withStreamInfo("compression",h)},i.exports=c},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(r,i,n){var s=r("./stream/GenericWorker");n.STORE={magic:"\0\0",compressWorker:function(){return new s("STORE compression")},uncompressWorker:function(){return new s("STORE decompression")}},n.DEFLATE=r("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(r,i,n){var s=r("./utils"),a=function(){for(var o,l=[],c=0;c<256;c++){o=c;for(var p=0;p<8;p++)o=1&o?3988292384^o>>>1:o>>>1;l[c]=o}return l}();i.exports=function(o,l){return o!==void 0&&o.length?s.getTypeOf(o)!=="string"?function(c,p,h,w){var d=a,g=w+h;c^=-1;for(var u=w;u<g;u++)c=c>>>8^d[255&(c^p[u])];return-1^c}(0|l,o,o.length,0):function(c,p,h,w){var d=a,g=w+h;c^=-1;for(var u=w;u<g;u++)c=c>>>8^d[255&(c^p.charCodeAt(u))];return-1^c}(0|l,o,o.length,0):0}},{"./utils":32}],5:[function(r,i,n){n.base64=!1,n.binary=!1,n.dir=!1,n.createFolders=!0,n.date=null,n.compression=null,n.compressionOptions=null,n.comment=null,n.unixPermissions=null,n.dosPermissions=null},{}],6:[function(r,i,n){var s=null;s=typeof Promise<"u"?Promise:r("lie"),i.exports={Promise:s}},{lie:37}],7:[function(r,i,n){var s=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",a=r("pako"),o=r("./utils"),l=r("./stream/GenericWorker"),c=s?"uint8array":"array";function p(h,w){l.call(this,"FlateWorker/"+h),this._pako=null,this._pakoAction=h,this._pakoOptions=w,this.meta={}}n.magic="\b\0",o.inherits(p,l),p.prototype.processChunk=function(h){this.meta=h.meta,this._pako===null&&this._createPako(),this._pako.push(o.transformTo(c,h.data),!1)},p.prototype.flush=function(){l.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},p.prototype.cleanUp=function(){l.prototype.cleanUp.call(this),this._pako=null},p.prototype._createPako=function(){this._pako=new a[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var h=this;this._pako.onData=function(w){h.push({data:w,meta:h.meta})}},n.compressWorker=function(h){return new p("Deflate",h)},n.uncompressWorker=function(){return new p("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(r,i,n){function s(d,g){var u,m="";for(u=0;u<g;u++)m+=String.fromCharCode(255&d),d>>>=8;return m}function a(d,g,u,m,f,y){var k,E,A=d.file,C=d.compression,I=y!==c.utf8encode,F=o.transformTo("string",y(A.name)),U=o.transformTo("string",c.utf8encode(A.name)),H=A.comment,re=o.transformTo("string",y(H)),S=o.transformTo("string",c.utf8encode(H)),q=U.length!==A.name.length,v=S.length!==H.length,G="",ae="",Y="",fe=A.dir,L=A.date,D={crc32:0,compressedSize:0,uncompressedSize:0};g&&!u||(D.crc32=d.crc32,D.compressedSize=d.compressedSize,D.uncompressedSize=d.uncompressedSize);var $=0;g&&($|=8),I||!q&&!v||($|=2048);var O=0,T=0;fe&&(O|=16),f==="UNIX"?(T=798,O|=function(P,W){var ie=P;return P||(ie=W?16893:33204),(65535&ie)<<16}(A.unixPermissions,fe)):(T=20,O|=function(P){return 63&(P||0)}(A.dosPermissions)),k=L.getUTCHours(),k<<=6,k|=L.getUTCMinutes(),k<<=5,k|=L.getUTCSeconds()/2,E=L.getUTCFullYear()-1980,E<<=4,E|=L.getUTCMonth()+1,E<<=5,E|=L.getUTCDate(),q&&(ae=s(1,1)+s(p(F),4)+U,G+="up"+s(ae.length,2)+ae),v&&(Y=s(1,1)+s(p(re),4)+S,G+="uc"+s(Y.length,2)+Y);var b="";return b+=`
\0`,b+=s($,2),b+=C.magic,b+=s(k,2),b+=s(E,2),b+=s(D.crc32,4),b+=s(D.compressedSize,4),b+=s(D.uncompressedSize,4),b+=s(F.length,2),b+=s(G.length,2),{fileRecord:h.LOCAL_FILE_HEADER+b+F+G,dirRecord:h.CENTRAL_FILE_HEADER+s(T,2)+b+s(re.length,2)+"\0\0\0\0"+s(O,4)+s(m,4)+F+G+re}}var o=r("../utils"),l=r("../stream/GenericWorker"),c=r("../utf8"),p=r("../crc32"),h=r("../signature");function w(d,g,u,m){l.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=g,this.zipPlatform=u,this.encodeFileName=m,this.streamFiles=d,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}o.inherits(w,l),w.prototype.push=function(d){var g=d.meta.percent||0,u=this.entriesCount,m=this._sources.length;this.accumulate?this.contentBuffer.push(d):(this.bytesWritten+=d.data.length,l.prototype.push.call(this,{data:d.data,meta:{currentFile:this.currentFile,percent:u?(g+100*(u-m-1))/u:100}}))},w.prototype.openedSource=function(d){this.currentSourceOffset=this.bytesWritten,this.currentFile=d.file.name;var g=this.streamFiles&&!d.file.dir;if(g){var u=a(d,g,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:u.fileRecord,meta:{percent:0}})}else this.accumulate=!0},w.prototype.closedSource=function(d){this.accumulate=!1;var g=this.streamFiles&&!d.file.dir,u=a(d,g,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(u.dirRecord),g)this.push({data:function(m){return h.DATA_DESCRIPTOR+s(m.crc32,4)+s(m.compressedSize,4)+s(m.uncompressedSize,4)}(d),meta:{percent:100}});else for(this.push({data:u.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},w.prototype.flush=function(){for(var d=this.bytesWritten,g=0;g<this.dirRecords.length;g++)this.push({data:this.dirRecords[g],meta:{percent:100}});var u=this.bytesWritten-d,m=function(f,y,k,E,A){var C=o.transformTo("string",A(E));return h.CENTRAL_DIRECTORY_END+"\0\0\0\0"+s(f,2)+s(f,2)+s(y,4)+s(k,4)+s(C.length,2)+C}(this.dirRecords.length,u,d,this.zipComment,this.encodeFileName);this.push({data:m,meta:{percent:100}})},w.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},w.prototype.registerPrevious=function(d){this._sources.push(d);var g=this;return d.on("data",function(u){g.processChunk(u)}),d.on("end",function(){g.closedSource(g.previous.streamInfo),g._sources.length?g.prepareNextSource():g.end()}),d.on("error",function(u){g.error(u)}),this},w.prototype.resume=function(){return!!l.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},w.prototype.error=function(d){var g=this._sources;if(!l.prototype.error.call(this,d))return!1;for(var u=0;u<g.length;u++)try{g[u].error(d)}catch{}return!0},w.prototype.lock=function(){l.prototype.lock.call(this);for(var d=this._sources,g=0;g<d.length;g++)d[g].lock()},i.exports=w},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(r,i,n){var s=r("../compressions"),a=r("./ZipFileWorker");n.generateWorker=function(o,l,c){var p=new a(l.streamFiles,c,l.platform,l.encodeFileName),h=0;try{o.forEach(function(w,d){h++;var g=function(y,k){var E=y||k,A=s[E];if(!A)throw new Error(E+" is not a valid compression method !");return A}(d.options.compression,l.compression),u=d.options.compressionOptions||l.compressionOptions||{},m=d.dir,f=d.date;d._compressWorker(g,u).withStreamInfo("file",{name:w,dir:m,date:f,comment:d.comment||"",unixPermissions:d.unixPermissions,dosPermissions:d.dosPermissions}).pipe(p)}),p.entriesCount=h}catch(w){p.error(w)}return p}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(r,i,n){function s(){if(!(this instanceof s))return new s;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var a=new s;for(var o in this)typeof this[o]!="function"&&(a[o]=this[o]);return a}}(s.prototype=r("./object")).loadAsync=r("./load"),s.support=r("./support"),s.defaults=r("./defaults"),s.version="3.10.1",s.loadAsync=function(a,o){return new s().loadAsync(a,o)},s.external=r("./external"),i.exports=s},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(r,i,n){var s=r("./utils"),a=r("./external"),o=r("./utf8"),l=r("./zipEntries"),c=r("./stream/Crc32Probe"),p=r("./nodejsUtils");function h(w){return new a.Promise(function(d,g){var u=w.decompressed.getContentWorker().pipe(new c);u.on("error",function(m){g(m)}).on("end",function(){u.streamInfo.crc32!==w.decompressed.crc32?g(new Error("Corrupted zip : CRC32 mismatch")):d()}).resume()})}i.exports=function(w,d){var g=this;return d=s.extend(d||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:o.utf8decode}),p.isNode&&p.isStream(w)?a.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):s.prepareContent("the loaded zip file",w,!0,d.optimizedBinaryString,d.base64).then(function(u){var m=new l(d);return m.load(u),m}).then(function(u){var m=[a.Promise.resolve(u)],f=u.files;if(d.checkCRC32)for(var y=0;y<f.length;y++)m.push(h(f[y]));return a.Promise.all(m)}).then(function(u){for(var m=u.shift(),f=m.files,y=0;y<f.length;y++){var k=f[y],E=k.fileNameStr,A=s.resolve(k.fileNameStr);g.file(A,k.decompressed,{binary:!0,optimizedBinaryString:!0,date:k.date,dir:k.dir,comment:k.fileCommentStr.length?k.fileCommentStr:null,unixPermissions:k.unixPermissions,dosPermissions:k.dosPermissions,createFolders:d.createFolders}),k.dir||(g.file(A).unsafeOriginalName=E)}return m.zipComment.length&&(g.comment=m.zipComment),g})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(r,i,n){var s=r("../utils"),a=r("../stream/GenericWorker");function o(l,c){a.call(this,"Nodejs stream input adapter for "+l),this._upstreamEnded=!1,this._bindStream(c)}s.inherits(o,a),o.prototype._bindStream=function(l){var c=this;(this._stream=l).pause(),l.on("data",function(p){c.push({data:p,meta:{percent:0}})}).on("error",function(p){c.isPaused?this.generatedError=p:c.error(p)}).on("end",function(){c.isPaused?c._upstreamEnded=!0:c.end()})},o.prototype.pause=function(){return!!a.prototype.pause.call(this)&&(this._stream.pause(),!0)},o.prototype.resume=function(){return!!a.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},i.exports=o},{"../stream/GenericWorker":28,"../utils":32}],13:[function(r,i,n){var s=r("readable-stream").Readable;function a(o,l,c){s.call(this,l),this._helper=o;var p=this;o.on("data",function(h,w){p.push(h)||p._helper.pause(),c&&c(w)}).on("error",function(h){p.emit("error",h)}).on("end",function(){p.push(null)})}r("../utils").inherits(a,s),a.prototype._read=function(){this._helper.resume()},i.exports=a},{"../utils":32,"readable-stream":16}],14:[function(r,i,n){i.exports={isNode:typeof Buffer<"u",newBufferFrom:function(s,a){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(s,a);if(typeof s=="number")throw new Error('The "data" argument must not be a number');return new Buffer(s,a)},allocBuffer:function(s){if(Buffer.alloc)return Buffer.alloc(s);var a=new Buffer(s);return a.fill(0),a},isBuffer:function(s){return Buffer.isBuffer(s)},isStream:function(s){return s&&typeof s.on=="function"&&typeof s.pause=="function"&&typeof s.resume=="function"}}},{}],15:[function(r,i,n){function s(A,C,I){var F,U=o.getTypeOf(C),H=o.extend(I||{},p);H.date=H.date||new Date,H.compression!==null&&(H.compression=H.compression.toUpperCase()),typeof H.unixPermissions=="string"&&(H.unixPermissions=parseInt(H.unixPermissions,8)),H.unixPermissions&&16384&H.unixPermissions&&(H.dir=!0),H.dosPermissions&&16&H.dosPermissions&&(H.dir=!0),H.dir&&(A=f(A)),H.createFolders&&(F=m(A))&&y.call(this,F,!0);var re=U==="string"&&H.binary===!1&&H.base64===!1;I&&I.binary!==void 0||(H.binary=!re),(C instanceof h&&C.uncompressedSize===0||H.dir||!C||C.length===0)&&(H.base64=!1,H.binary=!0,C="",H.compression="STORE",U="string");var S=null;S=C instanceof h||C instanceof l?C:g.isNode&&g.isStream(C)?new u(A,C):o.prepareContent(A,C,H.binary,H.optimizedBinaryString,H.base64);var q=new w(A,S,H);this.files[A]=q}var a=r("./utf8"),o=r("./utils"),l=r("./stream/GenericWorker"),c=r("./stream/StreamHelper"),p=r("./defaults"),h=r("./compressedObject"),w=r("./zipObject"),d=r("./generate"),g=r("./nodejsUtils"),u=r("./nodejs/NodejsStreamInputAdapter"),m=function(A){A.slice(-1)==="/"&&(A=A.substring(0,A.length-1));var C=A.lastIndexOf("/");return 0<C?A.substring(0,C):""},f=function(A){return A.slice(-1)!=="/"&&(A+="/"),A},y=function(A,C){return C=C!==void 0?C:p.createFolders,A=f(A),this.files[A]||s.call(this,A,null,{dir:!0,createFolders:C}),this.files[A]};function k(A){return Object.prototype.toString.call(A)==="[object RegExp]"}var E={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(A){var C,I,F;for(C in this.files)F=this.files[C],(I=C.slice(this.root.length,C.length))&&C.slice(0,this.root.length)===this.root&&A(I,F)},filter:function(A){var C=[];return this.forEach(function(I,F){A(I,F)&&C.push(F)}),C},file:function(A,C,I){if(arguments.length!==1)return A=this.root+A,s.call(this,A,C,I),this;if(k(A)){var F=A;return this.filter(function(H,re){return!re.dir&&F.test(H)})}var U=this.files[this.root+A];return U&&!U.dir?U:null},folder:function(A){if(!A)return this;if(k(A))return this.filter(function(U,H){return H.dir&&A.test(U)});var C=this.root+A,I=y.call(this,C),F=this.clone();return F.root=I.name,F},remove:function(A){A=this.root+A;var C=this.files[A];if(C||(A.slice(-1)!=="/"&&(A+="/"),C=this.files[A]),C&&!C.dir)delete this.files[A];else for(var I=this.filter(function(U,H){return H.name.slice(0,A.length)===A}),F=0;F<I.length;F++)delete this.files[I[F].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(A){var C,I={};try{if((I=o.extend(A||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:a.utf8encode})).type=I.type.toLowerCase(),I.compression=I.compression.toUpperCase(),I.type==="binarystring"&&(I.type="string"),!I.type)throw new Error("No output type specified.");o.checkSupport(I.type),I.platform!=="darwin"&&I.platform!=="freebsd"&&I.platform!=="linux"&&I.platform!=="sunos"||(I.platform="UNIX"),I.platform==="win32"&&(I.platform="DOS");var F=I.comment||this.comment||"";C=d.generateWorker(this,I,F)}catch(U){(C=new l("error")).error(U)}return new c(C,I.type||"string",I.mimeType)},generateAsync:function(A,C){return this.generateInternalStream(A).accumulate(C)},generateNodeStream:function(A,C){return(A=A||{}).type||(A.type="nodebuffer"),this.generateInternalStream(A).toNodejsStream(C)}};i.exports=E},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(r,i,n){i.exports=r("stream")},{stream:void 0}],17:[function(r,i,n){var s=r("./DataReader");function a(o){s.call(this,o);for(var l=0;l<this.data.length;l++)o[l]=255&o[l]}r("../utils").inherits(a,s),a.prototype.byteAt=function(o){return this.data[this.zero+o]},a.prototype.lastIndexOfSignature=function(o){for(var l=o.charCodeAt(0),c=o.charCodeAt(1),p=o.charCodeAt(2),h=o.charCodeAt(3),w=this.length-4;0<=w;--w)if(this.data[w]===l&&this.data[w+1]===c&&this.data[w+2]===p&&this.data[w+3]===h)return w-this.zero;return-1},a.prototype.readAndCheckSignature=function(o){var l=o.charCodeAt(0),c=o.charCodeAt(1),p=o.charCodeAt(2),h=o.charCodeAt(3),w=this.readData(4);return l===w[0]&&c===w[1]&&p===w[2]&&h===w[3]},a.prototype.readData=function(o){if(this.checkOffset(o),o===0)return[];var l=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,l},i.exports=a},{"../utils":32,"./DataReader":18}],18:[function(r,i,n){var s=r("../utils");function a(o){this.data=o,this.length=o.length,this.index=0,this.zero=0}a.prototype={checkOffset:function(o){this.checkIndex(this.index+o)},checkIndex:function(o){if(this.length<this.zero+o||o<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+o+"). Corrupted zip ?")},setIndex:function(o){this.checkIndex(o),this.index=o},skip:function(o){this.setIndex(this.index+o)},byteAt:function(){},readInt:function(o){var l,c=0;for(this.checkOffset(o),l=this.index+o-1;l>=this.index;l--)c=(c<<8)+this.byteAt(l);return this.index+=o,c},readString:function(o){return s.transformTo("string",this.readData(o))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var o=this.readInt(4);return new Date(Date.UTC(1980+(o>>25&127),(o>>21&15)-1,o>>16&31,o>>11&31,o>>5&63,(31&o)<<1))}},i.exports=a},{"../utils":32}],19:[function(r,i,n){var s=r("./Uint8ArrayReader");function a(o){s.call(this,o)}r("../utils").inherits(a,s),a.prototype.readData=function(o){this.checkOffset(o);var l=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,l},i.exports=a},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(r,i,n){var s=r("./DataReader");function a(o){s.call(this,o)}r("../utils").inherits(a,s),a.prototype.byteAt=function(o){return this.data.charCodeAt(this.zero+o)},a.prototype.lastIndexOfSignature=function(o){return this.data.lastIndexOf(o)-this.zero},a.prototype.readAndCheckSignature=function(o){return o===this.readData(4)},a.prototype.readData=function(o){this.checkOffset(o);var l=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,l},i.exports=a},{"../utils":32,"./DataReader":18}],21:[function(r,i,n){var s=r("./ArrayReader");function a(o){s.call(this,o)}r("../utils").inherits(a,s),a.prototype.readData=function(o){if(this.checkOffset(o),o===0)return new Uint8Array(0);var l=this.data.subarray(this.zero+this.index,this.zero+this.index+o);return this.index+=o,l},i.exports=a},{"../utils":32,"./ArrayReader":17}],22:[function(r,i,n){var s=r("../utils"),a=r("../support"),o=r("./ArrayReader"),l=r("./StringReader"),c=r("./NodeBufferReader"),p=r("./Uint8ArrayReader");i.exports=function(h){var w=s.getTypeOf(h);return s.checkSupport(w),w!=="string"||a.uint8array?w==="nodebuffer"?new c(h):a.uint8array?new p(s.transformTo("uint8array",h)):new o(s.transformTo("array",h)):new l(h)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(r,i,n){n.LOCAL_FILE_HEADER="PK",n.CENTRAL_FILE_HEADER="PK",n.CENTRAL_DIRECTORY_END="PK",n.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",n.ZIP64_CENTRAL_DIRECTORY_END="PK",n.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(r,i,n){var s=r("./GenericWorker"),a=r("../utils");function o(l){s.call(this,"ConvertWorker to "+l),this.destType=l}a.inherits(o,s),o.prototype.processChunk=function(l){this.push({data:a.transformTo(this.destType,l.data),meta:l.meta})},i.exports=o},{"../utils":32,"./GenericWorker":28}],25:[function(r,i,n){var s=r("./GenericWorker"),a=r("../crc32");function o(){s.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}r("../utils").inherits(o,s),o.prototype.processChunk=function(l){this.streamInfo.crc32=a(l.data,this.streamInfo.crc32||0),this.push(l)},i.exports=o},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(r,i,n){var s=r("../utils"),a=r("./GenericWorker");function o(l){a.call(this,"DataLengthProbe for "+l),this.propName=l,this.withStreamInfo(l,0)}s.inherits(o,a),o.prototype.processChunk=function(l){if(l){var c=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=c+l.data.length}a.prototype.processChunk.call(this,l)},i.exports=o},{"../utils":32,"./GenericWorker":28}],27:[function(r,i,n){var s=r("../utils"),a=r("./GenericWorker");function o(l){a.call(this,"DataWorker");var c=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,l.then(function(p){c.dataIsReady=!0,c.data=p,c.max=p&&p.length||0,c.type=s.getTypeOf(p),c.isPaused||c._tickAndRepeat()},function(p){c.error(p)})}s.inherits(o,a),o.prototype.cleanUp=function(){a.prototype.cleanUp.call(this),this.data=null},o.prototype.resume=function(){return!!a.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,s.delay(this._tickAndRepeat,[],this)),!0)},o.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(s.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},o.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var l=null,c=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":l=this.data.substring(this.index,c);break;case"uint8array":l=this.data.subarray(this.index,c);break;case"array":case"nodebuffer":l=this.data.slice(this.index,c)}return this.index=c,this.push({data:l,meta:{percent:this.max?this.index/this.max*100:0}})},i.exports=o},{"../utils":32,"./GenericWorker":28}],28:[function(r,i,n){function s(a){this.name=a||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}s.prototype={push:function(a){this.emit("data",a)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(a){this.emit("error",a)}return!0},error:function(a){return!this.isFinished&&(this.isPaused?this.generatedError=a:(this.isFinished=!0,this.emit("error",a),this.previous&&this.previous.error(a),this.cleanUp()),!0)},on:function(a,o){return this._listeners[a].push(o),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(a,o){if(this._listeners[a])for(var l=0;l<this._listeners[a].length;l++)this._listeners[a][l].call(this,o)},pipe:function(a){return a.registerPrevious(this)},registerPrevious:function(a){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=a.streamInfo,this.mergeStreamInfo(),this.previous=a;var o=this;return a.on("data",function(l){o.processChunk(l)}),a.on("end",function(){o.end()}),a.on("error",function(l){o.error(l)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var a=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),a=!0),this.previous&&this.previous.resume(),!a},flush:function(){},processChunk:function(a){this.push(a)},withStreamInfo:function(a,o){return this.extraStreamInfo[a]=o,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var a in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,a)&&(this.streamInfo[a]=this.extraStreamInfo[a])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var a="Worker "+this.name;return this.previous?this.previous+" -> "+a:a}},i.exports=s},{}],29:[function(r,i,n){var s=r("../utils"),a=r("./ConvertWorker"),o=r("./GenericWorker"),l=r("../base64"),c=r("../support"),p=r("../external"),h=null;if(c.nodestream)try{h=r("../nodejs/NodejsStreamOutputAdapter")}catch{}function w(g,u){return new p.Promise(function(m,f){var y=[],k=g._internalType,E=g._outputType,A=g._mimeType;g.on("data",function(C,I){y.push(C),u&&u(I)}).on("error",function(C){y=[],f(C)}).on("end",function(){try{var C=function(I,F,U){switch(I){case"blob":return s.newBlob(s.transformTo("arraybuffer",F),U);case"base64":return l.encode(F);default:return s.transformTo(I,F)}}(E,function(I,F){var U,H=0,re=null,S=0;for(U=0;U<F.length;U++)S+=F[U].length;switch(I){case"string":return F.join("");case"array":return Array.prototype.concat.apply([],F);case"uint8array":for(re=new Uint8Array(S),U=0;U<F.length;U++)re.set(F[U],H),H+=F[U].length;return re;case"nodebuffer":return Buffer.concat(F);default:throw new Error("concat : unsupported type '"+I+"'")}}(k,y),A);m(C)}catch(I){f(I)}y=[]}).resume()})}function d(g,u,m){var f=u;switch(u){case"blob":case"arraybuffer":f="uint8array";break;case"base64":f="string"}try{this._internalType=f,this._outputType=u,this._mimeType=m,s.checkSupport(f),this._worker=g.pipe(new a(f)),g.lock()}catch(y){this._worker=new o("error"),this._worker.error(y)}}d.prototype={accumulate:function(g){return w(this,g)},on:function(g,u){var m=this;return g==="data"?this._worker.on(g,function(f){u.call(m,f.data,f.meta)}):this._worker.on(g,function(){s.delay(u,arguments,m)}),this},resume:function(){return s.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(g){if(s.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new h(this,{objectMode:this._outputType!=="nodebuffer"},g)}},i.exports=d},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(r,i,n){if(n.base64=!0,n.array=!0,n.string=!0,n.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",n.nodebuffer=typeof Buffer<"u",n.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")n.blob=!1;else{var s=new ArrayBuffer(0);try{n.blob=new Blob([s],{type:"application/zip"}).size===0}catch{try{var a=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);a.append(s),n.blob=a.getBlob("application/zip").size===0}catch{n.blob=!1}}}try{n.nodestream=!!r("readable-stream").Readable}catch{n.nodestream=!1}},{"readable-stream":16}],31:[function(r,i,n){for(var s=r("./utils"),a=r("./support"),o=r("./nodejsUtils"),l=r("./stream/GenericWorker"),c=new Array(256),p=0;p<256;p++)c[p]=252<=p?6:248<=p?5:240<=p?4:224<=p?3:192<=p?2:1;c[254]=c[254]=1;function h(){l.call(this,"utf-8 decode"),this.leftOver=null}function w(){l.call(this,"utf-8 encode")}n.utf8encode=function(d){return a.nodebuffer?o.newBufferFrom(d,"utf-8"):function(g){var u,m,f,y,k,E=g.length,A=0;for(y=0;y<E;y++)(64512&(m=g.charCodeAt(y)))==55296&&y+1<E&&(64512&(f=g.charCodeAt(y+1)))==56320&&(m=65536+(m-55296<<10)+(f-56320),y++),A+=m<128?1:m<2048?2:m<65536?3:4;for(u=a.uint8array?new Uint8Array(A):new Array(A),y=k=0;k<A;y++)(64512&(m=g.charCodeAt(y)))==55296&&y+1<E&&(64512&(f=g.charCodeAt(y+1)))==56320&&(m=65536+(m-55296<<10)+(f-56320),y++),m<128?u[k++]=m:(m<2048?u[k++]=192|m>>>6:(m<65536?u[k++]=224|m>>>12:(u[k++]=240|m>>>18,u[k++]=128|m>>>12&63),u[k++]=128|m>>>6&63),u[k++]=128|63&m);return u}(d)},n.utf8decode=function(d){return a.nodebuffer?s.transformTo("nodebuffer",d).toString("utf-8"):function(g){var u,m,f,y,k=g.length,E=new Array(2*k);for(u=m=0;u<k;)if((f=g[u++])<128)E[m++]=f;else if(4<(y=c[f]))E[m++]=65533,u+=y-1;else{for(f&=y===2?31:y===3?15:7;1<y&&u<k;)f=f<<6|63&g[u++],y--;1<y?E[m++]=65533:f<65536?E[m++]=f:(f-=65536,E[m++]=55296|f>>10&1023,E[m++]=56320|1023&f)}return E.length!==m&&(E.subarray?E=E.subarray(0,m):E.length=m),s.applyFromCharCode(E)}(d=s.transformTo(a.uint8array?"uint8array":"array",d))},s.inherits(h,l),h.prototype.processChunk=function(d){var g=s.transformTo(a.uint8array?"uint8array":"array",d.data);if(this.leftOver&&this.leftOver.length){if(a.uint8array){var u=g;(g=new Uint8Array(u.length+this.leftOver.length)).set(this.leftOver,0),g.set(u,this.leftOver.length)}else g=this.leftOver.concat(g);this.leftOver=null}var m=function(y,k){var E;for((k=k||y.length)>y.length&&(k=y.length),E=k-1;0<=E&&(192&y[E])==128;)E--;return E<0||E===0?k:E+c[y[E]]>k?E:k}(g),f=g;m!==g.length&&(a.uint8array?(f=g.subarray(0,m),this.leftOver=g.subarray(m,g.length)):(f=g.slice(0,m),this.leftOver=g.slice(m,g.length))),this.push({data:n.utf8decode(f),meta:d.meta})},h.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:n.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},n.Utf8DecodeWorker=h,s.inherits(w,l),w.prototype.processChunk=function(d){this.push({data:n.utf8encode(d.data),meta:d.meta})},n.Utf8EncodeWorker=w},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(r,i,n){var s=r("./support"),a=r("./base64"),o=r("./nodejsUtils"),l=r("./external");function c(u){return u}function p(u,m){for(var f=0;f<u.length;++f)m[f]=255&u.charCodeAt(f);return m}r("setimmediate"),n.newBlob=function(u,m){n.checkSupport("blob");try{return new Blob([u],{type:m})}catch{try{var f=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return f.append(u),f.getBlob(m)}catch{throw new Error("Bug : can't construct the Blob.")}}};var h={stringifyByChunk:function(u,m,f){var y=[],k=0,E=u.length;if(E<=f)return String.fromCharCode.apply(null,u);for(;k<E;)m==="array"||m==="nodebuffer"?y.push(String.fromCharCode.apply(null,u.slice(k,Math.min(k+f,E)))):y.push(String.fromCharCode.apply(null,u.subarray(k,Math.min(k+f,E)))),k+=f;return y.join("")},stringifyByChar:function(u){for(var m="",f=0;f<u.length;f++)m+=String.fromCharCode(u[f]);return m},applyCanBeUsed:{uint8array:function(){try{return s.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return s.nodebuffer&&String.fromCharCode.apply(null,o.allocBuffer(1)).length===1}catch{return!1}}()}};function w(u){var m=65536,f=n.getTypeOf(u),y=!0;if(f==="uint8array"?y=h.applyCanBeUsed.uint8array:f==="nodebuffer"&&(y=h.applyCanBeUsed.nodebuffer),y)for(;1<m;)try{return h.stringifyByChunk(u,f,m)}catch{m=Math.floor(m/2)}return h.stringifyByChar(u)}function d(u,m){for(var f=0;f<u.length;f++)m[f]=u[f];return m}n.applyFromCharCode=w;var g={};g.string={string:c,array:function(u){return p(u,new Array(u.length))},arraybuffer:function(u){return g.string.uint8array(u).buffer},uint8array:function(u){return p(u,new Uint8Array(u.length))},nodebuffer:function(u){return p(u,o.allocBuffer(u.length))}},g.array={string:w,array:c,arraybuffer:function(u){return new Uint8Array(u).buffer},uint8array:function(u){return new Uint8Array(u)},nodebuffer:function(u){return o.newBufferFrom(u)}},g.arraybuffer={string:function(u){return w(new Uint8Array(u))},array:function(u){return d(new Uint8Array(u),new Array(u.byteLength))},arraybuffer:c,uint8array:function(u){return new Uint8Array(u)},nodebuffer:function(u){return o.newBufferFrom(new Uint8Array(u))}},g.uint8array={string:w,array:function(u){return d(u,new Array(u.length))},arraybuffer:function(u){return u.buffer},uint8array:c,nodebuffer:function(u){return o.newBufferFrom(u)}},g.nodebuffer={string:w,array:function(u){return d(u,new Array(u.length))},arraybuffer:function(u){return g.nodebuffer.uint8array(u).buffer},uint8array:function(u){return d(u,new Uint8Array(u.length))},nodebuffer:c},n.transformTo=function(u,m){if(m=m||"",!u)return m;n.checkSupport(u);var f=n.getTypeOf(m);return g[f][u](m)},n.resolve=function(u){for(var m=u.split("/"),f=[],y=0;y<m.length;y++){var k=m[y];k==="."||k===""&&y!==0&&y!==m.length-1||(k===".."?f.pop():f.push(k))}return f.join("/")},n.getTypeOf=function(u){return typeof u=="string"?"string":Object.prototype.toString.call(u)==="[object Array]"?"array":s.nodebuffer&&o.isBuffer(u)?"nodebuffer":s.uint8array&&u instanceof Uint8Array?"uint8array":s.arraybuffer&&u instanceof ArrayBuffer?"arraybuffer":void 0},n.checkSupport=function(u){if(!s[u.toLowerCase()])throw new Error(u+" is not supported by this platform")},n.MAX_VALUE_16BITS=65535,n.MAX_VALUE_32BITS=-1,n.pretty=function(u){var m,f,y="";for(f=0;f<(u||"").length;f++)y+="\\x"+((m=u.charCodeAt(f))<16?"0":"")+m.toString(16).toUpperCase();return y},n.delay=function(u,m,f){setImmediate(function(){u.apply(f||null,m||[])})},n.inherits=function(u,m){function f(){}f.prototype=m.prototype,u.prototype=new f},n.extend=function(){var u,m,f={};for(u=0;u<arguments.length;u++)for(m in arguments[u])Object.prototype.hasOwnProperty.call(arguments[u],m)&&f[m]===void 0&&(f[m]=arguments[u][m]);return f},n.prepareContent=function(u,m,f,y,k){return l.Promise.resolve(m).then(function(E){return s.blob&&(E instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(E))!==-1)&&typeof FileReader<"u"?new l.Promise(function(A,C){var I=new FileReader;I.onload=function(F){A(F.target.result)},I.onerror=function(F){C(F.target.error)},I.readAsArrayBuffer(E)}):E}).then(function(E){var A=n.getTypeOf(E);return A?(A==="arraybuffer"?E=n.transformTo("uint8array",E):A==="string"&&(k?E=a.decode(E):f&&y!==!0&&(E=function(C){return p(C,s.uint8array?new Uint8Array(C.length):new Array(C.length))}(E))),E):l.Promise.reject(new Error("Can't read the data of '"+u+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(r,i,n){var s=r("./reader/readerFor"),a=r("./utils"),o=r("./signature"),l=r("./zipEntry"),c=r("./support");function p(h){this.files=[],this.loadOptions=h}p.prototype={checkSignature:function(h){if(!this.reader.readAndCheckSignature(h)){this.reader.index-=4;var w=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+a.pretty(w)+", expected "+a.pretty(h)+")")}},isSignature:function(h,w){var d=this.reader.index;this.reader.setIndex(h);var g=this.reader.readString(4)===w;return this.reader.setIndex(d),g},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var h=this.reader.readData(this.zipCommentLength),w=c.uint8array?"uint8array":"array",d=a.transformTo(w,h);this.zipComment=this.loadOptions.decodeFileName(d)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var h,w,d,g=this.zip64EndOfCentralSize-44;0<g;)h=this.reader.readInt(2),w=this.reader.readInt(4),d=this.reader.readData(w),this.zip64ExtensibleData[h]={id:h,length:w,value:d}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var h,w;for(h=0;h<this.files.length;h++)w=this.files[h],this.reader.setIndex(w.localHeaderOffset),this.checkSignature(o.LOCAL_FILE_HEADER),w.readLocalPart(this.reader),w.handleUTF8(),w.processAttributes()},readCentralDir:function(){var h;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(o.CENTRAL_FILE_HEADER);)(h=new l({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(h);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var h=this.reader.lastIndexOfSignature(o.CENTRAL_DIRECTORY_END);if(h<0)throw this.isSignature(0,o.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(h);var w=h;if(this.checkSignature(o.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===a.MAX_VALUE_16BITS||this.diskWithCentralDirStart===a.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===a.MAX_VALUE_16BITS||this.centralDirRecords===a.MAX_VALUE_16BITS||this.centralDirSize===a.MAX_VALUE_32BITS||this.centralDirOffset===a.MAX_VALUE_32BITS){if(this.zip64=!0,(h=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(h),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,o.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var d=this.centralDirOffset+this.centralDirSize;this.zip64&&(d+=20,d+=12+this.zip64EndOfCentralSize);var g=w-d;if(0<g)this.isSignature(w,o.CENTRAL_FILE_HEADER)||(this.reader.zero=g);else if(g<0)throw new Error("Corrupted zip: missing "+Math.abs(g)+" bytes.")},prepareReader:function(h){this.reader=s(h)},load:function(h){this.prepareReader(h),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},i.exports=p},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(r,i,n){var s=r("./reader/readerFor"),a=r("./utils"),o=r("./compressedObject"),l=r("./crc32"),c=r("./utf8"),p=r("./compressions"),h=r("./support");function w(d,g){this.options=d,this.loadOptions=g}w.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(d){var g,u;if(d.skip(22),this.fileNameLength=d.readInt(2),u=d.readInt(2),this.fileName=d.readData(this.fileNameLength),d.skip(u),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((g=function(m){for(var f in p)if(Object.prototype.hasOwnProperty.call(p,f)&&p[f].magic===m)return p[f];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+a.pretty(this.compressionMethod)+" unknown (inner file : "+a.transformTo("string",this.fileName)+")");this.decompressed=new o(this.compressedSize,this.uncompressedSize,this.crc32,g,d.readData(this.compressedSize))},readCentralPart:function(d){this.versionMadeBy=d.readInt(2),d.skip(2),this.bitFlag=d.readInt(2),this.compressionMethod=d.readString(2),this.date=d.readDate(),this.crc32=d.readInt(4),this.compressedSize=d.readInt(4),this.uncompressedSize=d.readInt(4);var g=d.readInt(2);if(this.extraFieldsLength=d.readInt(2),this.fileCommentLength=d.readInt(2),this.diskNumberStart=d.readInt(2),this.internalFileAttributes=d.readInt(2),this.externalFileAttributes=d.readInt(4),this.localHeaderOffset=d.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");d.skip(g),this.readExtraFields(d),this.parseZIP64ExtraField(d),this.fileComment=d.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var d=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),d==0&&(this.dosPermissions=63&this.externalFileAttributes),d==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var d=s(this.extraFields[1].value);this.uncompressedSize===a.MAX_VALUE_32BITS&&(this.uncompressedSize=d.readInt(8)),this.compressedSize===a.MAX_VALUE_32BITS&&(this.compressedSize=d.readInt(8)),this.localHeaderOffset===a.MAX_VALUE_32BITS&&(this.localHeaderOffset=d.readInt(8)),this.diskNumberStart===a.MAX_VALUE_32BITS&&(this.diskNumberStart=d.readInt(4))}},readExtraFields:function(d){var g,u,m,f=d.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});d.index+4<f;)g=d.readInt(2),u=d.readInt(2),m=d.readData(u),this.extraFields[g]={id:g,length:u,value:m};d.setIndex(f)},handleUTF8:function(){var d=h.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=c.utf8decode(this.fileName),this.fileCommentStr=c.utf8decode(this.fileComment);else{var g=this.findExtraFieldUnicodePath();if(g!==null)this.fileNameStr=g;else{var u=a.transformTo(d,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(u)}var m=this.findExtraFieldUnicodeComment();if(m!==null)this.fileCommentStr=m;else{var f=a.transformTo(d,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(f)}}},findExtraFieldUnicodePath:function(){var d=this.extraFields[28789];if(d){var g=s(d.value);return g.readInt(1)!==1||l(this.fileName)!==g.readInt(4)?null:c.utf8decode(g.readData(d.length-5))}return null},findExtraFieldUnicodeComment:function(){var d=this.extraFields[25461];if(d){var g=s(d.value);return g.readInt(1)!==1||l(this.fileComment)!==g.readInt(4)?null:c.utf8decode(g.readData(d.length-5))}return null}},i.exports=w},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(r,i,n){function s(g,u,m){this.name=g,this.dir=m.dir,this.date=m.date,this.comment=m.comment,this.unixPermissions=m.unixPermissions,this.dosPermissions=m.dosPermissions,this._data=u,this._dataBinary=m.binary,this.options={compression:m.compression,compressionOptions:m.compressionOptions}}var a=r("./stream/StreamHelper"),o=r("./stream/DataWorker"),l=r("./utf8"),c=r("./compressedObject"),p=r("./stream/GenericWorker");s.prototype={internalStream:function(g){var u=null,m="string";try{if(!g)throw new Error("No output type specified.");var f=(m=g.toLowerCase())==="string"||m==="text";m!=="binarystring"&&m!=="text"||(m="string"),u=this._decompressWorker();var y=!this._dataBinary;y&&!f&&(u=u.pipe(new l.Utf8EncodeWorker)),!y&&f&&(u=u.pipe(new l.Utf8DecodeWorker))}catch(k){(u=new p("error")).error(k)}return new a(u,m,"")},async:function(g,u){return this.internalStream(g).accumulate(u)},nodeStream:function(g,u){return this.internalStream(g||"nodebuffer").toNodejsStream(u)},_compressWorker:function(g,u){if(this._data instanceof c&&this._data.compression.magic===g.magic)return this._data.getCompressedWorker();var m=this._decompressWorker();return this._dataBinary||(m=m.pipe(new l.Utf8EncodeWorker)),c.createWorkerFrom(m,g,u)},_decompressWorker:function(){return this._data instanceof c?this._data.getContentWorker():this._data instanceof p?this._data:new o(this._data)}};for(var h=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],w=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},d=0;d<h.length;d++)s.prototype[h[d]]=w;i.exports=s},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(r,i,n){(function(s){var a,o,l=s.MutationObserver||s.WebKitMutationObserver;if(l){var c=0,p=new l(g),h=s.document.createTextNode("");p.observe(h,{characterData:!0}),a=function(){h.data=c=++c%2}}else if(s.setImmediate||s.MessageChannel===void 0)a="document"in s&&"onreadystatechange"in s.document.createElement("script")?function(){var u=s.document.createElement("script");u.onreadystatechange=function(){g(),u.onreadystatechange=null,u.parentNode.removeChild(u),u=null},s.document.documentElement.appendChild(u)}:function(){setTimeout(g,0)};else{var w=new s.MessageChannel;w.port1.onmessage=g,a=function(){w.port2.postMessage(0)}}var d=[];function g(){var u,m;o=!0;for(var f=d.length;f;){for(m=d,d=[],u=-1;++u<f;)m[u]();f=d.length}o=!1}i.exports=function(u){d.push(u)!==1||o||a()}}).call(this,typeof Ir<"u"?Ir:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(r,i,n){var s=r("immediate");function a(){}var o={},l=["REJECTED"],c=["FULFILLED"],p=["PENDING"];function h(f){if(typeof f!="function")throw new TypeError("resolver must be a function");this.state=p,this.queue=[],this.outcome=void 0,f!==a&&u(this,f)}function w(f,y,k){this.promise=f,typeof y=="function"&&(this.onFulfilled=y,this.callFulfilled=this.otherCallFulfilled),typeof k=="function"&&(this.onRejected=k,this.callRejected=this.otherCallRejected)}function d(f,y,k){s(function(){var E;try{E=y(k)}catch(A){return o.reject(f,A)}E===f?o.reject(f,new TypeError("Cannot resolve promise with itself")):o.resolve(f,E)})}function g(f){var y=f&&f.then;if(f&&(typeof f=="object"||typeof f=="function")&&typeof y=="function")return function(){y.apply(f,arguments)}}function u(f,y){var k=!1;function E(I){k||(k=!0,o.reject(f,I))}function A(I){k||(k=!0,o.resolve(f,I))}var C=m(function(){y(A,E)});C.status==="error"&&E(C.value)}function m(f,y){var k={};try{k.value=f(y),k.status="success"}catch(E){k.status="error",k.value=E}return k}(i.exports=h).prototype.finally=function(f){if(typeof f!="function")return this;var y=this.constructor;return this.then(function(k){return y.resolve(f()).then(function(){return k})},function(k){return y.resolve(f()).then(function(){throw k})})},h.prototype.catch=function(f){return this.then(null,f)},h.prototype.then=function(f,y){if(typeof f!="function"&&this.state===c||typeof y!="function"&&this.state===l)return this;var k=new this.constructor(a);return this.state!==p?d(k,this.state===c?f:y,this.outcome):this.queue.push(new w(k,f,y)),k},w.prototype.callFulfilled=function(f){o.resolve(this.promise,f)},w.prototype.otherCallFulfilled=function(f){d(this.promise,this.onFulfilled,f)},w.prototype.callRejected=function(f){o.reject(this.promise,f)},w.prototype.otherCallRejected=function(f){d(this.promise,this.onRejected,f)},o.resolve=function(f,y){var k=m(g,y);if(k.status==="error")return o.reject(f,k.value);var E=k.value;if(E)u(f,E);else{f.state=c,f.outcome=y;for(var A=-1,C=f.queue.length;++A<C;)f.queue[A].callFulfilled(y)}return f},o.reject=function(f,y){f.state=l,f.outcome=y;for(var k=-1,E=f.queue.length;++k<E;)f.queue[k].callRejected(y);return f},h.resolve=function(f){return f instanceof this?f:o.resolve(new this(a),f)},h.reject=function(f){var y=new this(a);return o.reject(y,f)},h.all=function(f){var y=this;if(Object.prototype.toString.call(f)!=="[object Array]")return this.reject(new TypeError("must be an array"));var k=f.length,E=!1;if(!k)return this.resolve([]);for(var A=new Array(k),C=0,I=-1,F=new this(a);++I<k;)U(f[I],I);return F;function U(H,re){y.resolve(H).then(function(S){A[re]=S,++C!==k||E||(E=!0,o.resolve(F,A))},function(S){E||(E=!0,o.reject(F,S))})}},h.race=function(f){var y=this;if(Object.prototype.toString.call(f)!=="[object Array]")return this.reject(new TypeError("must be an array"));var k=f.length,E=!1;if(!k)return this.resolve([]);for(var A=-1,C=new this(a);++A<k;)I=f[A],y.resolve(I).then(function(F){E||(E=!0,o.resolve(C,F))},function(F){E||(E=!0,o.reject(C,F))});var I;return C}},{immediate:36}],38:[function(r,i,n){var s={};(0,r("./lib/utils/common").assign)(s,r("./lib/deflate"),r("./lib/inflate"),r("./lib/zlib/constants")),i.exports=s},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(r,i,n){var s=r("./zlib/deflate"),a=r("./utils/common"),o=r("./utils/strings"),l=r("./zlib/messages"),c=r("./zlib/zstream"),p=Object.prototype.toString,h=0,w=-1,d=0,g=8;function u(f){if(!(this instanceof u))return new u(f);this.options=a.assign({level:w,method:g,chunkSize:16384,windowBits:15,memLevel:8,strategy:d,to:""},f||{});var y=this.options;y.raw&&0<y.windowBits?y.windowBits=-y.windowBits:y.gzip&&0<y.windowBits&&y.windowBits<16&&(y.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new c,this.strm.avail_out=0;var k=s.deflateInit2(this.strm,y.level,y.method,y.windowBits,y.memLevel,y.strategy);if(k!==h)throw new Error(l[k]);if(y.header&&s.deflateSetHeader(this.strm,y.header),y.dictionary){var E;if(E=typeof y.dictionary=="string"?o.string2buf(y.dictionary):p.call(y.dictionary)==="[object ArrayBuffer]"?new Uint8Array(y.dictionary):y.dictionary,(k=s.deflateSetDictionary(this.strm,E))!==h)throw new Error(l[k]);this._dict_set=!0}}function m(f,y){var k=new u(y);if(k.push(f,!0),k.err)throw k.msg||l[k.err];return k.result}u.prototype.push=function(f,y){var k,E,A=this.strm,C=this.options.chunkSize;if(this.ended)return!1;E=y===~~y?y:y===!0?4:0,typeof f=="string"?A.input=o.string2buf(f):p.call(f)==="[object ArrayBuffer]"?A.input=new Uint8Array(f):A.input=f,A.next_in=0,A.avail_in=A.input.length;do{if(A.avail_out===0&&(A.output=new a.Buf8(C),A.next_out=0,A.avail_out=C),(k=s.deflate(A,E))!==1&&k!==h)return this.onEnd(k),!(this.ended=!0);A.avail_out!==0&&(A.avail_in!==0||E!==4&&E!==2)||(this.options.to==="string"?this.onData(o.buf2binstring(a.shrinkBuf(A.output,A.next_out))):this.onData(a.shrinkBuf(A.output,A.next_out)))}while((0<A.avail_in||A.avail_out===0)&&k!==1);return E===4?(k=s.deflateEnd(this.strm),this.onEnd(k),this.ended=!0,k===h):E!==2||(this.onEnd(h),!(A.avail_out=0))},u.prototype.onData=function(f){this.chunks.push(f)},u.prototype.onEnd=function(f){f===h&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=a.flattenChunks(this.chunks)),this.chunks=[],this.err=f,this.msg=this.strm.msg},n.Deflate=u,n.deflate=m,n.deflateRaw=function(f,y){return(y=y||{}).raw=!0,m(f,y)},n.gzip=function(f,y){return(y=y||{}).gzip=!0,m(f,y)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(r,i,n){var s=r("./zlib/inflate"),a=r("./utils/common"),o=r("./utils/strings"),l=r("./zlib/constants"),c=r("./zlib/messages"),p=r("./zlib/zstream"),h=r("./zlib/gzheader"),w=Object.prototype.toString;function d(u){if(!(this instanceof d))return new d(u);this.options=a.assign({chunkSize:16384,windowBits:0,to:""},u||{});var m=this.options;m.raw&&0<=m.windowBits&&m.windowBits<16&&(m.windowBits=-m.windowBits,m.windowBits===0&&(m.windowBits=-15)),!(0<=m.windowBits&&m.windowBits<16)||u&&u.windowBits||(m.windowBits+=32),15<m.windowBits&&m.windowBits<48&&!(15&m.windowBits)&&(m.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new p,this.strm.avail_out=0;var f=s.inflateInit2(this.strm,m.windowBits);if(f!==l.Z_OK)throw new Error(c[f]);this.header=new h,s.inflateGetHeader(this.strm,this.header)}function g(u,m){var f=new d(m);if(f.push(u,!0),f.err)throw f.msg||c[f.err];return f.result}d.prototype.push=function(u,m){var f,y,k,E,A,C,I=this.strm,F=this.options.chunkSize,U=this.options.dictionary,H=!1;if(this.ended)return!1;y=m===~~m?m:m===!0?l.Z_FINISH:l.Z_NO_FLUSH,typeof u=="string"?I.input=o.binstring2buf(u):w.call(u)==="[object ArrayBuffer]"?I.input=new Uint8Array(u):I.input=u,I.next_in=0,I.avail_in=I.input.length;do{if(I.avail_out===0&&(I.output=new a.Buf8(F),I.next_out=0,I.avail_out=F),(f=s.inflate(I,l.Z_NO_FLUSH))===l.Z_NEED_DICT&&U&&(C=typeof U=="string"?o.string2buf(U):w.call(U)==="[object ArrayBuffer]"?new Uint8Array(U):U,f=s.inflateSetDictionary(this.strm,C)),f===l.Z_BUF_ERROR&&H===!0&&(f=l.Z_OK,H=!1),f!==l.Z_STREAM_END&&f!==l.Z_OK)return this.onEnd(f),!(this.ended=!0);I.next_out&&(I.avail_out!==0&&f!==l.Z_STREAM_END&&(I.avail_in!==0||y!==l.Z_FINISH&&y!==l.Z_SYNC_FLUSH)||(this.options.to==="string"?(k=o.utf8border(I.output,I.next_out),E=I.next_out-k,A=o.buf2string(I.output,k),I.next_out=E,I.avail_out=F-E,E&&a.arraySet(I.output,I.output,k,E,0),this.onData(A)):this.onData(a.shrinkBuf(I.output,I.next_out)))),I.avail_in===0&&I.avail_out===0&&(H=!0)}while((0<I.avail_in||I.avail_out===0)&&f!==l.Z_STREAM_END);return f===l.Z_STREAM_END&&(y=l.Z_FINISH),y===l.Z_FINISH?(f=s.inflateEnd(this.strm),this.onEnd(f),this.ended=!0,f===l.Z_OK):y!==l.Z_SYNC_FLUSH||(this.onEnd(l.Z_OK),!(I.avail_out=0))},d.prototype.onData=function(u){this.chunks.push(u)},d.prototype.onEnd=function(u){u===l.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=a.flattenChunks(this.chunks)),this.chunks=[],this.err=u,this.msg=this.strm.msg},n.Inflate=d,n.inflate=g,n.inflateRaw=function(u,m){return(m=m||{}).raw=!0,g(u,m)},n.ungzip=g},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(r,i,n){var s=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";n.assign=function(l){for(var c=Array.prototype.slice.call(arguments,1);c.length;){var p=c.shift();if(p){if(typeof p!="object")throw new TypeError(p+"must be non-object");for(var h in p)p.hasOwnProperty(h)&&(l[h]=p[h])}}return l},n.shrinkBuf=function(l,c){return l.length===c?l:l.subarray?l.subarray(0,c):(l.length=c,l)};var a={arraySet:function(l,c,p,h,w){if(c.subarray&&l.subarray)l.set(c.subarray(p,p+h),w);else for(var d=0;d<h;d++)l[w+d]=c[p+d]},flattenChunks:function(l){var c,p,h,w,d,g;for(c=h=0,p=l.length;c<p;c++)h+=l[c].length;for(g=new Uint8Array(h),c=w=0,p=l.length;c<p;c++)d=l[c],g.set(d,w),w+=d.length;return g}},o={arraySet:function(l,c,p,h,w){for(var d=0;d<h;d++)l[w+d]=c[p+d]},flattenChunks:function(l){return[].concat.apply([],l)}};n.setTyped=function(l){l?(n.Buf8=Uint8Array,n.Buf16=Uint16Array,n.Buf32=Int32Array,n.assign(n,a)):(n.Buf8=Array,n.Buf16=Array,n.Buf32=Array,n.assign(n,o))},n.setTyped(s)},{}],42:[function(r,i,n){var s=r("./common"),a=!0,o=!0;try{String.fromCharCode.apply(null,[0])}catch{a=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{o=!1}for(var l=new s.Buf8(256),c=0;c<256;c++)l[c]=252<=c?6:248<=c?5:240<=c?4:224<=c?3:192<=c?2:1;function p(h,w){if(w<65537&&(h.subarray&&o||!h.subarray&&a))return String.fromCharCode.apply(null,s.shrinkBuf(h,w));for(var d="",g=0;g<w;g++)d+=String.fromCharCode(h[g]);return d}l[254]=l[254]=1,n.string2buf=function(h){var w,d,g,u,m,f=h.length,y=0;for(u=0;u<f;u++)(64512&(d=h.charCodeAt(u)))==55296&&u+1<f&&(64512&(g=h.charCodeAt(u+1)))==56320&&(d=65536+(d-55296<<10)+(g-56320),u++),y+=d<128?1:d<2048?2:d<65536?3:4;for(w=new s.Buf8(y),u=m=0;m<y;u++)(64512&(d=h.charCodeAt(u)))==55296&&u+1<f&&(64512&(g=h.charCodeAt(u+1)))==56320&&(d=65536+(d-55296<<10)+(g-56320),u++),d<128?w[m++]=d:(d<2048?w[m++]=192|d>>>6:(d<65536?w[m++]=224|d>>>12:(w[m++]=240|d>>>18,w[m++]=128|d>>>12&63),w[m++]=128|d>>>6&63),w[m++]=128|63&d);return w},n.buf2binstring=function(h){return p(h,h.length)},n.binstring2buf=function(h){for(var w=new s.Buf8(h.length),d=0,g=w.length;d<g;d++)w[d]=h.charCodeAt(d);return w},n.buf2string=function(h,w){var d,g,u,m,f=w||h.length,y=new Array(2*f);for(d=g=0;d<f;)if((u=h[d++])<128)y[g++]=u;else if(4<(m=l[u]))y[g++]=65533,d+=m-1;else{for(u&=m===2?31:m===3?15:7;1<m&&d<f;)u=u<<6|63&h[d++],m--;1<m?y[g++]=65533:u<65536?y[g++]=u:(u-=65536,y[g++]=55296|u>>10&1023,y[g++]=56320|1023&u)}return p(y,g)},n.utf8border=function(h,w){var d;for((w=w||h.length)>h.length&&(w=h.length),d=w-1;0<=d&&(192&h[d])==128;)d--;return d<0||d===0?w:d+l[h[d]]>w?d:w}},{"./common":41}],43:[function(r,i,n){i.exports=function(s,a,o,l){for(var c=65535&s|0,p=s>>>16&65535|0,h=0;o!==0;){for(o-=h=2e3<o?2e3:o;p=p+(c=c+a[l++]|0)|0,--h;);c%=65521,p%=65521}return c|p<<16|0}},{}],44:[function(r,i,n){i.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(r,i,n){var s=function(){for(var a,o=[],l=0;l<256;l++){a=l;for(var c=0;c<8;c++)a=1&a?3988292384^a>>>1:a>>>1;o[l]=a}return o}();i.exports=function(a,o,l,c){var p=s,h=c+l;a^=-1;for(var w=c;w<h;w++)a=a>>>8^p[255&(a^o[w])];return-1^a}},{}],46:[function(r,i,n){var s,a=r("../utils/common"),o=r("./trees"),l=r("./adler32"),c=r("./crc32"),p=r("./messages"),h=0,w=4,d=0,g=-2,u=-1,m=4,f=2,y=8,k=9,E=286,A=30,C=19,I=2*E+1,F=15,U=3,H=258,re=H+U+1,S=42,q=113,v=1,G=2,ae=3,Y=4;function fe(_,X){return _.msg=p[X],X}function L(_){return(_<<1)-(4<_?9:0)}function D(_){for(var X=_.length;0<=--X;)_[X]=0}function $(_){var X=_.state,x=X.pending;x>_.avail_out&&(x=_.avail_out),x!==0&&(a.arraySet(_.output,X.pending_buf,X.pending_out,x,_.next_out),_.next_out+=x,X.pending_out+=x,_.total_out+=x,_.avail_out-=x,X.pending-=x,X.pending===0&&(X.pending_out=0))}function O(_,X){o._tr_flush_block(_,0<=_.block_start?_.block_start:-1,_.strstart-_.block_start,X),_.block_start=_.strstart,$(_.strm)}function T(_,X){_.pending_buf[_.pending++]=X}function b(_,X){_.pending_buf[_.pending++]=X>>>8&255,_.pending_buf[_.pending++]=255&X}function P(_,X){var x,j,R=_.max_chain_length,V=_.strstart,ee=_.prev_length,te=_.nice_match,K=_.strstart>_.w_size-re?_.strstart-(_.w_size-re):0,ne=_.window,ce=_.w_mask,oe=_.prev,ge=_.strstart+H,Te=ne[V+ee-1],Ae=ne[V+ee];_.prev_length>=_.good_match&&(R>>=2),te>_.lookahead&&(te=_.lookahead);do if(ne[(x=X)+ee]===Ae&&ne[x+ee-1]===Te&&ne[x]===ne[V]&&ne[++x]===ne[V+1]){V+=2,x++;do;while(ne[++V]===ne[++x]&&ne[++V]===ne[++x]&&ne[++V]===ne[++x]&&ne[++V]===ne[++x]&&ne[++V]===ne[++x]&&ne[++V]===ne[++x]&&ne[++V]===ne[++x]&&ne[++V]===ne[++x]&&V<ge);if(j=H-(ge-V),V=ge-H,ee<j){if(_.match_start=X,te<=(ee=j))break;Te=ne[V+ee-1],Ae=ne[V+ee]}}while((X=oe[X&ce])>K&&--R!=0);return ee<=_.lookahead?ee:_.lookahead}function W(_){var X,x,j,R,V,ee,te,K,ne,ce,oe=_.w_size;do{if(R=_.window_size-_.lookahead-_.strstart,_.strstart>=oe+(oe-re)){for(a.arraySet(_.window,_.window,oe,oe,0),_.match_start-=oe,_.strstart-=oe,_.block_start-=oe,X=x=_.hash_size;j=_.head[--X],_.head[X]=oe<=j?j-oe:0,--x;);for(X=x=oe;j=_.prev[--X],_.prev[X]=oe<=j?j-oe:0,--x;);R+=oe}if(_.strm.avail_in===0)break;if(ee=_.strm,te=_.window,K=_.strstart+_.lookahead,ne=R,ce=void 0,ce=ee.avail_in,ne<ce&&(ce=ne),x=ce===0?0:(ee.avail_in-=ce,a.arraySet(te,ee.input,ee.next_in,ce,K),ee.state.wrap===1?ee.adler=l(ee.adler,te,ce,K):ee.state.wrap===2&&(ee.adler=c(ee.adler,te,ce,K)),ee.next_in+=ce,ee.total_in+=ce,ce),_.lookahead+=x,_.lookahead+_.insert>=U)for(V=_.strstart-_.insert,_.ins_h=_.window[V],_.ins_h=(_.ins_h<<_.hash_shift^_.window[V+1])&_.hash_mask;_.insert&&(_.ins_h=(_.ins_h<<_.hash_shift^_.window[V+U-1])&_.hash_mask,_.prev[V&_.w_mask]=_.head[_.ins_h],_.head[_.ins_h]=V,V++,_.insert--,!(_.lookahead+_.insert<U)););}while(_.lookahead<re&&_.strm.avail_in!==0)}function ie(_,X){for(var x,j;;){if(_.lookahead<re){if(W(_),_.lookahead<re&&X===h)return v;if(_.lookahead===0)break}if(x=0,_.lookahead>=U&&(_.ins_h=(_.ins_h<<_.hash_shift^_.window[_.strstart+U-1])&_.hash_mask,x=_.prev[_.strstart&_.w_mask]=_.head[_.ins_h],_.head[_.ins_h]=_.strstart),x!==0&&_.strstart-x<=_.w_size-re&&(_.match_length=P(_,x)),_.match_length>=U)if(j=o._tr_tally(_,_.strstart-_.match_start,_.match_length-U),_.lookahead-=_.match_length,_.match_length<=_.max_lazy_match&&_.lookahead>=U){for(_.match_length--;_.strstart++,_.ins_h=(_.ins_h<<_.hash_shift^_.window[_.strstart+U-1])&_.hash_mask,x=_.prev[_.strstart&_.w_mask]=_.head[_.ins_h],_.head[_.ins_h]=_.strstart,--_.match_length!=0;);_.strstart++}else _.strstart+=_.match_length,_.match_length=0,_.ins_h=_.window[_.strstart],_.ins_h=(_.ins_h<<_.hash_shift^_.window[_.strstart+1])&_.hash_mask;else j=o._tr_tally(_,0,_.window[_.strstart]),_.lookahead--,_.strstart++;if(j&&(O(_,!1),_.strm.avail_out===0))return v}return _.insert=_.strstart<U-1?_.strstart:U-1,X===w?(O(_,!0),_.strm.avail_out===0?ae:Y):_.last_lit&&(O(_,!1),_.strm.avail_out===0)?v:G}function Q(_,X){for(var x,j,R;;){if(_.lookahead<re){if(W(_),_.lookahead<re&&X===h)return v;if(_.lookahead===0)break}if(x=0,_.lookahead>=U&&(_.ins_h=(_.ins_h<<_.hash_shift^_.window[_.strstart+U-1])&_.hash_mask,x=_.prev[_.strstart&_.w_mask]=_.head[_.ins_h],_.head[_.ins_h]=_.strstart),_.prev_length=_.match_length,_.prev_match=_.match_start,_.match_length=U-1,x!==0&&_.prev_length<_.max_lazy_match&&_.strstart-x<=_.w_size-re&&(_.match_length=P(_,x),_.match_length<=5&&(_.strategy===1||_.match_length===U&&4096<_.strstart-_.match_start)&&(_.match_length=U-1)),_.prev_length>=U&&_.match_length<=_.prev_length){for(R=_.strstart+_.lookahead-U,j=o._tr_tally(_,_.strstart-1-_.prev_match,_.prev_length-U),_.lookahead-=_.prev_length-1,_.prev_length-=2;++_.strstart<=R&&(_.ins_h=(_.ins_h<<_.hash_shift^_.window[_.strstart+U-1])&_.hash_mask,x=_.prev[_.strstart&_.w_mask]=_.head[_.ins_h],_.head[_.ins_h]=_.strstart),--_.prev_length!=0;);if(_.match_available=0,_.match_length=U-1,_.strstart++,j&&(O(_,!1),_.strm.avail_out===0))return v}else if(_.match_available){if((j=o._tr_tally(_,0,_.window[_.strstart-1]))&&O(_,!1),_.strstart++,_.lookahead--,_.strm.avail_out===0)return v}else _.match_available=1,_.strstart++,_.lookahead--}return _.match_available&&(j=o._tr_tally(_,0,_.window[_.strstart-1]),_.match_available=0),_.insert=_.strstart<U-1?_.strstart:U-1,X===w?(O(_,!0),_.strm.avail_out===0?ae:Y):_.last_lit&&(O(_,!1),_.strm.avail_out===0)?v:G}function ue(_,X,x,j,R){this.good_length=_,this.max_lazy=X,this.nice_length=x,this.max_chain=j,this.func=R}function me(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=y,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new a.Buf16(2*I),this.dyn_dtree=new a.Buf16(2*(2*A+1)),this.bl_tree=new a.Buf16(2*(2*C+1)),D(this.dyn_ltree),D(this.dyn_dtree),D(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new a.Buf16(F+1),this.heap=new a.Buf16(2*E+1),D(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new a.Buf16(2*E+1),D(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function be(_){var X;return _&&_.state?(_.total_in=_.total_out=0,_.data_type=f,(X=_.state).pending=0,X.pending_out=0,X.wrap<0&&(X.wrap=-X.wrap),X.status=X.wrap?S:q,_.adler=X.wrap===2?0:1,X.last_flush=h,o._tr_init(X),d):fe(_,g)}function Ve(_){var X=be(_);return X===d&&function(x){x.window_size=2*x.w_size,D(x.head),x.max_lazy_match=s[x.level].max_lazy,x.good_match=s[x.level].good_length,x.nice_match=s[x.level].nice_length,x.max_chain_length=s[x.level].max_chain,x.strstart=0,x.block_start=0,x.lookahead=0,x.insert=0,x.match_length=x.prev_length=U-1,x.match_available=0,x.ins_h=0}(_.state),X}function He(_,X,x,j,R,V){if(!_)return g;var ee=1;if(X===u&&(X=6),j<0?(ee=0,j=-j):15<j&&(ee=2,j-=16),R<1||k<R||x!==y||j<8||15<j||X<0||9<X||V<0||m<V)return fe(_,g);j===8&&(j=9);var te=new me;return(_.state=te).strm=_,te.wrap=ee,te.gzhead=null,te.w_bits=j,te.w_size=1<<te.w_bits,te.w_mask=te.w_size-1,te.hash_bits=R+7,te.hash_size=1<<te.hash_bits,te.hash_mask=te.hash_size-1,te.hash_shift=~~((te.hash_bits+U-1)/U),te.window=new a.Buf8(2*te.w_size),te.head=new a.Buf16(te.hash_size),te.prev=new a.Buf16(te.w_size),te.lit_bufsize=1<<R+6,te.pending_buf_size=4*te.lit_bufsize,te.pending_buf=new a.Buf8(te.pending_buf_size),te.d_buf=1*te.lit_bufsize,te.l_buf=3*te.lit_bufsize,te.level=X,te.strategy=V,te.method=x,Ve(_)}s=[new ue(0,0,0,0,function(_,X){var x=65535;for(x>_.pending_buf_size-5&&(x=_.pending_buf_size-5);;){if(_.lookahead<=1){if(W(_),_.lookahead===0&&X===h)return v;if(_.lookahead===0)break}_.strstart+=_.lookahead,_.lookahead=0;var j=_.block_start+x;if((_.strstart===0||_.strstart>=j)&&(_.lookahead=_.strstart-j,_.strstart=j,O(_,!1),_.strm.avail_out===0)||_.strstart-_.block_start>=_.w_size-re&&(O(_,!1),_.strm.avail_out===0))return v}return _.insert=0,X===w?(O(_,!0),_.strm.avail_out===0?ae:Y):(_.strstart>_.block_start&&(O(_,!1),_.strm.avail_out),v)}),new ue(4,4,8,4,ie),new ue(4,5,16,8,ie),new ue(4,6,32,32,ie),new ue(4,4,16,16,Q),new ue(8,16,32,32,Q),new ue(8,16,128,128,Q),new ue(8,32,128,256,Q),new ue(32,128,258,1024,Q),new ue(32,258,258,4096,Q)],n.deflateInit=function(_,X){return He(_,X,y,15,8,0)},n.deflateInit2=He,n.deflateReset=Ve,n.deflateResetKeep=be,n.deflateSetHeader=function(_,X){return _&&_.state?_.state.wrap!==2?g:(_.state.gzhead=X,d):g},n.deflate=function(_,X){var x,j,R,V;if(!_||!_.state||5<X||X<0)return _?fe(_,g):g;if(j=_.state,!_.output||!_.input&&_.avail_in!==0||j.status===666&&X!==w)return fe(_,_.avail_out===0?-5:g);if(j.strm=_,x=j.last_flush,j.last_flush=X,j.status===S)if(j.wrap===2)_.adler=0,T(j,31),T(j,139),T(j,8),j.gzhead?(T(j,(j.gzhead.text?1:0)+(j.gzhead.hcrc?2:0)+(j.gzhead.extra?4:0)+(j.gzhead.name?8:0)+(j.gzhead.comment?16:0)),T(j,255&j.gzhead.time),T(j,j.gzhead.time>>8&255),T(j,j.gzhead.time>>16&255),T(j,j.gzhead.time>>24&255),T(j,j.level===9?2:2<=j.strategy||j.level<2?4:0),T(j,255&j.gzhead.os),j.gzhead.extra&&j.gzhead.extra.length&&(T(j,255&j.gzhead.extra.length),T(j,j.gzhead.extra.length>>8&255)),j.gzhead.hcrc&&(_.adler=c(_.adler,j.pending_buf,j.pending,0)),j.gzindex=0,j.status=69):(T(j,0),T(j,0),T(j,0),T(j,0),T(j,0),T(j,j.level===9?2:2<=j.strategy||j.level<2?4:0),T(j,3),j.status=q);else{var ee=y+(j.w_bits-8<<4)<<8;ee|=(2<=j.strategy||j.level<2?0:j.level<6?1:j.level===6?2:3)<<6,j.strstart!==0&&(ee|=32),ee+=31-ee%31,j.status=q,b(j,ee),j.strstart!==0&&(b(j,_.adler>>>16),b(j,65535&_.adler)),_.adler=1}if(j.status===69)if(j.gzhead.extra){for(R=j.pending;j.gzindex<(65535&j.gzhead.extra.length)&&(j.pending!==j.pending_buf_size||(j.gzhead.hcrc&&j.pending>R&&(_.adler=c(_.adler,j.pending_buf,j.pending-R,R)),$(_),R=j.pending,j.pending!==j.pending_buf_size));)T(j,255&j.gzhead.extra[j.gzindex]),j.gzindex++;j.gzhead.hcrc&&j.pending>R&&(_.adler=c(_.adler,j.pending_buf,j.pending-R,R)),j.gzindex===j.gzhead.extra.length&&(j.gzindex=0,j.status=73)}else j.status=73;if(j.status===73)if(j.gzhead.name){R=j.pending;do{if(j.pending===j.pending_buf_size&&(j.gzhead.hcrc&&j.pending>R&&(_.adler=c(_.adler,j.pending_buf,j.pending-R,R)),$(_),R=j.pending,j.pending===j.pending_buf_size)){V=1;break}V=j.gzindex<j.gzhead.name.length?255&j.gzhead.name.charCodeAt(j.gzindex++):0,T(j,V)}while(V!==0);j.gzhead.hcrc&&j.pending>R&&(_.adler=c(_.adler,j.pending_buf,j.pending-R,R)),V===0&&(j.gzindex=0,j.status=91)}else j.status=91;if(j.status===91)if(j.gzhead.comment){R=j.pending;do{if(j.pending===j.pending_buf_size&&(j.gzhead.hcrc&&j.pending>R&&(_.adler=c(_.adler,j.pending_buf,j.pending-R,R)),$(_),R=j.pending,j.pending===j.pending_buf_size)){V=1;break}V=j.gzindex<j.gzhead.comment.length?255&j.gzhead.comment.charCodeAt(j.gzindex++):0,T(j,V)}while(V!==0);j.gzhead.hcrc&&j.pending>R&&(_.adler=c(_.adler,j.pending_buf,j.pending-R,R)),V===0&&(j.status=103)}else j.status=103;if(j.status===103&&(j.gzhead.hcrc?(j.pending+2>j.pending_buf_size&&$(_),j.pending+2<=j.pending_buf_size&&(T(j,255&_.adler),T(j,_.adler>>8&255),_.adler=0,j.status=q)):j.status=q),j.pending!==0){if($(_),_.avail_out===0)return j.last_flush=-1,d}else if(_.avail_in===0&&L(X)<=L(x)&&X!==w)return fe(_,-5);if(j.status===666&&_.avail_in!==0)return fe(_,-5);if(_.avail_in!==0||j.lookahead!==0||X!==h&&j.status!==666){var te=j.strategy===2?function(K,ne){for(var ce;;){if(K.lookahead===0&&(W(K),K.lookahead===0)){if(ne===h)return v;break}if(K.match_length=0,ce=o._tr_tally(K,0,K.window[K.strstart]),K.lookahead--,K.strstart++,ce&&(O(K,!1),K.strm.avail_out===0))return v}return K.insert=0,ne===w?(O(K,!0),K.strm.avail_out===0?ae:Y):K.last_lit&&(O(K,!1),K.strm.avail_out===0)?v:G}(j,X):j.strategy===3?function(K,ne){for(var ce,oe,ge,Te,Ae=K.window;;){if(K.lookahead<=H){if(W(K),K.lookahead<=H&&ne===h)return v;if(K.lookahead===0)break}if(K.match_length=0,K.lookahead>=U&&0<K.strstart&&(oe=Ae[ge=K.strstart-1])===Ae[++ge]&&oe===Ae[++ge]&&oe===Ae[++ge]){Te=K.strstart+H;do;while(oe===Ae[++ge]&&oe===Ae[++ge]&&oe===Ae[++ge]&&oe===Ae[++ge]&&oe===Ae[++ge]&&oe===Ae[++ge]&&oe===Ae[++ge]&&oe===Ae[++ge]&&ge<Te);K.match_length=H-(Te-ge),K.match_length>K.lookahead&&(K.match_length=K.lookahead)}if(K.match_length>=U?(ce=o._tr_tally(K,1,K.match_length-U),K.lookahead-=K.match_length,K.strstart+=K.match_length,K.match_length=0):(ce=o._tr_tally(K,0,K.window[K.strstart]),K.lookahead--,K.strstart++),ce&&(O(K,!1),K.strm.avail_out===0))return v}return K.insert=0,ne===w?(O(K,!0),K.strm.avail_out===0?ae:Y):K.last_lit&&(O(K,!1),K.strm.avail_out===0)?v:G}(j,X):s[j.level].func(j,X);if(te!==ae&&te!==Y||(j.status=666),te===v||te===ae)return _.avail_out===0&&(j.last_flush=-1),d;if(te===G&&(X===1?o._tr_align(j):X!==5&&(o._tr_stored_block(j,0,0,!1),X===3&&(D(j.head),j.lookahead===0&&(j.strstart=0,j.block_start=0,j.insert=0))),$(_),_.avail_out===0))return j.last_flush=-1,d}return X!==w?d:j.wrap<=0?1:(j.wrap===2?(T(j,255&_.adler),T(j,_.adler>>8&255),T(j,_.adler>>16&255),T(j,_.adler>>24&255),T(j,255&_.total_in),T(j,_.total_in>>8&255),T(j,_.total_in>>16&255),T(j,_.total_in>>24&255)):(b(j,_.adler>>>16),b(j,65535&_.adler)),$(_),0<j.wrap&&(j.wrap=-j.wrap),j.pending!==0?d:1)},n.deflateEnd=function(_){var X;return _&&_.state?(X=_.state.status)!==S&&X!==69&&X!==73&&X!==91&&X!==103&&X!==q&&X!==666?fe(_,g):(_.state=null,X===q?fe(_,-3):d):g},n.deflateSetDictionary=function(_,X){var x,j,R,V,ee,te,K,ne,ce=X.length;if(!_||!_.state||(V=(x=_.state).wrap)===2||V===1&&x.status!==S||x.lookahead)return g;for(V===1&&(_.adler=l(_.adler,X,ce,0)),x.wrap=0,ce>=x.w_size&&(V===0&&(D(x.head),x.strstart=0,x.block_start=0,x.insert=0),ne=new a.Buf8(x.w_size),a.arraySet(ne,X,ce-x.w_size,x.w_size,0),X=ne,ce=x.w_size),ee=_.avail_in,te=_.next_in,K=_.input,_.avail_in=ce,_.next_in=0,_.input=X,W(x);x.lookahead>=U;){for(j=x.strstart,R=x.lookahead-(U-1);x.ins_h=(x.ins_h<<x.hash_shift^x.window[j+U-1])&x.hash_mask,x.prev[j&x.w_mask]=x.head[x.ins_h],x.head[x.ins_h]=j,j++,--R;);x.strstart=j,x.lookahead=U-1,W(x)}return x.strstart+=x.lookahead,x.block_start=x.strstart,x.insert=x.lookahead,x.lookahead=0,x.match_length=x.prev_length=U-1,x.match_available=0,_.next_in=te,_.input=K,_.avail_in=ee,x.wrap=V,d},n.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(r,i,n){i.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(r,i,n){i.exports=function(s,a){var o,l,c,p,h,w,d,g,u,m,f,y,k,E,A,C,I,F,U,H,re,S,q,v,G;o=s.state,l=s.next_in,v=s.input,c=l+(s.avail_in-5),p=s.next_out,G=s.output,h=p-(a-s.avail_out),w=p+(s.avail_out-257),d=o.dmax,g=o.wsize,u=o.whave,m=o.wnext,f=o.window,y=o.hold,k=o.bits,E=o.lencode,A=o.distcode,C=(1<<o.lenbits)-1,I=(1<<o.distbits)-1;e:do{k<15&&(y+=v[l++]<<k,k+=8,y+=v[l++]<<k,k+=8),F=E[y&C];t:for(;;){if(y>>>=U=F>>>24,k-=U,(U=F>>>16&255)===0)G[p++]=65535&F;else{if(!(16&U)){if(!(64&U)){F=E[(65535&F)+(y&(1<<U)-1)];continue t}if(32&U){o.mode=12;break e}s.msg="invalid literal/length code",o.mode=30;break e}H=65535&F,(U&=15)&&(k<U&&(y+=v[l++]<<k,k+=8),H+=y&(1<<U)-1,y>>>=U,k-=U),k<15&&(y+=v[l++]<<k,k+=8,y+=v[l++]<<k,k+=8),F=A[y&I];r:for(;;){if(y>>>=U=F>>>24,k-=U,!(16&(U=F>>>16&255))){if(!(64&U)){F=A[(65535&F)+(y&(1<<U)-1)];continue r}s.msg="invalid distance code",o.mode=30;break e}if(re=65535&F,k<(U&=15)&&(y+=v[l++]<<k,(k+=8)<U&&(y+=v[l++]<<k,k+=8)),d<(re+=y&(1<<U)-1)){s.msg="invalid distance too far back",o.mode=30;break e}if(y>>>=U,k-=U,(U=p-h)<re){if(u<(U=re-U)&&o.sane){s.msg="invalid distance too far back",o.mode=30;break e}if(q=f,(S=0)===m){if(S+=g-U,U<H){for(H-=U;G[p++]=f[S++],--U;);S=p-re,q=G}}else if(m<U){if(S+=g+m-U,(U-=m)<H){for(H-=U;G[p++]=f[S++],--U;);if(S=0,m<H){for(H-=U=m;G[p++]=f[S++],--U;);S=p-re,q=G}}}else if(S+=m-U,U<H){for(H-=U;G[p++]=f[S++],--U;);S=p-re,q=G}for(;2<H;)G[p++]=q[S++],G[p++]=q[S++],G[p++]=q[S++],H-=3;H&&(G[p++]=q[S++],1<H&&(G[p++]=q[S++]))}else{for(S=p-re;G[p++]=G[S++],G[p++]=G[S++],G[p++]=G[S++],2<(H-=3););H&&(G[p++]=G[S++],1<H&&(G[p++]=G[S++]))}break}}break}}while(l<c&&p<w);l-=H=k>>3,y&=(1<<(k-=H<<3))-1,s.next_in=l,s.next_out=p,s.avail_in=l<c?c-l+5:5-(l-c),s.avail_out=p<w?w-p+257:257-(p-w),o.hold=y,o.bits=k}},{}],49:[function(r,i,n){var s=r("../utils/common"),a=r("./adler32"),o=r("./crc32"),l=r("./inffast"),c=r("./inftrees"),p=1,h=2,w=0,d=-2,g=1,u=852,m=592;function f(S){return(S>>>24&255)+(S>>>8&65280)+((65280&S)<<8)+((255&S)<<24)}function y(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new s.Buf16(320),this.work=new s.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function k(S){var q;return S&&S.state?(q=S.state,S.total_in=S.total_out=q.total=0,S.msg="",q.wrap&&(S.adler=1&q.wrap),q.mode=g,q.last=0,q.havedict=0,q.dmax=32768,q.head=null,q.hold=0,q.bits=0,q.lencode=q.lendyn=new s.Buf32(u),q.distcode=q.distdyn=new s.Buf32(m),q.sane=1,q.back=-1,w):d}function E(S){var q;return S&&S.state?((q=S.state).wsize=0,q.whave=0,q.wnext=0,k(S)):d}function A(S,q){var v,G;return S&&S.state?(G=S.state,q<0?(v=0,q=-q):(v=1+(q>>4),q<48&&(q&=15)),q&&(q<8||15<q)?d:(G.window!==null&&G.wbits!==q&&(G.window=null),G.wrap=v,G.wbits=q,E(S))):d}function C(S,q){var v,G;return S?(G=new y,(S.state=G).window=null,(v=A(S,q))!==w&&(S.state=null),v):d}var I,F,U=!0;function H(S){if(U){var q;for(I=new s.Buf32(512),F=new s.Buf32(32),q=0;q<144;)S.lens[q++]=8;for(;q<256;)S.lens[q++]=9;for(;q<280;)S.lens[q++]=7;for(;q<288;)S.lens[q++]=8;for(c(p,S.lens,0,288,I,0,S.work,{bits:9}),q=0;q<32;)S.lens[q++]=5;c(h,S.lens,0,32,F,0,S.work,{bits:5}),U=!1}S.lencode=I,S.lenbits=9,S.distcode=F,S.distbits=5}function re(S,q,v,G){var ae,Y=S.state;return Y.window===null&&(Y.wsize=1<<Y.wbits,Y.wnext=0,Y.whave=0,Y.window=new s.Buf8(Y.wsize)),G>=Y.wsize?(s.arraySet(Y.window,q,v-Y.wsize,Y.wsize,0),Y.wnext=0,Y.whave=Y.wsize):(G<(ae=Y.wsize-Y.wnext)&&(ae=G),s.arraySet(Y.window,q,v-G,ae,Y.wnext),(G-=ae)?(s.arraySet(Y.window,q,v-G,G,0),Y.wnext=G,Y.whave=Y.wsize):(Y.wnext+=ae,Y.wnext===Y.wsize&&(Y.wnext=0),Y.whave<Y.wsize&&(Y.whave+=ae))),0}n.inflateReset=E,n.inflateReset2=A,n.inflateResetKeep=k,n.inflateInit=function(S){return C(S,15)},n.inflateInit2=C,n.inflate=function(S,q){var v,G,ae,Y,fe,L,D,$,O,T,b,P,W,ie,Q,ue,me,be,Ve,He,_,X,x,j,R=0,V=new s.Buf8(4),ee=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!S||!S.state||!S.output||!S.input&&S.avail_in!==0)return d;(v=S.state).mode===12&&(v.mode=13),fe=S.next_out,ae=S.output,D=S.avail_out,Y=S.next_in,G=S.input,L=S.avail_in,$=v.hold,O=v.bits,T=L,b=D,X=w;e:for(;;)switch(v.mode){case g:if(v.wrap===0){v.mode=13;break}for(;O<16;){if(L===0)break e;L--,$+=G[Y++]<<O,O+=8}if(2&v.wrap&&$===35615){V[v.check=0]=255&$,V[1]=$>>>8&255,v.check=o(v.check,V,2,0),O=$=0,v.mode=2;break}if(v.flags=0,v.head&&(v.head.done=!1),!(1&v.wrap)||(((255&$)<<8)+($>>8))%31){S.msg="incorrect header check",v.mode=30;break}if((15&$)!=8){S.msg="unknown compression method",v.mode=30;break}if(O-=4,_=8+(15&($>>>=4)),v.wbits===0)v.wbits=_;else if(_>v.wbits){S.msg="invalid window size",v.mode=30;break}v.dmax=1<<_,S.adler=v.check=1,v.mode=512&$?10:12,O=$=0;break;case 2:for(;O<16;){if(L===0)break e;L--,$+=G[Y++]<<O,O+=8}if(v.flags=$,(255&v.flags)!=8){S.msg="unknown compression method",v.mode=30;break}if(57344&v.flags){S.msg="unknown header flags set",v.mode=30;break}v.head&&(v.head.text=$>>8&1),512&v.flags&&(V[0]=255&$,V[1]=$>>>8&255,v.check=o(v.check,V,2,0)),O=$=0,v.mode=3;case 3:for(;O<32;){if(L===0)break e;L--,$+=G[Y++]<<O,O+=8}v.head&&(v.head.time=$),512&v.flags&&(V[0]=255&$,V[1]=$>>>8&255,V[2]=$>>>16&255,V[3]=$>>>24&255,v.check=o(v.check,V,4,0)),O=$=0,v.mode=4;case 4:for(;O<16;){if(L===0)break e;L--,$+=G[Y++]<<O,O+=8}v.head&&(v.head.xflags=255&$,v.head.os=$>>8),512&v.flags&&(V[0]=255&$,V[1]=$>>>8&255,v.check=o(v.check,V,2,0)),O=$=0,v.mode=5;case 5:if(1024&v.flags){for(;O<16;){if(L===0)break e;L--,$+=G[Y++]<<O,O+=8}v.length=$,v.head&&(v.head.extra_len=$),512&v.flags&&(V[0]=255&$,V[1]=$>>>8&255,v.check=o(v.check,V,2,0)),O=$=0}else v.head&&(v.head.extra=null);v.mode=6;case 6:if(1024&v.flags&&(L<(P=v.length)&&(P=L),P&&(v.head&&(_=v.head.extra_len-v.length,v.head.extra||(v.head.extra=new Array(v.head.extra_len)),s.arraySet(v.head.extra,G,Y,P,_)),512&v.flags&&(v.check=o(v.check,G,P,Y)),L-=P,Y+=P,v.length-=P),v.length))break e;v.length=0,v.mode=7;case 7:if(2048&v.flags){if(L===0)break e;for(P=0;_=G[Y+P++],v.head&&_&&v.length<65536&&(v.head.name+=String.fromCharCode(_)),_&&P<L;);if(512&v.flags&&(v.check=o(v.check,G,P,Y)),L-=P,Y+=P,_)break e}else v.head&&(v.head.name=null);v.length=0,v.mode=8;case 8:if(4096&v.flags){if(L===0)break e;for(P=0;_=G[Y+P++],v.head&&_&&v.length<65536&&(v.head.comment+=String.fromCharCode(_)),_&&P<L;);if(512&v.flags&&(v.check=o(v.check,G,P,Y)),L-=P,Y+=P,_)break e}else v.head&&(v.head.comment=null);v.mode=9;case 9:if(512&v.flags){for(;O<16;){if(L===0)break e;L--,$+=G[Y++]<<O,O+=8}if($!==(65535&v.check)){S.msg="header crc mismatch",v.mode=30;break}O=$=0}v.head&&(v.head.hcrc=v.flags>>9&1,v.head.done=!0),S.adler=v.check=0,v.mode=12;break;case 10:for(;O<32;){if(L===0)break e;L--,$+=G[Y++]<<O,O+=8}S.adler=v.check=f($),O=$=0,v.mode=11;case 11:if(v.havedict===0)return S.next_out=fe,S.avail_out=D,S.next_in=Y,S.avail_in=L,v.hold=$,v.bits=O,2;S.adler=v.check=1,v.mode=12;case 12:if(q===5||q===6)break e;case 13:if(v.last){$>>>=7&O,O-=7&O,v.mode=27;break}for(;O<3;){if(L===0)break e;L--,$+=G[Y++]<<O,O+=8}switch(v.last=1&$,O-=1,3&($>>>=1)){case 0:v.mode=14;break;case 1:if(H(v),v.mode=20,q!==6)break;$>>>=2,O-=2;break e;case 2:v.mode=17;break;case 3:S.msg="invalid block type",v.mode=30}$>>>=2,O-=2;break;case 14:for($>>>=7&O,O-=7&O;O<32;){if(L===0)break e;L--,$+=G[Y++]<<O,O+=8}if((65535&$)!=($>>>16^65535)){S.msg="invalid stored block lengths",v.mode=30;break}if(v.length=65535&$,O=$=0,v.mode=15,q===6)break e;case 15:v.mode=16;case 16:if(P=v.length){if(L<P&&(P=L),D<P&&(P=D),P===0)break e;s.arraySet(ae,G,Y,P,fe),L-=P,Y+=P,D-=P,fe+=P,v.length-=P;break}v.mode=12;break;case 17:for(;O<14;){if(L===0)break e;L--,$+=G[Y++]<<O,O+=8}if(v.nlen=257+(31&$),$>>>=5,O-=5,v.ndist=1+(31&$),$>>>=5,O-=5,v.ncode=4+(15&$),$>>>=4,O-=4,286<v.nlen||30<v.ndist){S.msg="too many length or distance symbols",v.mode=30;break}v.have=0,v.mode=18;case 18:for(;v.have<v.ncode;){for(;O<3;){if(L===0)break e;L--,$+=G[Y++]<<O,O+=8}v.lens[ee[v.have++]]=7&$,$>>>=3,O-=3}for(;v.have<19;)v.lens[ee[v.have++]]=0;if(v.lencode=v.lendyn,v.lenbits=7,x={bits:v.lenbits},X=c(0,v.lens,0,19,v.lencode,0,v.work,x),v.lenbits=x.bits,X){S.msg="invalid code lengths set",v.mode=30;break}v.have=0,v.mode=19;case 19:for(;v.have<v.nlen+v.ndist;){for(;ue=(R=v.lencode[$&(1<<v.lenbits)-1])>>>16&255,me=65535&R,!((Q=R>>>24)<=O);){if(L===0)break e;L--,$+=G[Y++]<<O,O+=8}if(me<16)$>>>=Q,O-=Q,v.lens[v.have++]=me;else{if(me===16){for(j=Q+2;O<j;){if(L===0)break e;L--,$+=G[Y++]<<O,O+=8}if($>>>=Q,O-=Q,v.have===0){S.msg="invalid bit length repeat",v.mode=30;break}_=v.lens[v.have-1],P=3+(3&$),$>>>=2,O-=2}else if(me===17){for(j=Q+3;O<j;){if(L===0)break e;L--,$+=G[Y++]<<O,O+=8}O-=Q,_=0,P=3+(7&($>>>=Q)),$>>>=3,O-=3}else{for(j=Q+7;O<j;){if(L===0)break e;L--,$+=G[Y++]<<O,O+=8}O-=Q,_=0,P=11+(127&($>>>=Q)),$>>>=7,O-=7}if(v.have+P>v.nlen+v.ndist){S.msg="invalid bit length repeat",v.mode=30;break}for(;P--;)v.lens[v.have++]=_}}if(v.mode===30)break;if(v.lens[256]===0){S.msg="invalid code -- missing end-of-block",v.mode=30;break}if(v.lenbits=9,x={bits:v.lenbits},X=c(p,v.lens,0,v.nlen,v.lencode,0,v.work,x),v.lenbits=x.bits,X){S.msg="invalid literal/lengths set",v.mode=30;break}if(v.distbits=6,v.distcode=v.distdyn,x={bits:v.distbits},X=c(h,v.lens,v.nlen,v.ndist,v.distcode,0,v.work,x),v.distbits=x.bits,X){S.msg="invalid distances set",v.mode=30;break}if(v.mode=20,q===6)break e;case 20:v.mode=21;case 21:if(6<=L&&258<=D){S.next_out=fe,S.avail_out=D,S.next_in=Y,S.avail_in=L,v.hold=$,v.bits=O,l(S,b),fe=S.next_out,ae=S.output,D=S.avail_out,Y=S.next_in,G=S.input,L=S.avail_in,$=v.hold,O=v.bits,v.mode===12&&(v.back=-1);break}for(v.back=0;ue=(R=v.lencode[$&(1<<v.lenbits)-1])>>>16&255,me=65535&R,!((Q=R>>>24)<=O);){if(L===0)break e;L--,$+=G[Y++]<<O,O+=8}if(ue&&!(240&ue)){for(be=Q,Ve=ue,He=me;ue=(R=v.lencode[He+(($&(1<<be+Ve)-1)>>be)])>>>16&255,me=65535&R,!(be+(Q=R>>>24)<=O);){if(L===0)break e;L--,$+=G[Y++]<<O,O+=8}$>>>=be,O-=be,v.back+=be}if($>>>=Q,O-=Q,v.back+=Q,v.length=me,ue===0){v.mode=26;break}if(32&ue){v.back=-1,v.mode=12;break}if(64&ue){S.msg="invalid literal/length code",v.mode=30;break}v.extra=15&ue,v.mode=22;case 22:if(v.extra){for(j=v.extra;O<j;){if(L===0)break e;L--,$+=G[Y++]<<O,O+=8}v.length+=$&(1<<v.extra)-1,$>>>=v.extra,O-=v.extra,v.back+=v.extra}v.was=v.length,v.mode=23;case 23:for(;ue=(R=v.distcode[$&(1<<v.distbits)-1])>>>16&255,me=65535&R,!((Q=R>>>24)<=O);){if(L===0)break e;L--,$+=G[Y++]<<O,O+=8}if(!(240&ue)){for(be=Q,Ve=ue,He=me;ue=(R=v.distcode[He+(($&(1<<be+Ve)-1)>>be)])>>>16&255,me=65535&R,!(be+(Q=R>>>24)<=O);){if(L===0)break e;L--,$+=G[Y++]<<O,O+=8}$>>>=be,O-=be,v.back+=be}if($>>>=Q,O-=Q,v.back+=Q,64&ue){S.msg="invalid distance code",v.mode=30;break}v.offset=me,v.extra=15&ue,v.mode=24;case 24:if(v.extra){for(j=v.extra;O<j;){if(L===0)break e;L--,$+=G[Y++]<<O,O+=8}v.offset+=$&(1<<v.extra)-1,$>>>=v.extra,O-=v.extra,v.back+=v.extra}if(v.offset>v.dmax){S.msg="invalid distance too far back",v.mode=30;break}v.mode=25;case 25:if(D===0)break e;if(P=b-D,v.offset>P){if((P=v.offset-P)>v.whave&&v.sane){S.msg="invalid distance too far back",v.mode=30;break}W=P>v.wnext?(P-=v.wnext,v.wsize-P):v.wnext-P,P>v.length&&(P=v.length),ie=v.window}else ie=ae,W=fe-v.offset,P=v.length;for(D<P&&(P=D),D-=P,v.length-=P;ae[fe++]=ie[W++],--P;);v.length===0&&(v.mode=21);break;case 26:if(D===0)break e;ae[fe++]=v.length,D--,v.mode=21;break;case 27:if(v.wrap){for(;O<32;){if(L===0)break e;L--,$|=G[Y++]<<O,O+=8}if(b-=D,S.total_out+=b,v.total+=b,b&&(S.adler=v.check=v.flags?o(v.check,ae,b,fe-b):a(v.check,ae,b,fe-b)),b=D,(v.flags?$:f($))!==v.check){S.msg="incorrect data check",v.mode=30;break}O=$=0}v.mode=28;case 28:if(v.wrap&&v.flags){for(;O<32;){if(L===0)break e;L--,$+=G[Y++]<<O,O+=8}if($!==(4294967295&v.total)){S.msg="incorrect length check",v.mode=30;break}O=$=0}v.mode=29;case 29:X=1;break e;case 30:X=-3;break e;case 31:return-4;case 32:default:return d}return S.next_out=fe,S.avail_out=D,S.next_in=Y,S.avail_in=L,v.hold=$,v.bits=O,(v.wsize||b!==S.avail_out&&v.mode<30&&(v.mode<27||q!==4))&&re(S,S.output,S.next_out,b-S.avail_out)?(v.mode=31,-4):(T-=S.avail_in,b-=S.avail_out,S.total_in+=T,S.total_out+=b,v.total+=b,v.wrap&&b&&(S.adler=v.check=v.flags?o(v.check,ae,b,S.next_out-b):a(v.check,ae,b,S.next_out-b)),S.data_type=v.bits+(v.last?64:0)+(v.mode===12?128:0)+(v.mode===20||v.mode===15?256:0),(T==0&&b===0||q===4)&&X===w&&(X=-5),X)},n.inflateEnd=function(S){if(!S||!S.state)return d;var q=S.state;return q.window&&(q.window=null),S.state=null,w},n.inflateGetHeader=function(S,q){var v;return S&&S.state&&2&(v=S.state).wrap?((v.head=q).done=!1,w):d},n.inflateSetDictionary=function(S,q){var v,G=q.length;return S&&S.state?(v=S.state).wrap!==0&&v.mode!==11?d:v.mode===11&&a(1,q,G,0)!==v.check?-3:re(S,q,G,G)?(v.mode=31,-4):(v.havedict=1,w):d},n.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(r,i,n){var s=r("../utils/common"),a=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],o=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],l=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],c=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];i.exports=function(p,h,w,d,g,u,m,f){var y,k,E,A,C,I,F,U,H,re=f.bits,S=0,q=0,v=0,G=0,ae=0,Y=0,fe=0,L=0,D=0,$=0,O=null,T=0,b=new s.Buf16(16),P=new s.Buf16(16),W=null,ie=0;for(S=0;S<=15;S++)b[S]=0;for(q=0;q<d;q++)b[h[w+q]]++;for(ae=re,G=15;1<=G&&b[G]===0;G--);if(G<ae&&(ae=G),G===0)return g[u++]=20971520,g[u++]=20971520,f.bits=1,0;for(v=1;v<G&&b[v]===0;v++);for(ae<v&&(ae=v),S=L=1;S<=15;S++)if(L<<=1,(L-=b[S])<0)return-1;if(0<L&&(p===0||G!==1))return-1;for(P[1]=0,S=1;S<15;S++)P[S+1]=P[S]+b[S];for(q=0;q<d;q++)h[w+q]!==0&&(m[P[h[w+q]]++]=q);if(I=p===0?(O=W=m,19):p===1?(O=a,T-=257,W=o,ie-=257,256):(O=l,W=c,-1),S=v,C=u,fe=q=$=0,E=-1,A=(D=1<<(Y=ae))-1,p===1&&852<D||p===2&&592<D)return 1;for(;;){for(F=S-fe,H=m[q]<I?(U=0,m[q]):m[q]>I?(U=W[ie+m[q]],O[T+m[q]]):(U=96,0),y=1<<S-fe,v=k=1<<Y;g[C+($>>fe)+(k-=y)]=F<<24|U<<16|H|0,k!==0;);for(y=1<<S-1;$&y;)y>>=1;if(y!==0?($&=y-1,$+=y):$=0,q++,--b[S]==0){if(S===G)break;S=h[w+m[q]]}if(ae<S&&($&A)!==E){for(fe===0&&(fe=ae),C+=v,L=1<<(Y=S-fe);Y+fe<G&&!((L-=b[Y+fe])<=0);)Y++,L<<=1;if(D+=1<<Y,p===1&&852<D||p===2&&592<D)return 1;g[E=$&A]=ae<<24|Y<<16|C-u|0}}return $!==0&&(g[C+$]=S-fe<<24|64<<16|0),f.bits=ae,0}},{"../utils/common":41}],51:[function(r,i,n){i.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(r,i,n){var s=r("../utils/common"),a=0,o=1;function l(R){for(var V=R.length;0<=--V;)R[V]=0}var c=0,p=29,h=256,w=h+1+p,d=30,g=19,u=2*w+1,m=15,f=16,y=7,k=256,E=16,A=17,C=18,I=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],F=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],U=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],H=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],re=new Array(2*(w+2));l(re);var S=new Array(2*d);l(S);var q=new Array(512);l(q);var v=new Array(256);l(v);var G=new Array(p);l(G);var ae,Y,fe,L=new Array(d);function D(R,V,ee,te,K){this.static_tree=R,this.extra_bits=V,this.extra_base=ee,this.elems=te,this.max_length=K,this.has_stree=R&&R.length}function $(R,V){this.dyn_tree=R,this.max_code=0,this.stat_desc=V}function O(R){return R<256?q[R]:q[256+(R>>>7)]}function T(R,V){R.pending_buf[R.pending++]=255&V,R.pending_buf[R.pending++]=V>>>8&255}function b(R,V,ee){R.bi_valid>f-ee?(R.bi_buf|=V<<R.bi_valid&65535,T(R,R.bi_buf),R.bi_buf=V>>f-R.bi_valid,R.bi_valid+=ee-f):(R.bi_buf|=V<<R.bi_valid&65535,R.bi_valid+=ee)}function P(R,V,ee){b(R,ee[2*V],ee[2*V+1])}function W(R,V){for(var ee=0;ee|=1&R,R>>>=1,ee<<=1,0<--V;);return ee>>>1}function ie(R,V,ee){var te,K,ne=new Array(m+1),ce=0;for(te=1;te<=m;te++)ne[te]=ce=ce+ee[te-1]<<1;for(K=0;K<=V;K++){var oe=R[2*K+1];oe!==0&&(R[2*K]=W(ne[oe]++,oe))}}function Q(R){var V;for(V=0;V<w;V++)R.dyn_ltree[2*V]=0;for(V=0;V<d;V++)R.dyn_dtree[2*V]=0;for(V=0;V<g;V++)R.bl_tree[2*V]=0;R.dyn_ltree[2*k]=1,R.opt_len=R.static_len=0,R.last_lit=R.matches=0}function ue(R){8<R.bi_valid?T(R,R.bi_buf):0<R.bi_valid&&(R.pending_buf[R.pending++]=R.bi_buf),R.bi_buf=0,R.bi_valid=0}function me(R,V,ee,te){var K=2*V,ne=2*ee;return R[K]<R[ne]||R[K]===R[ne]&&te[V]<=te[ee]}function be(R,V,ee){for(var te=R.heap[ee],K=ee<<1;K<=R.heap_len&&(K<R.heap_len&&me(V,R.heap[K+1],R.heap[K],R.depth)&&K++,!me(V,te,R.heap[K],R.depth));)R.heap[ee]=R.heap[K],ee=K,K<<=1;R.heap[ee]=te}function Ve(R,V,ee){var te,K,ne,ce,oe=0;if(R.last_lit!==0)for(;te=R.pending_buf[R.d_buf+2*oe]<<8|R.pending_buf[R.d_buf+2*oe+1],K=R.pending_buf[R.l_buf+oe],oe++,te===0?P(R,K,V):(P(R,(ne=v[K])+h+1,V),(ce=I[ne])!==0&&b(R,K-=G[ne],ce),P(R,ne=O(--te),ee),(ce=F[ne])!==0&&b(R,te-=L[ne],ce)),oe<R.last_lit;);P(R,k,V)}function He(R,V){var ee,te,K,ne=V.dyn_tree,ce=V.stat_desc.static_tree,oe=V.stat_desc.has_stree,ge=V.stat_desc.elems,Te=-1;for(R.heap_len=0,R.heap_max=u,ee=0;ee<ge;ee++)ne[2*ee]!==0?(R.heap[++R.heap_len]=Te=ee,R.depth[ee]=0):ne[2*ee+1]=0;for(;R.heap_len<2;)ne[2*(K=R.heap[++R.heap_len]=Te<2?++Te:0)]=1,R.depth[K]=0,R.opt_len--,oe&&(R.static_len-=ce[2*K+1]);for(V.max_code=Te,ee=R.heap_len>>1;1<=ee;ee--)be(R,ne,ee);for(K=ge;ee=R.heap[1],R.heap[1]=R.heap[R.heap_len--],be(R,ne,1),te=R.heap[1],R.heap[--R.heap_max]=ee,R.heap[--R.heap_max]=te,ne[2*K]=ne[2*ee]+ne[2*te],R.depth[K]=(R.depth[ee]>=R.depth[te]?R.depth[ee]:R.depth[te])+1,ne[2*ee+1]=ne[2*te+1]=K,R.heap[1]=K++,be(R,ne,1),2<=R.heap_len;);R.heap[--R.heap_max]=R.heap[1],function(Ae,Fe){var at,ot,Lt,De,xt,$r,ct=Fe.dyn_tree,lt=Fe.max_code,An=Fe.stat_desc.static_tree,Cn=Fe.stat_desc.has_stree,Pn=Fe.stat_desc.extra_bits,Wr=Fe.stat_desc.extra_base,Zt=Fe.stat_desc.max_length,ar=0;for(De=0;De<=m;De++)Ae.bl_count[De]=0;for(ct[2*Ae.heap[Ae.heap_max]+1]=0,at=Ae.heap_max+1;at<u;at++)Zt<(De=ct[2*ct[2*(ot=Ae.heap[at])+1]+1]+1)&&(De=Zt,ar++),ct[2*ot+1]=De,lt<ot||(Ae.bl_count[De]++,xt=0,Wr<=ot&&(xt=Pn[ot-Wr]),$r=ct[2*ot],Ae.opt_len+=$r*(De+xt),Cn&&(Ae.static_len+=$r*(An[2*ot+1]+xt)));if(ar!==0){do{for(De=Zt-1;Ae.bl_count[De]===0;)De--;Ae.bl_count[De]--,Ae.bl_count[De+1]+=2,Ae.bl_count[Zt]--,ar-=2}while(0<ar);for(De=Zt;De!==0;De--)for(ot=Ae.bl_count[De];ot!==0;)lt<(Lt=Ae.heap[--at])||(ct[2*Lt+1]!==De&&(Ae.opt_len+=(De-ct[2*Lt+1])*ct[2*Lt],ct[2*Lt+1]=De),ot--)}}(R,V),ie(ne,Te,R.bl_count)}function _(R,V,ee){var te,K,ne=-1,ce=V[1],oe=0,ge=7,Te=4;for(ce===0&&(ge=138,Te=3),V[2*(ee+1)+1]=65535,te=0;te<=ee;te++)K=ce,ce=V[2*(te+1)+1],++oe<ge&&K===ce||(oe<Te?R.bl_tree[2*K]+=oe:K!==0?(K!==ne&&R.bl_tree[2*K]++,R.bl_tree[2*E]++):oe<=10?R.bl_tree[2*A]++:R.bl_tree[2*C]++,ne=K,Te=(oe=0)===ce?(ge=138,3):K===ce?(ge=6,3):(ge=7,4))}function X(R,V,ee){var te,K,ne=-1,ce=V[1],oe=0,ge=7,Te=4;for(ce===0&&(ge=138,Te=3),te=0;te<=ee;te++)if(K=ce,ce=V[2*(te+1)+1],!(++oe<ge&&K===ce)){if(oe<Te)for(;P(R,K,R.bl_tree),--oe!=0;);else K!==0?(K!==ne&&(P(R,K,R.bl_tree),oe--),P(R,E,R.bl_tree),b(R,oe-3,2)):oe<=10?(P(R,A,R.bl_tree),b(R,oe-3,3)):(P(R,C,R.bl_tree),b(R,oe-11,7));ne=K,Te=(oe=0)===ce?(ge=138,3):K===ce?(ge=6,3):(ge=7,4)}}l(L);var x=!1;function j(R,V,ee,te){b(R,(c<<1)+(te?1:0),3),function(K,ne,ce,oe){ue(K),oe&&(T(K,ce),T(K,~ce)),s.arraySet(K.pending_buf,K.window,ne,ce,K.pending),K.pending+=ce}(R,V,ee,!0)}n._tr_init=function(R){x||(function(){var V,ee,te,K,ne,ce=new Array(m+1);for(K=te=0;K<p-1;K++)for(G[K]=te,V=0;V<1<<I[K];V++)v[te++]=K;for(v[te-1]=K,K=ne=0;K<16;K++)for(L[K]=ne,V=0;V<1<<F[K];V++)q[ne++]=K;for(ne>>=7;K<d;K++)for(L[K]=ne<<7,V=0;V<1<<F[K]-7;V++)q[256+ne++]=K;for(ee=0;ee<=m;ee++)ce[ee]=0;for(V=0;V<=143;)re[2*V+1]=8,V++,ce[8]++;for(;V<=255;)re[2*V+1]=9,V++,ce[9]++;for(;V<=279;)re[2*V+1]=7,V++,ce[7]++;for(;V<=287;)re[2*V+1]=8,V++,ce[8]++;for(ie(re,w+1,ce),V=0;V<d;V++)S[2*V+1]=5,S[2*V]=W(V,5);ae=new D(re,I,h+1,w,m),Y=new D(S,F,0,d,m),fe=new D(new Array(0),U,0,g,y)}(),x=!0),R.l_desc=new $(R.dyn_ltree,ae),R.d_desc=new $(R.dyn_dtree,Y),R.bl_desc=new $(R.bl_tree,fe),R.bi_buf=0,R.bi_valid=0,Q(R)},n._tr_stored_block=j,n._tr_flush_block=function(R,V,ee,te){var K,ne,ce=0;0<R.level?(R.strm.data_type===2&&(R.strm.data_type=function(oe){var ge,Te=4093624447;for(ge=0;ge<=31;ge++,Te>>>=1)if(1&Te&&oe.dyn_ltree[2*ge]!==0)return a;if(oe.dyn_ltree[18]!==0||oe.dyn_ltree[20]!==0||oe.dyn_ltree[26]!==0)return o;for(ge=32;ge<h;ge++)if(oe.dyn_ltree[2*ge]!==0)return o;return a}(R)),He(R,R.l_desc),He(R,R.d_desc),ce=function(oe){var ge;for(_(oe,oe.dyn_ltree,oe.l_desc.max_code),_(oe,oe.dyn_dtree,oe.d_desc.max_code),He(oe,oe.bl_desc),ge=g-1;3<=ge&&oe.bl_tree[2*H[ge]+1]===0;ge--);return oe.opt_len+=3*(ge+1)+5+5+4,ge}(R),K=R.opt_len+3+7>>>3,(ne=R.static_len+3+7>>>3)<=K&&(K=ne)):K=ne=ee+5,ee+4<=K&&V!==-1?j(R,V,ee,te):R.strategy===4||ne===K?(b(R,2+(te?1:0),3),Ve(R,re,S)):(b(R,4+(te?1:0),3),function(oe,ge,Te,Ae){var Fe;for(b(oe,ge-257,5),b(oe,Te-1,5),b(oe,Ae-4,4),Fe=0;Fe<Ae;Fe++)b(oe,oe.bl_tree[2*H[Fe]+1],3);X(oe,oe.dyn_ltree,ge-1),X(oe,oe.dyn_dtree,Te-1)}(R,R.l_desc.max_code+1,R.d_desc.max_code+1,ce+1),Ve(R,R.dyn_ltree,R.dyn_dtree)),Q(R),te&&ue(R)},n._tr_tally=function(R,V,ee){return R.pending_buf[R.d_buf+2*R.last_lit]=V>>>8&255,R.pending_buf[R.d_buf+2*R.last_lit+1]=255&V,R.pending_buf[R.l_buf+R.last_lit]=255&ee,R.last_lit++,V===0?R.dyn_ltree[2*ee]++:(R.matches++,V--,R.dyn_ltree[2*(v[ee]+h+1)]++,R.dyn_dtree[2*O(V)]++),R.last_lit===R.lit_bufsize-1},n._tr_align=function(R){b(R,2,3),P(R,k,re),function(V){V.bi_valid===16?(T(V,V.bi_buf),V.bi_buf=0,V.bi_valid=0):8<=V.bi_valid&&(V.pending_buf[V.pending++]=255&V.bi_buf,V.bi_buf>>=8,V.bi_valid-=8)}(R)}},{"../utils/common":41}],53:[function(r,i,n){i.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(r,i,n){(function(s){(function(a,o){if(!a.setImmediate){var l,c,p,h,w=1,d={},g=!1,u=a.document,m=Object.getPrototypeOf&&Object.getPrototypeOf(a);m=m&&m.setTimeout?m:a,l={}.toString.call(a.process)==="[object process]"?function(E){process.nextTick(function(){y(E)})}:function(){if(a.postMessage&&!a.importScripts){var E=!0,A=a.onmessage;return a.onmessage=function(){E=!1},a.postMessage("","*"),a.onmessage=A,E}}()?(h="setImmediate$"+Math.random()+"$",a.addEventListener?a.addEventListener("message",k,!1):a.attachEvent("onmessage",k),function(E){a.postMessage(h+E,"*")}):a.MessageChannel?((p=new MessageChannel).port1.onmessage=function(E){y(E.data)},function(E){p.port2.postMessage(E)}):u&&"onreadystatechange"in u.createElement("script")?(c=u.documentElement,function(E){var A=u.createElement("script");A.onreadystatechange=function(){y(E),A.onreadystatechange=null,c.removeChild(A),A=null},c.appendChild(A)}):function(E){setTimeout(y,0,E)},m.setImmediate=function(E){typeof E!="function"&&(E=new Function(""+E));for(var A=new Array(arguments.length-1),C=0;C<A.length;C++)A[C]=arguments[C+1];var I={callback:E,args:A};return d[w]=I,l(w),w++},m.clearImmediate=f}function f(E){delete d[E]}function y(E){if(g)setTimeout(y,0,E);else{var A=d[E];if(A){g=!0;try{(function(C){var I=C.callback,F=C.args;switch(F.length){case 0:I();break;case 1:I(F[0]);break;case 2:I(F[0],F[1]);break;case 3:I(F[0],F[1],F[2]);break;default:I.apply(o,F)}})(A)}finally{f(E),g=!1}}}}function k(E){E.source===a&&typeof E.data=="string"&&E.data.indexOf(h)===0&&y(+E.data.slice(h.length))}})(typeof self>"u"?s===void 0?this:s:self)}).call(this,typeof Ir<"u"?Ir:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(Jl);const Tr=Kn;var hn={},Yl={get exports(){return hn},set exports(e){hn=e}},ca={},_t={},yr={},Br={},Nn={},Tn={},cs;function pn(){return cs||(cs=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.regexpCode=e.getEsmExportName=e.getProperty=e.safeStringify=e.stringify=e.strConcat=e.addCodeArg=e.str=e._=e.nil=e._Code=e.Name=e.IDENTIFIER=e._CodeOrName=void 0;class t{}e._CodeOrName=t,e.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class r extends t{constructor(y){if(super(),!e.IDENTIFIER.test(y))throw new Error("CodeGen: name must be a valid identifier");this.str=y}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}e.Name=r;class i extends t{constructor(y){super(),this._items=typeof y=="string"?[y]:y}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const y=this._items[0];return y===""||y==='""'}get str(){var y;return(y=this._str)!==null&&y!==void 0?y:this._str=this._items.reduce((k,E)=>`${k}${E}`,"")}get names(){var y;return(y=this._names)!==null&&y!==void 0?y:this._names=this._items.reduce((k,E)=>(E instanceof r&&(k[E.str]=(k[E.str]||0)+1),k),{})}}e._Code=i,e.nil=new i("");function n(f,...y){const k=[f[0]];let E=0;for(;E<y.length;)o(k,y[E]),k.push(f[++E]);return new i(k)}e._=n;const s=new i("+");function a(f,...y){const k=[d(f[0])];let E=0;for(;E<y.length;)k.push(s),o(k,y[E]),k.push(s,d(f[++E]));return l(k),new i(k)}e.str=a;function o(f,y){y instanceof i?f.push(...y._items):y instanceof r?f.push(y):f.push(h(y))}e.addCodeArg=o;function l(f){let y=1;for(;y<f.length-1;){if(f[y]===s){const k=c(f[y-1],f[y+1]);if(k!==void 0){f.splice(y-1,3,k);continue}f[y++]="+"}y++}}function c(f,y){if(y==='""')return f;if(f==='""')return y;if(typeof f=="string")return y instanceof r||f[f.length-1]!=='"'?void 0:typeof y!="string"?`${f.slice(0,-1)}${y}"`:y[0]==='"'?f.slice(0,-1)+y.slice(1):void 0;if(typeof y=="string"&&y[0]==='"'&&!(f instanceof r))return`"${f}${y.slice(1)}`}function p(f,y){return y.emptyStr()?f:f.emptyStr()?y:a`${f}${y}`}e.strConcat=p;function h(f){return typeof f=="number"||typeof f=="boolean"||f===null?f:d(Array.isArray(f)?f.join(","):f)}function w(f){return new i(d(f))}e.stringify=w;function d(f){return JSON.stringify(f).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}e.safeStringify=d;function g(f){return typeof f=="string"&&e.IDENTIFIER.test(f)?new i(`.${f}`):n`[${f}]`}e.getProperty=g;function u(f){if(typeof f=="string"&&e.IDENTIFIER.test(f))return new i(`${f}`);throw new Error(`CodeGen: invalid export name: ${f}, use explicit $id name mapping`)}e.getEsmExportName=u;function m(f){return new i(f.toString())}e.regexpCode=m}(Tn)),Tn}var jn={},us;function fs(){return us||(us=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ValueScope=e.ValueScopeName=e.Scope=e.varKinds=e.UsedValueState=void 0;const t=pn();class r extends Error{constructor(c){super(`CodeGen: "code" for ${c} not defined`),this.value=c.value}}var i;(function(l){l[l.Started=0]="Started",l[l.Completed=1]="Completed"})(i=e.UsedValueState||(e.UsedValueState={})),e.varKinds={const:new t.Name("const"),let:new t.Name("let"),var:new t.Name("var")};class n{constructor({prefixes:c,parent:p}={}){this._names={},this._prefixes=c,this._parent=p}toName(c){return c instanceof t.Name?c:this.name(c)}name(c){return new t.Name(this._newName(c))}_newName(c){const p=this._names[c]||this._nameGroup(c);return`${c}${p.index++}`}_nameGroup(c){var p,h;if(!((h=(p=this._parent)===null||p===void 0?void 0:p._prefixes)===null||h===void 0)&&h.has(c)||this._prefixes&&!this._prefixes.has(c))throw new Error(`CodeGen: prefix "${c}" is not allowed in this scope`);return this._names[c]={prefix:c,index:0}}}e.Scope=n;class s extends t.Name{constructor(c,p){super(p),this.prefix=c}setValue(c,{property:p,itemIndex:h}){this.value=c,this.scopePath=(0,t._)`.${new t.Name(p)}[${h}]`}}e.ValueScopeName=s;const a=(0,t._)`\n`;class o extends n{constructor(c){super(c),this._values={},this._scope=c.scope,this.opts={...c,_n:c.lines?a:t.nil}}get(){return this._scope}name(c){return new s(c,this._newName(c))}value(c,p){var h;if(p.ref===void 0)throw new Error("CodeGen: ref must be passed in value");const w=this.toName(c),{prefix:d}=w,g=(h=p.key)!==null&&h!==void 0?h:p.ref;let u=this._values[d];if(u){const y=u.get(g);if(y)return y}else u=this._values[d]=new Map;u.set(g,w);const m=this._scope[d]||(this._scope[d]=[]),f=m.length;return m[f]=p.ref,w.setValue(p,{property:d,itemIndex:f}),w}getValue(c,p){const h=this._values[c];if(h)return h.get(p)}scopeRefs(c,p=this._values){return this._reduceValues(p,h=>{if(h.scopePath===void 0)throw new Error(`CodeGen: name "${h}" has no value`);return(0,t._)`${c}${h.scopePath}`})}scopeCode(c=this._values,p,h){return this._reduceValues(c,w=>{if(w.value===void 0)throw new Error(`CodeGen: name "${w}" has no value`);return w.value.code},p,h)}_reduceValues(c,p,h={},w){let d=t.nil;for(const g in c){const u=c[g];if(!u)continue;const m=h[g]=h[g]||new Map;u.forEach(f=>{if(m.has(f))return;m.set(f,i.Started);let y=p(f);if(y){const k=this.opts.es5?e.varKinds.var:e.varKinds.const;d=(0,t._)`${d}${k} ${f} = ${y};${this.opts._n}`}else if(y=w==null?void 0:w(f))d=(0,t._)`${d}${y}${this.opts._n}`;else throw new r(f);m.set(f,i.Completed)})}return d}}e.ValueScope=o}(jn)),jn}var ds;function Pe(){return ds||(ds=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.or=e.and=e.not=e.CodeGen=e.operators=e.varKinds=e.ValueScopeName=e.ValueScope=e.Scope=e.Name=e.regexpCode=e.stringify=e.getProperty=e.nil=e.strConcat=e.str=e._=void 0;const t=pn(),r=fs();var i=pn();Object.defineProperty(e,"_",{enumerable:!0,get:function(){return i._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return i.str}}),Object.defineProperty(e,"strConcat",{enumerable:!0,get:function(){return i.strConcat}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return i.nil}}),Object.defineProperty(e,"getProperty",{enumerable:!0,get:function(){return i.getProperty}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return i.stringify}}),Object.defineProperty(e,"regexpCode",{enumerable:!0,get:function(){return i.regexpCode}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return i.Name}});var n=fs();Object.defineProperty(e,"Scope",{enumerable:!0,get:function(){return n.Scope}}),Object.defineProperty(e,"ValueScope",{enumerable:!0,get:function(){return n.ValueScope}}),Object.defineProperty(e,"ValueScopeName",{enumerable:!0,get:function(){return n.ValueScopeName}}),Object.defineProperty(e,"varKinds",{enumerable:!0,get:function(){return n.varKinds}}),e.operators={GT:new t._Code(">"),GTE:new t._Code(">="),LT:new t._Code("<"),LTE:new t._Code("<="),EQ:new t._Code("==="),NEQ:new t._Code("!=="),NOT:new t._Code("!"),OR:new t._Code("||"),AND:new t._Code("&&"),ADD:new t._Code("+")};class s{optimizeNodes(){return this}optimizeNames(b,P){return this}}class a extends s{constructor(b,P,W){super(),this.varKind=b,this.name=P,this.rhs=W}render({es5:b,_n:P}){const W=b?r.varKinds.var:this.varKind,ie=this.rhs===void 0?"":` = ${this.rhs}`;return`${W} ${this.name}${ie};`+P}optimizeNames(b,P){if(b[this.name.str])return this.rhs&&(this.rhs=v(this.rhs,b,P)),this}get names(){return this.rhs instanceof t._CodeOrName?this.rhs.names:{}}}class o extends s{constructor(b,P,W){super(),this.lhs=b,this.rhs=P,this.sideEffects=W}render({_n:b}){return`${this.lhs} = ${this.rhs};`+b}optimizeNames(b,P){if(!(this.lhs instanceof t.Name&&!b[this.lhs.str]&&!this.sideEffects))return this.rhs=v(this.rhs,b,P),this}get names(){const b=this.lhs instanceof t.Name?{}:{...this.lhs.names};return q(b,this.rhs)}}class l extends o{constructor(b,P,W,ie){super(b,W,ie),this.op=P}render({_n:b}){return`${this.lhs} ${this.op}= ${this.rhs};`+b}}class c extends s{constructor(b){super(),this.label=b,this.names={}}render({_n:b}){return`${this.label}:`+b}}class p extends s{constructor(b){super(),this.label=b,this.names={}}render({_n:b}){return`break${this.label?` ${this.label}`:""};`+b}}class h extends s{constructor(b){super(),this.error=b}render({_n:b}){return`throw ${this.error};`+b}get names(){return this.error.names}}class w extends s{constructor(b){super(),this.code=b}render({_n:b}){return`${this.code};`+b}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(b,P){return this.code=v(this.code,b,P),this}get names(){return this.code instanceof t._CodeOrName?this.code.names:{}}}class d extends s{constructor(b=[]){super(),this.nodes=b}render(b){return this.nodes.reduce((P,W)=>P+W.render(b),"")}optimizeNodes(){const{nodes:b}=this;let P=b.length;for(;P--;){const W=b[P].optimizeNodes();Array.isArray(W)?b.splice(P,1,...W):W?b[P]=W:b.splice(P,1)}return b.length>0?this:void 0}optimizeNames(b,P){const{nodes:W}=this;let ie=W.length;for(;ie--;){const Q=W[ie];Q.optimizeNames(b,P)||(G(b,Q.names),W.splice(ie,1))}return W.length>0?this:void 0}get names(){return this.nodes.reduce((b,P)=>S(b,P.names),{})}}class g extends d{render(b){return"{"+b._n+super.render(b)+"}"+b._n}}class u extends d{}class m extends g{}m.kind="else";class f extends g{constructor(b,P){super(P),this.condition=b}render(b){let P=`if(${this.condition})`+super.render(b);return this.else&&(P+="else "+this.else.render(b)),P}optimizeNodes(){super.optimizeNodes();const b=this.condition;if(b===!0)return this.nodes;let P=this.else;if(P){const W=P.optimizeNodes();P=this.else=Array.isArray(W)?new m(W):W}if(P)return b===!1?P instanceof f?P:P.nodes:this.nodes.length?this:new f(ae(b),P instanceof f?[P]:P.nodes);if(!(b===!1||!this.nodes.length))return this}optimizeNames(b,P){var W;if(this.else=(W=this.else)===null||W===void 0?void 0:W.optimizeNames(b,P),!!(super.optimizeNames(b,P)||this.else))return this.condition=v(this.condition,b,P),this}get names(){const b=super.names;return q(b,this.condition),this.else&&S(b,this.else.names),b}}f.kind="if";class y extends g{}y.kind="for";class k extends y{constructor(b){super(),this.iteration=b}render(b){return`for(${this.iteration})`+super.render(b)}optimizeNames(b,P){if(super.optimizeNames(b,P))return this.iteration=v(this.iteration,b,P),this}get names(){return S(super.names,this.iteration.names)}}class E extends y{constructor(b,P,W,ie){super(),this.varKind=b,this.name=P,this.from=W,this.to=ie}render(b){const P=b.es5?r.varKinds.var:this.varKind,{name:W,from:ie,to:Q}=this;return`for(${P} ${W}=${ie}; ${W}<${Q}; ${W}++)`+super.render(b)}get names(){const b=q(super.names,this.from);return q(b,this.to)}}class A extends y{constructor(b,P,W,ie){super(),this.loop=b,this.varKind=P,this.name=W,this.iterable=ie}render(b){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(b)}optimizeNames(b,P){if(super.optimizeNames(b,P))return this.iterable=v(this.iterable,b,P),this}get names(){return S(super.names,this.iterable.names)}}class C extends g{constructor(b,P,W){super(),this.name=b,this.args=P,this.async=W}render(b){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(b)}}C.kind="func";class I extends d{render(b){return"return "+super.render(b)}}I.kind="return";class F extends g{render(b){let P="try"+super.render(b);return this.catch&&(P+=this.catch.render(b)),this.finally&&(P+=this.finally.render(b)),P}optimizeNodes(){var b,P;return super.optimizeNodes(),(b=this.catch)===null||b===void 0||b.optimizeNodes(),(P=this.finally)===null||P===void 0||P.optimizeNodes(),this}optimizeNames(b,P){var W,ie;return super.optimizeNames(b,P),(W=this.catch)===null||W===void 0||W.optimizeNames(b,P),(ie=this.finally)===null||ie===void 0||ie.optimizeNames(b,P),this}get names(){const b=super.names;return this.catch&&S(b,this.catch.names),this.finally&&S(b,this.finally.names),b}}class U extends g{constructor(b){super(),this.error=b}render(b){return`catch(${this.error})`+super.render(b)}}U.kind="catch";class H extends g{render(b){return"finally"+super.render(b)}}H.kind="finally";class re{constructor(b,P={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...P,_n:P.lines?`
`:""},this._extScope=b,this._scope=new r.Scope({parent:b}),this._nodes=[new u]}toString(){return this._root.render(this.opts)}name(b){return this._scope.name(b)}scopeName(b){return this._extScope.name(b)}scopeValue(b,P){const W=this._extScope.value(b,P);return(this._values[W.prefix]||(this._values[W.prefix]=new Set)).add(W),W}getScopeValue(b,P){return this._extScope.getValue(b,P)}scopeRefs(b){return this._extScope.scopeRefs(b,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(b,P,W,ie){const Q=this._scope.toName(P);return W!==void 0&&ie&&(this._constants[Q.str]=W),this._leafNode(new a(b,Q,W)),Q}const(b,P,W){return this._def(r.varKinds.const,b,P,W)}let(b,P,W){return this._def(r.varKinds.let,b,P,W)}var(b,P,W){return this._def(r.varKinds.var,b,P,W)}assign(b,P,W){return this._leafNode(new o(b,P,W))}add(b,P){return this._leafNode(new l(b,e.operators.ADD,P))}code(b){return typeof b=="function"?b():b!==t.nil&&this._leafNode(new w(b)),this}object(...b){const P=["{"];for(const[W,ie]of b)P.length>1&&P.push(","),P.push(W),(W!==ie||this.opts.es5)&&(P.push(":"),(0,t.addCodeArg)(P,ie));return P.push("}"),new t._Code(P)}if(b,P,W){if(this._blockNode(new f(b)),P&&W)this.code(P).else().code(W).endIf();else if(P)this.code(P).endIf();else if(W)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(b){return this._elseNode(new f(b))}else(){return this._elseNode(new m)}endIf(){return this._endBlockNode(f,m)}_for(b,P){return this._blockNode(b),P&&this.code(P).endFor(),this}for(b,P){return this._for(new k(b),P)}forRange(b,P,W,ie,Q=this.opts.es5?r.varKinds.var:r.varKinds.let){const ue=this._scope.toName(b);return this._for(new E(Q,ue,P,W),()=>ie(ue))}forOf(b,P,W,ie=r.varKinds.const){const Q=this._scope.toName(b);if(this.opts.es5){const ue=P instanceof t.Name?P:this.var("_arr",P);return this.forRange("_i",0,(0,t._)`${ue}.length`,me=>{this.var(Q,(0,t._)`${ue}[${me}]`),W(Q)})}return this._for(new A("of",ie,Q,P),()=>W(Q))}forIn(b,P,W,ie=this.opts.es5?r.varKinds.var:r.varKinds.const){if(this.opts.ownProperties)return this.forOf(b,(0,t._)`Object.keys(${P})`,W);const Q=this._scope.toName(b);return this._for(new A("in",ie,Q,P),()=>W(Q))}endFor(){return this._endBlockNode(y)}label(b){return this._leafNode(new c(b))}break(b){return this._leafNode(new p(b))}return(b){const P=new I;if(this._blockNode(P),this.code(b),P.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(I)}try(b,P,W){if(!P&&!W)throw new Error('CodeGen: "try" without "catch" and "finally"');const ie=new F;if(this._blockNode(ie),this.code(b),P){const Q=this.name("e");this._currNode=ie.catch=new U(Q),P(Q)}return W&&(this._currNode=ie.finally=new H,this.code(W)),this._endBlockNode(U,H)}throw(b){return this._leafNode(new h(b))}block(b,P){return this._blockStarts.push(this._nodes.length),b&&this.code(b).endBlock(P),this}endBlock(b){const P=this._blockStarts.pop();if(P===void 0)throw new Error("CodeGen: not in self-balancing block");const W=this._nodes.length-P;if(W<0||b!==void 0&&W!==b)throw new Error(`CodeGen: wrong number of nodes: ${W} vs ${b} expected`);return this._nodes.length=P,this}func(b,P=t.nil,W,ie){return this._blockNode(new C(b,P,W)),ie&&this.code(ie).endFunc(),this}endFunc(){return this._endBlockNode(C)}optimize(b=1){for(;b-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(b){return this._currNode.nodes.push(b),this}_blockNode(b){this._currNode.nodes.push(b),this._nodes.push(b)}_endBlockNode(b,P){const W=this._currNode;if(W instanceof b||P&&W instanceof P)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${P?`${b.kind}/${P.kind}`:b.kind}"`)}_elseNode(b){const P=this._currNode;if(!(P instanceof f))throw new Error('CodeGen: "else" without "if"');return this._currNode=P.else=b,this}get _root(){return this._nodes[0]}get _currNode(){const b=this._nodes;return b[b.length-1]}set _currNode(b){const P=this._nodes;P[P.length-1]=b}}e.CodeGen=re;function S(T,b){for(const P in b)T[P]=(T[P]||0)+(b[P]||0);return T}function q(T,b){return b instanceof t._CodeOrName?S(T,b.names):T}function v(T,b,P){if(T instanceof t.Name)return W(T);if(!ie(T))return T;return new t._Code(T._items.reduce((Q,ue)=>(ue instanceof t.Name&&(ue=W(ue)),ue instanceof t._Code?Q.push(...ue._items):Q.push(ue),Q),[]));function W(Q){const ue=P[Q.str];return ue===void 0||b[Q.str]!==1?Q:(delete b[Q.str],ue)}function ie(Q){return Q instanceof t._Code&&Q._items.some(ue=>ue instanceof t.Name&&b[ue.str]===1&&P[ue.str]!==void 0)}}function G(T,b){for(const P in b)T[P]=(T[P]||0)-(b[P]||0)}function ae(T){return typeof T=="boolean"||typeof T=="number"||T===null?!T:(0,t._)`!${O(T)}`}e.not=ae;const Y=$(e.operators.AND);function fe(...T){return T.reduce(Y)}e.and=fe;const L=$(e.operators.OR);function D(...T){return T.reduce(L)}e.or=D;function $(T){return(b,P)=>b===t.nil?P:P===t.nil?b:(0,t._)`${O(b)} ${T} ${O(P)}`}function O(T){return T instanceof t.Name?T:(0,t._)`(${T})`}}(Nn)),Nn}var Ne={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.checkStrictMode=e.getErrorPath=e.Type=e.useFunc=e.setEvaluated=e.evaluatedPropsToName=e.mergeEvaluated=e.eachItem=e.unescapeJsonPointer=e.escapeJsonPointer=e.escapeFragment=e.unescapeFragment=e.schemaRefOrVal=e.schemaHasRulesButRef=e.schemaHasRules=e.checkUnknownRules=e.alwaysValidSchema=e.toHash=void 0;const t=Pe(),r=pn();function i(C){const I={};for(const F of C)I[F]=!0;return I}e.toHash=i;function n(C,I){return typeof I=="boolean"?I:Object.keys(I).length===0?!0:(s(C,I),!a(I,C.self.RULES.all))}e.alwaysValidSchema=n;function s(C,I=C.schema){const{opts:F,self:U}=C;if(!F.strictSchema||typeof I=="boolean")return;const H=U.RULES.keywords;for(const re in I)H[re]||A(C,`unknown keyword: "${re}"`)}e.checkUnknownRules=s;function a(C,I){if(typeof C=="boolean")return!C;for(const F in C)if(I[F])return!0;return!1}e.schemaHasRules=a;function o(C,I){if(typeof C=="boolean")return!C;for(const F in C)if(F!=="$ref"&&I.all[F])return!0;return!1}e.schemaHasRulesButRef=o;function l({topSchemaRef:C,schemaPath:I},F,U,H){if(!H){if(typeof F=="number"||typeof F=="boolean")return F;if(typeof F=="string")return(0,t._)`${F}`}return(0,t._)`${C}${I}${(0,t.getProperty)(U)}`}e.schemaRefOrVal=l;function c(C){return w(decodeURIComponent(C))}e.unescapeFragment=c;function p(C){return encodeURIComponent(h(C))}e.escapeFragment=p;function h(C){return typeof C=="number"?`${C}`:C.replace(/~/g,"~0").replace(/\//g,"~1")}e.escapeJsonPointer=h;function w(C){return C.replace(/~1/g,"/").replace(/~0/g,"~")}e.unescapeJsonPointer=w;function d(C,I){if(Array.isArray(C))for(const F of C)I(F);else I(C)}e.eachItem=d;function g({mergeNames:C,mergeToName:I,mergeValues:F,resultToName:U}){return(H,re,S,q)=>{const v=S===void 0?re:S instanceof t.Name?(re instanceof t.Name?C(H,re,S):I(H,re,S),S):re instanceof t.Name?(I(H,S,re),re):F(re,S);return q===t.Name&&!(v instanceof t.Name)?U(H,v):v}}e.mergeEvaluated={props:g({mergeNames:(C,I,F)=>C.if((0,t._)`${F} !== true && ${I} !== undefined`,()=>{C.if((0,t._)`${I} === true`,()=>C.assign(F,!0),()=>C.assign(F,(0,t._)`${F} || {}`).code((0,t._)`Object.assign(${F}, ${I})`))}),mergeToName:(C,I,F)=>C.if((0,t._)`${F} !== true`,()=>{I===!0?C.assign(F,!0):(C.assign(F,(0,t._)`${F} || {}`),m(C,F,I))}),mergeValues:(C,I)=>C===!0?!0:{...C,...I},resultToName:u}),items:g({mergeNames:(C,I,F)=>C.if((0,t._)`${F} !== true && ${I} !== undefined`,()=>C.assign(F,(0,t._)`${I} === true ? true : ${F} > ${I} ? ${F} : ${I}`)),mergeToName:(C,I,F)=>C.if((0,t._)`${F} !== true`,()=>C.assign(F,I===!0?!0:(0,t._)`${F} > ${I} ? ${F} : ${I}`)),mergeValues:(C,I)=>C===!0?!0:Math.max(C,I),resultToName:(C,I)=>C.var("items",I)})};function u(C,I){if(I===!0)return C.var("props",!0);const F=C.var("props",(0,t._)`{}`);return I!==void 0&&m(C,F,I),F}e.evaluatedPropsToName=u;function m(C,I,F){Object.keys(F).forEach(U=>C.assign((0,t._)`${I}${(0,t.getProperty)(U)}`,!0))}e.setEvaluated=m;const f={};function y(C,I){return C.scopeValue("func",{ref:I,code:f[I.code]||(f[I.code]=new r._Code(I.code))})}e.useFunc=y;var k;(function(C){C[C.Num=0]="Num",C[C.Str=1]="Str"})(k=e.Type||(e.Type={}));function E(C,I,F){if(C instanceof t.Name){const U=I===k.Num;return F?U?(0,t._)`"[" + ${C} + "]"`:(0,t._)`"['" + ${C} + "']"`:U?(0,t._)`"/" + ${C}`:(0,t._)`"/" + ${C}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return F?(0,t.getProperty)(C).toString():"/"+h(C)}e.getErrorPath=E;function A(C,I,F=C.opts.strictSchema){if(F){if(I=`strict mode: ${I}`,F===!0)throw new Error(I);C.self.logger.warn(I)}}e.checkStrictMode=A})(Ne);var Tt={};Object.defineProperty(Tt,"__esModule",{value:!0});const Ye=Pe(),Xl={data:new Ye.Name("data"),valCxt:new Ye.Name("valCxt"),instancePath:new Ye.Name("instancePath"),parentData:new Ye.Name("parentData"),parentDataProperty:new Ye.Name("parentDataProperty"),rootData:new Ye.Name("rootData"),dynamicAnchors:new Ye.Name("dynamicAnchors"),vErrors:new Ye.Name("vErrors"),errors:new Ye.Name("errors"),this:new Ye.Name("this"),self:new Ye.Name("self"),scope:new Ye.Name("scope"),json:new Ye.Name("json"),jsonPos:new Ye.Name("jsonPos"),jsonLen:new Ye.Name("jsonLen"),jsonPart:new Ye.Name("jsonPart")};Tt.default=Xl;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.extendErrors=e.resetErrorsCount=e.reportExtraError=e.reportError=e.keyword$DataError=e.keywordError=void 0;const t=Pe(),r=Ne,i=Tt;e.keywordError={message:({keyword:m})=>(0,t.str)`must pass "${m}" keyword validation`},e.keyword$DataError={message:({keyword:m,schemaType:f})=>f?(0,t.str)`"${m}" keyword must be ${f} ($data)`:(0,t.str)`"${m}" keyword is invalid ($data)`};function n(m,f=e.keywordError,y,k){const{it:E}=m,{gen:A,compositeRule:C,allErrors:I}=E,F=h(m,f,y);k??(C||I)?l(A,F):c(E,(0,t._)`[${F}]`)}e.reportError=n;function s(m,f=e.keywordError,y){const{it:k}=m,{gen:E,compositeRule:A,allErrors:C}=k,I=h(m,f,y);l(E,I),A||C||c(k,i.default.vErrors)}e.reportExtraError=s;function a(m,f){m.assign(i.default.errors,f),m.if((0,t._)`${i.default.vErrors} !== null`,()=>m.if(f,()=>m.assign((0,t._)`${i.default.vErrors}.length`,f),()=>m.assign(i.default.vErrors,null)))}e.resetErrorsCount=a;function o({gen:m,keyword:f,schemaValue:y,data:k,errsCount:E,it:A}){if(E===void 0)throw new Error("ajv implementation error");const C=m.name("err");m.forRange("i",E,i.default.errors,I=>{m.const(C,(0,t._)`${i.default.vErrors}[${I}]`),m.if((0,t._)`${C}.instancePath === undefined`,()=>m.assign((0,t._)`${C}.instancePath`,(0,t.strConcat)(i.default.instancePath,A.errorPath))),m.assign((0,t._)`${C}.schemaPath`,(0,t.str)`${A.errSchemaPath}/${f}`),A.opts.verbose&&(m.assign((0,t._)`${C}.schema`,y),m.assign((0,t._)`${C}.data`,k))})}e.extendErrors=o;function l(m,f){const y=m.const("err",f);m.if((0,t._)`${i.default.vErrors} === null`,()=>m.assign(i.default.vErrors,(0,t._)`[${y}]`),(0,t._)`${i.default.vErrors}.push(${y})`),m.code((0,t._)`${i.default.errors}++`)}function c(m,f){const{gen:y,validateName:k,schemaEnv:E}=m;E.$async?y.throw((0,t._)`new ${m.ValidationError}(${f})`):(y.assign((0,t._)`${k}.errors`,f),y.return(!1))}const p={keyword:new t.Name("keyword"),schemaPath:new t.Name("schemaPath"),params:new t.Name("params"),propertyName:new t.Name("propertyName"),message:new t.Name("message"),schema:new t.Name("schema"),parentSchema:new t.Name("parentSchema")};function h(m,f,y){const{createErrors:k}=m.it;return k===!1?(0,t._)`{}`:w(m,f,y)}function w(m,f,y={}){const{gen:k,it:E}=m,A=[d(E,y),g(m,y)];return u(m,f,A),k.object(...A)}function d({errorPath:m},{instancePath:f}){const y=f?(0,t.str)`${m}${(0,r.getErrorPath)(f,r.Type.Str)}`:m;return[i.default.instancePath,(0,t.strConcat)(i.default.instancePath,y)]}function g({keyword:m,it:{errSchemaPath:f}},{schemaPath:y,parentSchema:k}){let E=k?f:(0,t.str)`${f}/${m}`;return y&&(E=(0,t.str)`${E}${(0,r.getErrorPath)(y,r.Type.Str)}`),[p.schemaPath,E]}function u(m,{params:f,message:y},k){const{keyword:E,data:A,schemaValue:C,it:I}=m,{opts:F,propertyName:U,topSchemaRef:H,schemaPath:re}=I;k.push([p.keyword,E],[p.params,typeof f=="function"?f(m):f||(0,t._)`{}`]),F.messages&&k.push([p.message,typeof y=="function"?y(m):y]),F.verbose&&k.push([p.schema,C],[p.parentSchema,(0,t._)`${H}${re}`],[i.default.data,A]),U&&k.push([p.propertyName,U])}})(Br);Object.defineProperty(yr,"__esModule",{value:!0});yr.boolOrEmptySchema=yr.topBoolOrEmptySchema=void 0;const Ql=Br,ec=Pe(),tc=Tt,rc={message:"boolean schema is false"};function nc(e){const{gen:t,schema:r,validateName:i}=e;r===!1?ua(e,!1):typeof r=="object"&&r.$async===!0?t.return(tc.default.data):(t.assign((0,ec._)`${i}.errors`,null),t.return(!0))}yr.topBoolOrEmptySchema=nc;function ic(e,t){const{gen:r,schema:i}=e;i===!1?(r.var(t,!1),ua(e)):r.var(t,!0)}yr.boolOrEmptySchema=ic;function ua(e,t){const{gen:r,data:i}=e,n={gen:r,keyword:"false schema",data:i,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:e};(0,Ql.reportError)(n,rc,void 0,t)}var Lr={},ir={};Object.defineProperty(ir,"__esModule",{value:!0});ir.getRules=ir.isJSONType=void 0;const sc=["string","number","integer","boolean","null","object","array"],ac=new Set(sc);function oc(e){return typeof e=="string"&&ac.has(e)}ir.isJSONType=oc;function lc(){const e={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...e,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},e.number,e.string,e.array,e.object],post:{rules:[]},all:{},keywords:{}}}ir.getRules=lc;var Ft={};Object.defineProperty(Ft,"__esModule",{value:!0});Ft.shouldUseRule=Ft.shouldUseGroup=Ft.schemaHasRulesForType=void 0;function cc({schema:e,self:t},r){const i=t.RULES.types[r];return i&&i!==!0&&fa(e,i)}Ft.schemaHasRulesForType=cc;function fa(e,t){return t.rules.some(r=>da(e,r))}Ft.shouldUseGroup=fa;function da(e,t){var r;return e[t.keyword]!==void 0||((r=t.definition.implements)===null||r===void 0?void 0:r.some(i=>e[i]!==void 0))}Ft.shouldUseRule=da;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.reportTypeError=e.checkDataTypes=e.checkDataType=e.coerceAndCheckDataType=e.getJSONTypes=e.getSchemaTypes=e.DataType=void 0;const t=ir,r=Ft,i=Br,n=Pe(),s=Ne;var a;(function(k){k[k.Correct=0]="Correct",k[k.Wrong=1]="Wrong"})(a=e.DataType||(e.DataType={}));function o(k){const E=l(k.type);if(E.includes("null")){if(k.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!E.length&&k.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');k.nullable===!0&&E.push("null")}return E}e.getSchemaTypes=o;function l(k){const E=Array.isArray(k)?k:k?[k]:[];if(E.every(t.isJSONType))return E;throw new Error("type must be JSONType or JSONType[]: "+E.join(","))}e.getJSONTypes=l;function c(k,E){const{gen:A,data:C,opts:I}=k,F=h(E,I.coerceTypes),U=E.length>0&&!(F.length===0&&E.length===1&&(0,r.schemaHasRulesForType)(k,E[0]));if(U){const H=u(E,C,I.strictNumbers,a.Wrong);A.if(H,()=>{F.length?w(k,E,F):f(k)})}return U}e.coerceAndCheckDataType=c;const p=new Set(["string","number","integer","boolean","null"]);function h(k,E){return E?k.filter(A=>p.has(A)||E==="array"&&A==="array"):[]}function w(k,E,A){const{gen:C,data:I,opts:F}=k,U=C.let("dataType",(0,n._)`typeof ${I}`),H=C.let("coerced",(0,n._)`undefined`);F.coerceTypes==="array"&&C.if((0,n._)`${U} == 'object' && Array.isArray(${I}) && ${I}.length == 1`,()=>C.assign(I,(0,n._)`${I}[0]`).assign(U,(0,n._)`typeof ${I}`).if(u(E,I,F.strictNumbers),()=>C.assign(H,I))),C.if((0,n._)`${H} !== undefined`);for(const S of A)(p.has(S)||S==="array"&&F.coerceTypes==="array")&&re(S);C.else(),f(k),C.endIf(),C.if((0,n._)`${H} !== undefined`,()=>{C.assign(I,H),d(k,H)});function re(S){switch(S){case"string":C.elseIf((0,n._)`${U} == "number" || ${U} == "boolean"`).assign(H,(0,n._)`"" + ${I}`).elseIf((0,n._)`${I} === null`).assign(H,(0,n._)`""`);return;case"number":C.elseIf((0,n._)`${U} == "boolean" || ${I} === null
              || (${U} == "string" && ${I} && ${I} == +${I})`).assign(H,(0,n._)`+${I}`);return;case"integer":C.elseIf((0,n._)`${U} === "boolean" || ${I} === null
              || (${U} === "string" && ${I} && ${I} == +${I} && !(${I} % 1))`).assign(H,(0,n._)`+${I}`);return;case"boolean":C.elseIf((0,n._)`${I} === "false" || ${I} === 0 || ${I} === null`).assign(H,!1).elseIf((0,n._)`${I} === "true" || ${I} === 1`).assign(H,!0);return;case"null":C.elseIf((0,n._)`${I} === "" || ${I} === 0 || ${I} === false`),C.assign(H,null);return;case"array":C.elseIf((0,n._)`${U} === "string" || ${U} === "number"
              || ${U} === "boolean" || ${I} === null`).assign(H,(0,n._)`[${I}]`)}}}function d({gen:k,parentData:E,parentDataProperty:A},C){k.if((0,n._)`${E} !== undefined`,()=>k.assign((0,n._)`${E}[${A}]`,C))}function g(k,E,A,C=a.Correct){const I=C===a.Correct?n.operators.EQ:n.operators.NEQ;let F;switch(k){case"null":return(0,n._)`${E} ${I} null`;case"array":F=(0,n._)`Array.isArray(${E})`;break;case"object":F=(0,n._)`${E} && typeof ${E} == "object" && !Array.isArray(${E})`;break;case"integer":F=U((0,n._)`!(${E} % 1) && !isNaN(${E})`);break;case"number":F=U();break;default:return(0,n._)`typeof ${E} ${I} ${k}`}return C===a.Correct?F:(0,n.not)(F);function U(H=n.nil){return(0,n.and)((0,n._)`typeof ${E} == "number"`,H,A?(0,n._)`isFinite(${E})`:n.nil)}}e.checkDataType=g;function u(k,E,A,C){if(k.length===1)return g(k[0],E,A,C);let I;const F=(0,s.toHash)(k);if(F.array&&F.object){const U=(0,n._)`typeof ${E} != "object"`;I=F.null?U:(0,n._)`!${E} || ${U}`,delete F.null,delete F.array,delete F.object}else I=n.nil;F.number&&delete F.integer;for(const U in F)I=(0,n.and)(I,g(U,E,A,C));return I}e.checkDataTypes=u;const m={message:({schema:k})=>`must be ${k}`,params:({schema:k,schemaValue:E})=>typeof k=="string"?(0,n._)`{type: ${k}}`:(0,n._)`{type: ${E}}`};function f(k){const E=y(k);(0,i.reportError)(E,m)}e.reportTypeError=f;function y(k){const{gen:E,data:A,schema:C}=k,I=(0,s.schemaRefOrVal)(k,C,"type");return{gen:E,keyword:"type",data:A,schema:C.type,schemaCode:I,schemaValue:I,parentSchema:C,params:{},it:k}}})(Lr);var kn={};Object.defineProperty(kn,"__esModule",{value:!0});kn.assignDefaults=void 0;const fr=Pe(),uc=Ne;function fc(e,t){const{properties:r,items:i}=e.schema;if(t==="object"&&r)for(const n in r)hs(e,n,r[n].default);else t==="array"&&Array.isArray(i)&&i.forEach((n,s)=>hs(e,s,n.default))}kn.assignDefaults=fc;function hs(e,t,r){const{gen:i,compositeRule:n,data:s,opts:a}=e;if(r===void 0)return;const o=(0,fr._)`${s}${(0,fr.getProperty)(t)}`;if(n){(0,uc.checkStrictMode)(e,`default is ignored for: ${o}`);return}let l=(0,fr._)`${o} === undefined`;a.useDefaults==="empty"&&(l=(0,fr._)`${l} || ${o} === null || ${o} === ""`),i.if(l,(0,fr._)`${o} = ${(0,fr.stringify)(r)}`)}var Ot={},Ce={};Object.defineProperty(Ce,"__esModule",{value:!0});Ce.validateUnion=Ce.validateArray=Ce.usePattern=Ce.callValidateCode=Ce.schemaProperties=Ce.allSchemaProperties=Ce.noPropertyInData=Ce.propertyInData=Ce.isOwnProperty=Ce.hasPropFunc=Ce.reportMissingProp=Ce.checkMissingProp=Ce.checkReportMissingProp=void 0;const Ue=Pe(),ii=Ne,qt=Tt,dc=Ne;function hc(e,t){const{gen:r,data:i,it:n}=e;r.if(ai(r,i,t,n.opts.ownProperties),()=>{e.setParams({missingProperty:(0,Ue._)`${t}`},!0),e.error()})}Ce.checkReportMissingProp=hc;function pc({gen:e,data:t,it:{opts:r}},i,n){return(0,Ue.or)(...i.map(s=>(0,Ue.and)(ai(e,t,s,r.ownProperties),(0,Ue._)`${n} = ${s}`)))}Ce.checkMissingProp=pc;function mc(e,t){e.setParams({missingProperty:t},!0),e.error()}Ce.reportMissingProp=mc;function ha(e){return e.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,Ue._)`Object.prototype.hasOwnProperty`})}Ce.hasPropFunc=ha;function si(e,t,r){return(0,Ue._)`${ha(e)}.call(${t}, ${r})`}Ce.isOwnProperty=si;function gc(e,t,r,i){const n=(0,Ue._)`${t}${(0,Ue.getProperty)(r)} !== undefined`;return i?(0,Ue._)`${n} && ${si(e,t,r)}`:n}Ce.propertyInData=gc;function ai(e,t,r,i){const n=(0,Ue._)`${t}${(0,Ue.getProperty)(r)} === undefined`;return i?(0,Ue.or)(n,(0,Ue.not)(si(e,t,r))):n}Ce.noPropertyInData=ai;function pa(e){return e?Object.keys(e).filter(t=>t!=="__proto__"):[]}Ce.allSchemaProperties=pa;function _c(e,t){return pa(t).filter(r=>!(0,ii.alwaysValidSchema)(e,t[r]))}Ce.schemaProperties=_c;function vc({schemaCode:e,data:t,it:{gen:r,topSchemaRef:i,schemaPath:n,errorPath:s},it:a},o,l,c){const p=c?(0,Ue._)`${e}, ${t}, ${i}${n}`:t,h=[[qt.default.instancePath,(0,Ue.strConcat)(qt.default.instancePath,s)],[qt.default.parentData,a.parentData],[qt.default.parentDataProperty,a.parentDataProperty],[qt.default.rootData,qt.default.rootData]];a.opts.dynamicRef&&h.push([qt.default.dynamicAnchors,qt.default.dynamicAnchors]);const w=(0,Ue._)`${p}, ${r.object(...h)}`;return l!==Ue.nil?(0,Ue._)`${o}.call(${l}, ${w})`:(0,Ue._)`${o}(${w})`}Ce.callValidateCode=vc;const yc=(0,Ue._)`new RegExp`;function bc({gen:e,it:{opts:t}},r){const i=t.unicodeRegExp?"u":"",{regExp:n}=t.code,s=n(r,i);return e.scopeValue("pattern",{key:s.toString(),ref:s,code:(0,Ue._)`${n.code==="new RegExp"?yc:(0,dc.useFunc)(e,n)}(${r}, ${i})`})}Ce.usePattern=bc;function wc(e){const{gen:t,data:r,keyword:i,it:n}=e,s=t.name("valid");if(n.allErrors){const o=t.let("valid",!0);return a(()=>t.assign(o,!1)),o}return t.var(s,!0),a(()=>t.break()),s;function a(o){const l=t.const("len",(0,Ue._)`${r}.length`);t.forRange("i",0,l,c=>{e.subschema({keyword:i,dataProp:c,dataPropType:ii.Type.Num},s),t.if((0,Ue.not)(s),o)})}}Ce.validateArray=wc;function kc(e){const{gen:t,schema:r,keyword:i,it:n}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");if(r.some(l=>(0,ii.alwaysValidSchema)(n,l))&&!n.opts.unevaluated)return;const a=t.let("valid",!1),o=t.name("_valid");t.block(()=>r.forEach((l,c)=>{const p=e.subschema({keyword:i,schemaProp:c,compositeRule:!0},o);t.assign(a,(0,Ue._)`${a} || ${o}`),e.mergeValidEvaluated(p,o)||t.if((0,Ue.not)(a))})),e.result(a,()=>e.reset(),()=>e.error(!0))}Ce.validateUnion=kc;Object.defineProperty(Ot,"__esModule",{value:!0});Ot.validateKeywordUsage=Ot.validSchemaType=Ot.funcKeywordCode=Ot.macroKeywordCode=void 0;const et=Pe(),Qt=Tt,$c=Ce,Ec=Br;function Sc(e,t){const{gen:r,keyword:i,schema:n,parentSchema:s,it:a}=e,o=t.macro.call(a.self,n,s,a),l=ma(r,i,o);a.opts.validateSchema!==!1&&a.self.validateSchema(o,!0);const c=r.name("valid");e.subschema({schema:o,schemaPath:et.nil,errSchemaPath:`${a.errSchemaPath}/${i}`,topSchemaRef:l,compositeRule:!0},c),e.pass(c,()=>e.error(!0))}Ot.macroKeywordCode=Sc;function Ac(e,t){var r;const{gen:i,keyword:n,schema:s,parentSchema:a,$data:o,it:l}=e;Pc(l,t);const c=!o&&t.compile?t.compile.call(l.self,s,a,l):t.validate,p=ma(i,n,c),h=i.let("valid");e.block$data(h,w),e.ok((r=t.valid)!==null&&r!==void 0?r:h);function w(){if(t.errors===!1)u(),t.modifying&&ps(e),m(()=>e.error());else{const f=t.async?d():g();t.modifying&&ps(e),m(()=>Cc(e,f))}}function d(){const f=i.let("ruleErrs",null);return i.try(()=>u((0,et._)`await `),y=>i.assign(h,!1).if((0,et._)`${y} instanceof ${l.ValidationError}`,()=>i.assign(f,(0,et._)`${y}.errors`),()=>i.throw(y))),f}function g(){const f=(0,et._)`${p}.errors`;return i.assign(f,null),u(et.nil),f}function u(f=t.async?(0,et._)`await `:et.nil){const y=l.opts.passContext?Qt.default.this:Qt.default.self,k=!("compile"in t&&!o||t.schema===!1);i.assign(h,(0,et._)`${f}${(0,$c.callValidateCode)(e,p,y,k)}`,t.modifying)}function m(f){var y;i.if((0,et.not)((y=t.valid)!==null&&y!==void 0?y:h),f)}}Ot.funcKeywordCode=Ac;function ps(e){const{gen:t,data:r,it:i}=e;t.if(i.parentData,()=>t.assign(r,(0,et._)`${i.parentData}[${i.parentDataProperty}]`))}function Cc(e,t){const{gen:r}=e;r.if((0,et._)`Array.isArray(${t})`,()=>{r.assign(Qt.default.vErrors,(0,et._)`${Qt.default.vErrors} === null ? ${t} : ${Qt.default.vErrors}.concat(${t})`).assign(Qt.default.errors,(0,et._)`${Qt.default.vErrors}.length`),(0,Ec.extendErrors)(e)},()=>e.error())}function Pc({schemaEnv:e},t){if(t.async&&!e.$async)throw new Error("async keyword in sync schema")}function ma(e,t,r){if(r===void 0)throw new Error(`keyword "${t}" failed to compile`);return e.scopeValue("keyword",typeof r=="function"?{ref:r}:{ref:r,code:(0,et.stringify)(r)})}function Oc(e,t,r=!1){return!t.length||t.some(i=>i==="array"?Array.isArray(e):i==="object"?e&&typeof e=="object"&&!Array.isArray(e):typeof e==i||r&&typeof e>"u")}Ot.validSchemaType=Oc;function Ic({schema:e,opts:t,self:r,errSchemaPath:i},n,s){if(Array.isArray(n.keyword)?!n.keyword.includes(s):n.keyword!==s)throw new Error("ajv implementation error");const a=n.dependencies;if(a!=null&&a.some(o=>!Object.prototype.hasOwnProperty.call(e,o)))throw new Error(`parent schema must have dependencies of ${s}: ${a.join(",")}`);if(n.validateSchema&&!n.validateSchema(e[s])){const l=`keyword "${s}" value is invalid at path "${i}": `+r.errorsText(n.validateSchema.errors);if(t.validateSchema==="log")r.logger.error(l);else throw new Error(l)}}Ot.validateKeywordUsage=Ic;var Ht={};Object.defineProperty(Ht,"__esModule",{value:!0});Ht.extendSubschemaMode=Ht.extendSubschemaData=Ht.getSubschema=void 0;const Pt=Pe(),ga=Ne;function Rc(e,{keyword:t,schemaProp:r,schema:i,schemaPath:n,errSchemaPath:s,topSchemaRef:a}){if(t!==void 0&&i!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(t!==void 0){const o=e.schema[t];return r===void 0?{schema:o,schemaPath:(0,Pt._)`${e.schemaPath}${(0,Pt.getProperty)(t)}`,errSchemaPath:`${e.errSchemaPath}/${t}`}:{schema:o[r],schemaPath:(0,Pt._)`${e.schemaPath}${(0,Pt.getProperty)(t)}${(0,Pt.getProperty)(r)}`,errSchemaPath:`${e.errSchemaPath}/${t}/${(0,ga.escapeFragment)(r)}`}}if(i!==void 0){if(n===void 0||s===void 0||a===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:i,schemaPath:n,topSchemaRef:a,errSchemaPath:s}}throw new Error('either "keyword" or "schema" must be passed')}Ht.getSubschema=Rc;function Nc(e,t,{dataProp:r,dataPropType:i,data:n,dataTypes:s,propertyName:a}){if(n!==void 0&&r!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:o}=t;if(r!==void 0){const{errorPath:c,dataPathArr:p,opts:h}=t,w=o.let("data",(0,Pt._)`${t.data}${(0,Pt.getProperty)(r)}`,!0);l(w),e.errorPath=(0,Pt.str)`${c}${(0,ga.getErrorPath)(r,i,h.jsPropertySyntax)}`,e.parentDataProperty=(0,Pt._)`${r}`,e.dataPathArr=[...p,e.parentDataProperty]}if(n!==void 0){const c=n instanceof Pt.Name?n:o.let("data",n,!0);l(c),a!==void 0&&(e.propertyName=a)}s&&(e.dataTypes=s);function l(c){e.data=c,e.dataLevel=t.dataLevel+1,e.dataTypes=[],t.definedProperties=new Set,e.parentData=t.data,e.dataNames=[...t.dataNames,c]}}Ht.extendSubschemaData=Nc;function Tc(e,{jtdDiscriminator:t,jtdMetadata:r,compositeRule:i,createErrors:n,allErrors:s}){i!==void 0&&(e.compositeRule=i),n!==void 0&&(e.createErrors=n),s!==void 0&&(e.allErrors=s),e.jtdDiscriminator=t,e.jtdMetadata=r}Ht.extendSubschemaMode=Tc;var Je={},_a=function e(t,r){if(t===r)return!0;if(t&&r&&typeof t=="object"&&typeof r=="object"){if(t.constructor!==r.constructor)return!1;var i,n,s;if(Array.isArray(t)){if(i=t.length,i!=r.length)return!1;for(n=i;n--!==0;)if(!e(t[n],r[n]))return!1;return!0}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();if(s=Object.keys(t),i=s.length,i!==Object.keys(r).length)return!1;for(n=i;n--!==0;)if(!Object.prototype.hasOwnProperty.call(r,s[n]))return!1;for(n=i;n--!==0;){var a=s[n];if(!e(t[a],r[a]))return!1}return!0}return t!==t&&r!==r},Wn={},jc={get exports(){return Wn},set exports(e){Wn=e}},Gt=jc.exports=function(e,t,r){typeof t=="function"&&(r=t,t={}),r=t.cb||r;var i=typeof r=="function"?r:r.pre||function(){},n=r.post||function(){};an(t,i,n,e,"",e)};Gt.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0};Gt.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0};Gt.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0};Gt.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function an(e,t,r,i,n,s,a,o,l,c){if(i&&typeof i=="object"&&!Array.isArray(i)){t(i,n,s,a,o,l,c);for(var p in i){var h=i[p];if(Array.isArray(h)){if(p in Gt.arrayKeywords)for(var w=0;w<h.length;w++)an(e,t,r,h[w],n+"/"+p+"/"+w,s,n,p,i,w)}else if(p in Gt.propsKeywords){if(h&&typeof h=="object")for(var d in h)an(e,t,r,h[d],n+"/"+p+"/"+Dc(d),s,n,p,i,d)}else(p in Gt.keywords||e.allKeys&&!(p in Gt.skipKeywords))&&an(e,t,r,h,n+"/"+p,s,n,p,i)}r(i,n,s,a,o,l,c)}}function Dc(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}Object.defineProperty(Je,"__esModule",{value:!0});Je.getSchemaRefs=Je.resolveUrl=Je.normalizeId=Je._getFullPath=Je.getFullPath=Je.inlineRef=void 0;const zc=Ne,Fc=_a,Mc=Wn,Uc=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function Bc(e,t=!0){return typeof e=="boolean"?!0:t===!0?!Gn(e):t?va(e)<=t:!1}Je.inlineRef=Bc;const Lc=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function Gn(e){for(const t in e){if(Lc.has(t))return!0;const r=e[t];if(Array.isArray(r)&&r.some(Gn)||typeof r=="object"&&Gn(r))return!0}return!1}function va(e){let t=0;for(const r in e){if(r==="$ref")return 1/0;if(t++,!Uc.has(r)&&(typeof e[r]=="object"&&(0,zc.eachItem)(e[r],i=>t+=va(i)),t===1/0))return 1/0}return t}function ya(e,t="",r){r!==!1&&(t=gr(t));const i=e.parse(t);return ba(e,i)}Je.getFullPath=ya;function ba(e,t){return e.serialize(t).split("#")[0]+"#"}Je._getFullPath=ba;const Vc=/#\/?$/;function gr(e){return e?e.replace(Vc,""):""}Je.normalizeId=gr;function qc(e,t,r){return r=gr(r),e.resolve(t,r)}Je.resolveUrl=qc;const Kc=/^[a-z_][-a-z0-9._]*$/i;function Wc(e,t){if(typeof e=="boolean")return{};const{schemaId:r,uriResolver:i}=this.opts,n=gr(e[r]||t),s={"":n},a=ya(i,n,!1),o={},l=new Set;return Mc(e,{allKeys:!0},(h,w,d,g)=>{if(g===void 0)return;const u=a+w;let m=s[g];typeof h[r]=="string"&&(m=f.call(this,h[r])),y.call(this,h.$anchor),y.call(this,h.$dynamicAnchor),s[w]=m;function f(k){const E=this.opts.uriResolver.resolve;if(k=gr(m?E(m,k):k),l.has(k))throw p(k);l.add(k);let A=this.refs[k];return typeof A=="string"&&(A=this.refs[A]),typeof A=="object"?c(h,A.schema,k):k!==gr(u)&&(k[0]==="#"?(c(h,o[k],k),o[k]=h):this.refs[k]=u),k}function y(k){if(typeof k=="string"){if(!Kc.test(k))throw new Error(`invalid anchor "${k}"`);f.call(this,`#${k}`)}}}),o;function c(h,w,d){if(w!==void 0&&!Fc(h,w))throw p(d)}function p(h){return new Error(`reference "${h}" resolves to more than one schema`)}}Je.getSchemaRefs=Wc;Object.defineProperty(_t,"__esModule",{value:!0});_t.getData=_t.KeywordCxt=_t.validateFunctionCode=void 0;const wa=yr,ms=Lr,oi=Ft,mn=Lr,Gc=kn,jr=Ot,Dn=Ht,_e=Pe(),$e=Tt,Hc=Je,Mt=Ne,Cr=Br;function xc(e){if(Ea(e)&&(Sa(e),$a(e))){Yc(e);return}ka(e,()=>(0,wa.topBoolOrEmptySchema)(e))}_t.validateFunctionCode=xc;function ka({gen:e,validateName:t,schema:r,schemaEnv:i,opts:n},s){n.code.es5?e.func(t,(0,_e._)`${$e.default.data}, ${$e.default.valCxt}`,i.$async,()=>{e.code((0,_e._)`"use strict"; ${gs(r,n)}`),Jc(e,n),e.code(s)}):e.func(t,(0,_e._)`${$e.default.data}, ${Zc(n)}`,i.$async,()=>e.code(gs(r,n)).code(s))}function Zc(e){return(0,_e._)`{${$e.default.instancePath}="", ${$e.default.parentData}, ${$e.default.parentDataProperty}, ${$e.default.rootData}=${$e.default.data}${e.dynamicRef?(0,_e._)`, ${$e.default.dynamicAnchors}={}`:_e.nil}}={}`}function Jc(e,t){e.if($e.default.valCxt,()=>{e.var($e.default.instancePath,(0,_e._)`${$e.default.valCxt}.${$e.default.instancePath}`),e.var($e.default.parentData,(0,_e._)`${$e.default.valCxt}.${$e.default.parentData}`),e.var($e.default.parentDataProperty,(0,_e._)`${$e.default.valCxt}.${$e.default.parentDataProperty}`),e.var($e.default.rootData,(0,_e._)`${$e.default.valCxt}.${$e.default.rootData}`),t.dynamicRef&&e.var($e.default.dynamicAnchors,(0,_e._)`${$e.default.valCxt}.${$e.default.dynamicAnchors}`)},()=>{e.var($e.default.instancePath,(0,_e._)`""`),e.var($e.default.parentData,(0,_e._)`undefined`),e.var($e.default.parentDataProperty,(0,_e._)`undefined`),e.var($e.default.rootData,$e.default.data),t.dynamicRef&&e.var($e.default.dynamicAnchors,(0,_e._)`{}`)})}function Yc(e){const{schema:t,opts:r,gen:i}=e;ka(e,()=>{r.$comment&&t.$comment&&Ca(e),ru(e),i.let($e.default.vErrors,null),i.let($e.default.errors,0),r.unevaluated&&Xc(e),Aa(e),su(e)})}function Xc(e){const{gen:t,validateName:r}=e;e.evaluated=t.const("evaluated",(0,_e._)`${r}.evaluated`),t.if((0,_e._)`${e.evaluated}.dynamicProps`,()=>t.assign((0,_e._)`${e.evaluated}.props`,(0,_e._)`undefined`)),t.if((0,_e._)`${e.evaluated}.dynamicItems`,()=>t.assign((0,_e._)`${e.evaluated}.items`,(0,_e._)`undefined`))}function gs(e,t){const r=typeof e=="object"&&e[t.schemaId];return r&&(t.code.source||t.code.process)?(0,_e._)`/*# sourceURL=${r} */`:_e.nil}function Qc(e,t){if(Ea(e)&&(Sa(e),$a(e))){eu(e,t);return}(0,wa.boolOrEmptySchema)(e,t)}function $a({schema:e,self:t}){if(typeof e=="boolean")return!e;for(const r in e)if(t.RULES.all[r])return!0;return!1}function Ea(e){return typeof e.schema!="boolean"}function eu(e,t){const{schema:r,gen:i,opts:n}=e;n.$comment&&r.$comment&&Ca(e),nu(e),iu(e);const s=i.const("_errs",$e.default.errors);Aa(e,s),i.var(t,(0,_e._)`${s} === ${$e.default.errors}`)}function Sa(e){(0,Mt.checkUnknownRules)(e),tu(e)}function Aa(e,t){if(e.opts.jtd)return _s(e,[],!1,t);const r=(0,ms.getSchemaTypes)(e.schema),i=(0,ms.coerceAndCheckDataType)(e,r);_s(e,r,!i,t)}function tu(e){const{schema:t,errSchemaPath:r,opts:i,self:n}=e;t.$ref&&i.ignoreKeywordsWithRef&&(0,Mt.schemaHasRulesButRef)(t,n.RULES)&&n.logger.warn(`$ref: keywords ignored in schema at path "${r}"`)}function ru(e){const{schema:t,opts:r}=e;t.default!==void 0&&r.useDefaults&&r.strictSchema&&(0,Mt.checkStrictMode)(e,"default is ignored in the schema root")}function nu(e){const t=e.schema[e.opts.schemaId];t&&(e.baseId=(0,Hc.resolveUrl)(e.opts.uriResolver,e.baseId,t))}function iu(e){if(e.schema.$async&&!e.schemaEnv.$async)throw new Error("async schema in sync schema")}function Ca({gen:e,schemaEnv:t,schema:r,errSchemaPath:i,opts:n}){const s=r.$comment;if(n.$comment===!0)e.code((0,_e._)`${$e.default.self}.logger.log(${s})`);else if(typeof n.$comment=="function"){const a=(0,_e.str)`${i}/$comment`,o=e.scopeValue("root",{ref:t.root});e.code((0,_e._)`${$e.default.self}.opts.$comment(${s}, ${a}, ${o}.schema)`)}}function su(e){const{gen:t,schemaEnv:r,validateName:i,ValidationError:n,opts:s}=e;r.$async?t.if((0,_e._)`${$e.default.errors} === 0`,()=>t.return($e.default.data),()=>t.throw((0,_e._)`new ${n}(${$e.default.vErrors})`)):(t.assign((0,_e._)`${i}.errors`,$e.default.vErrors),s.unevaluated&&au(e),t.return((0,_e._)`${$e.default.errors} === 0`))}function au({gen:e,evaluated:t,props:r,items:i}){r instanceof _e.Name&&e.assign((0,_e._)`${t}.props`,r),i instanceof _e.Name&&e.assign((0,_e._)`${t}.items`,i)}function _s(e,t,r,i){const{gen:n,schema:s,data:a,allErrors:o,opts:l,self:c}=e,{RULES:p}=c;if(s.$ref&&(l.ignoreKeywordsWithRef||!(0,Mt.schemaHasRulesButRef)(s,p))){n.block(()=>Ia(e,"$ref",p.all.$ref.definition));return}l.jtd||ou(e,t),n.block(()=>{for(const w of p.rules)h(w);h(p.post)});function h(w){(0,oi.shouldUseGroup)(s,w)&&(w.type?(n.if((0,mn.checkDataType)(w.type,a,l.strictNumbers)),vs(e,w),t.length===1&&t[0]===w.type&&r&&(n.else(),(0,mn.reportTypeError)(e)),n.endIf()):vs(e,w),o||n.if((0,_e._)`${$e.default.errors} === ${i||0}`))}}function vs(e,t){const{gen:r,schema:i,opts:{useDefaults:n}}=e;n&&(0,Gc.assignDefaults)(e,t.type),r.block(()=>{for(const s of t.rules)(0,oi.shouldUseRule)(i,s)&&Ia(e,s.keyword,s.definition,t.type)})}function ou(e,t){e.schemaEnv.meta||!e.opts.strictTypes||(lu(e,t),e.opts.allowUnionTypes||cu(e,t),uu(e,e.dataTypes))}function lu(e,t){if(t.length){if(!e.dataTypes.length){e.dataTypes=t;return}t.forEach(r=>{Pa(e.dataTypes,r)||li(e,`type "${r}" not allowed by context "${e.dataTypes.join(",")}"`)}),du(e,t)}}function cu(e,t){t.length>1&&!(t.length===2&&t.includes("null"))&&li(e,"use allowUnionTypes to allow union type keyword")}function uu(e,t){const r=e.self.RULES.all;for(const i in r){const n=r[i];if(typeof n=="object"&&(0,oi.shouldUseRule)(e.schema,n)){const{type:s}=n.definition;s.length&&!s.some(a=>fu(t,a))&&li(e,`missing type "${s.join(",")}" for keyword "${i}"`)}}}function fu(e,t){return e.includes(t)||t==="number"&&e.includes("integer")}function Pa(e,t){return e.includes(t)||t==="integer"&&e.includes("number")}function du(e,t){const r=[];for(const i of e.dataTypes)Pa(t,i)?r.push(i):t.includes("integer")&&i==="number"&&r.push("integer");e.dataTypes=r}function li(e,t){const r=e.schemaEnv.baseId+e.errSchemaPath;t+=` at "${r}" (strictTypes)`,(0,Mt.checkStrictMode)(e,t,e.opts.strictTypes)}class Oa{constructor(t,r,i){if((0,jr.validateKeywordUsage)(t,r,i),this.gen=t.gen,this.allErrors=t.allErrors,this.keyword=i,this.data=t.data,this.schema=t.schema[i],this.$data=r.$data&&t.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,Mt.schemaRefOrVal)(t,this.schema,i,this.$data),this.schemaType=r.schemaType,this.parentSchema=t.schema,this.params={},this.it=t,this.def=r,this.$data)this.schemaCode=t.gen.const("vSchema",Ra(this.$data,t));else if(this.schemaCode=this.schemaValue,!(0,jr.validSchemaType)(this.schema,r.schemaType,r.allowUndefined))throw new Error(`${i} value must be ${JSON.stringify(r.schemaType)}`);("code"in r?r.trackErrors:r.errors!==!1)&&(this.errsCount=t.gen.const("_errs",$e.default.errors))}result(t,r,i){this.failResult((0,_e.not)(t),r,i)}failResult(t,r,i){this.gen.if(t),i?i():this.error(),r?(this.gen.else(),r(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(t,r){this.failResult((0,_e.not)(t),void 0,r)}fail(t){if(t===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(t),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(t){if(!this.$data)return this.fail(t);const{schemaCode:r}=this;this.fail((0,_e._)`${r} !== undefined && (${(0,_e.or)(this.invalid$data(),t)})`)}error(t,r,i){if(r){this.setParams(r),this._error(t,i),this.setParams({});return}this._error(t,i)}_error(t,r){(t?Cr.reportExtraError:Cr.reportError)(this,this.def.error,r)}$dataError(){(0,Cr.reportError)(this,this.def.$dataError||Cr.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,Cr.resetErrorsCount)(this.gen,this.errsCount)}ok(t){this.allErrors||this.gen.if(t)}setParams(t,r){r?Object.assign(this.params,t):this.params=t}block$data(t,r,i=_e.nil){this.gen.block(()=>{this.check$data(t,i),r()})}check$data(t=_e.nil,r=_e.nil){if(!this.$data)return;const{gen:i,schemaCode:n,schemaType:s,def:a}=this;i.if((0,_e.or)((0,_e._)`${n} === undefined`,r)),t!==_e.nil&&i.assign(t,!0),(s.length||a.validateSchema)&&(i.elseIf(this.invalid$data()),this.$dataError(),t!==_e.nil&&i.assign(t,!1)),i.else()}invalid$data(){const{gen:t,schemaCode:r,schemaType:i,def:n,it:s}=this;return(0,_e.or)(a(),o());function a(){if(i.length){if(!(r instanceof _e.Name))throw new Error("ajv implementation error");const l=Array.isArray(i)?i:[i];return(0,_e._)`${(0,mn.checkDataTypes)(l,r,s.opts.strictNumbers,mn.DataType.Wrong)}`}return _e.nil}function o(){if(n.validateSchema){const l=t.scopeValue("validate$data",{ref:n.validateSchema});return(0,_e._)`!${l}(${r})`}return _e.nil}}subschema(t,r){const i=(0,Dn.getSubschema)(this.it,t);(0,Dn.extendSubschemaData)(i,this.it,t),(0,Dn.extendSubschemaMode)(i,t);const n={...this.it,...i,items:void 0,props:void 0};return Qc(n,r),n}mergeEvaluated(t,r){const{it:i,gen:n}=this;i.opts.unevaluated&&(i.props!==!0&&t.props!==void 0&&(i.props=Mt.mergeEvaluated.props(n,t.props,i.props,r)),i.items!==!0&&t.items!==void 0&&(i.items=Mt.mergeEvaluated.items(n,t.items,i.items,r)))}mergeValidEvaluated(t,r){const{it:i,gen:n}=this;if(i.opts.unevaluated&&(i.props!==!0||i.items!==!0))return n.if(r,()=>this.mergeEvaluated(t,_e.Name)),!0}}_t.KeywordCxt=Oa;function Ia(e,t,r,i){const n=new Oa(e,r,t);"code"in r?r.code(n,i):n.$data&&r.validate?(0,jr.funcKeywordCode)(n,r):"macro"in r?(0,jr.macroKeywordCode)(n,r):(r.compile||r.validate)&&(0,jr.funcKeywordCode)(n,r)}const hu=/^\/(?:[^~]|~0|~1)*$/,pu=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function Ra(e,{dataLevel:t,dataNames:r,dataPathArr:i}){let n,s;if(e==="")return $e.default.rootData;if(e[0]==="/"){if(!hu.test(e))throw new Error(`Invalid JSON-pointer: ${e}`);n=e,s=$e.default.rootData}else{const c=pu.exec(e);if(!c)throw new Error(`Invalid JSON-pointer: ${e}`);const p=+c[1];if(n=c[2],n==="#"){if(p>=t)throw new Error(l("property/index",p));return i[t-p]}if(p>t)throw new Error(l("data",p));if(s=r[t-p],!n)return s}let a=s;const o=n.split("/");for(const c of o)c&&(s=(0,_e._)`${s}${(0,_e.getProperty)((0,Mt.unescapeJsonPointer)(c))}`,a=(0,_e._)`${a} && ${s}`);return a;function l(c,p){return`Cannot access ${c} ${p} levels up, current level is ${t}`}}_t.getData=Ra;var Vr={};Object.defineProperty(Vr,"__esModule",{value:!0});class mu extends Error{constructor(t){super("validation failed"),this.errors=t,this.ajv=this.validation=!0}}Vr.default=mu;var qr={};Object.defineProperty(qr,"__esModule",{value:!0});const zn=Je;class gu extends Error{constructor(t,r,i,n){super(n||`can't resolve reference ${i} from id ${r}`),this.missingRef=(0,zn.resolveUrl)(t,r,i),this.missingSchema=(0,zn.normalizeId)((0,zn.getFullPath)(t,this.missingRef))}}qr.default=gu;var st={};Object.defineProperty(st,"__esModule",{value:!0});st.resolveSchema=st.getCompilingSchema=st.resolveRef=st.compileSchema=st.SchemaEnv=void 0;const pt=Pe(),_u=Vr,Xt=Tt,gt=Je,ys=Ne,vu=_t;class $n{constructor(t){var r;this.refs={},this.dynamicAnchors={};let i;typeof t.schema=="object"&&(i=t.schema),this.schema=t.schema,this.schemaId=t.schemaId,this.root=t.root||this,this.baseId=(r=t.baseId)!==null&&r!==void 0?r:(0,gt.normalizeId)(i==null?void 0:i[t.schemaId||"$id"]),this.schemaPath=t.schemaPath,this.localRefs=t.localRefs,this.meta=t.meta,this.$async=i==null?void 0:i.$async,this.refs={}}}st.SchemaEnv=$n;function ci(e){const t=Na.call(this,e);if(t)return t;const r=(0,gt.getFullPath)(this.opts.uriResolver,e.root.baseId),{es5:i,lines:n}=this.opts.code,{ownProperties:s}=this.opts,a=new pt.CodeGen(this.scope,{es5:i,lines:n,ownProperties:s});let o;e.$async&&(o=a.scopeValue("Error",{ref:_u.default,code:(0,pt._)`require("ajv/dist/runtime/validation_error").default`}));const l=a.scopeName("validate");e.validateName=l;const c={gen:a,allErrors:this.opts.allErrors,data:Xt.default.data,parentData:Xt.default.parentData,parentDataProperty:Xt.default.parentDataProperty,dataNames:[Xt.default.data],dataPathArr:[pt.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:a.scopeValue("schema",this.opts.code.source===!0?{ref:e.schema,code:(0,pt.stringify)(e.schema)}:{ref:e.schema}),validateName:l,ValidationError:o,schema:e.schema,schemaEnv:e,rootId:r,baseId:e.baseId||r,schemaPath:pt.nil,errSchemaPath:e.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,pt._)`""`,opts:this.opts,self:this};let p;try{this._compilations.add(e),(0,vu.validateFunctionCode)(c),a.optimize(this.opts.code.optimize);const h=a.toString();p=`${a.scopeRefs(Xt.default.scope)}return ${h}`,this.opts.code.process&&(p=this.opts.code.process(p,e));const d=new Function(`${Xt.default.self}`,`${Xt.default.scope}`,p)(this,this.scope.get());if(this.scope.value(l,{ref:d}),d.errors=null,d.schema=e.schema,d.schemaEnv=e,e.$async&&(d.$async=!0),this.opts.code.source===!0&&(d.source={validateName:l,validateCode:h,scopeValues:a._values}),this.opts.unevaluated){const{props:g,items:u}=c;d.evaluated={props:g instanceof pt.Name?void 0:g,items:u instanceof pt.Name?void 0:u,dynamicProps:g instanceof pt.Name,dynamicItems:u instanceof pt.Name},d.source&&(d.source.evaluated=(0,pt.stringify)(d.evaluated))}return e.validate=d,e}catch(h){throw delete e.validate,delete e.validateName,p&&this.logger.error("Error compiling schema, function code:",p),h}finally{this._compilations.delete(e)}}st.compileSchema=ci;function yu(e,t,r){var i;r=(0,gt.resolveUrl)(this.opts.uriResolver,t,r);const n=e.refs[r];if(n)return n;let s=ku.call(this,e,r);if(s===void 0){const a=(i=e.localRefs)===null||i===void 0?void 0:i[r],{schemaId:o}=this.opts;a&&(s=new $n({schema:a,schemaId:o,root:e,baseId:t}))}if(s!==void 0)return e.refs[r]=bu.call(this,s)}st.resolveRef=yu;function bu(e){return(0,gt.inlineRef)(e.schema,this.opts.inlineRefs)?e.schema:e.validate?e:ci.call(this,e)}function Na(e){for(const t of this._compilations)if(wu(t,e))return t}st.getCompilingSchema=Na;function wu(e,t){return e.schema===t.schema&&e.root===t.root&&e.baseId===t.baseId}function ku(e,t){let r;for(;typeof(r=this.refs[t])=="string";)t=r;return r||this.schemas[t]||En.call(this,e,t)}function En(e,t){const r=this.opts.uriResolver.parse(t),i=(0,gt._getFullPath)(this.opts.uriResolver,r);let n=(0,gt.getFullPath)(this.opts.uriResolver,e.baseId,void 0);if(Object.keys(e.schema).length>0&&i===n)return Fn.call(this,r,e);const s=(0,gt.normalizeId)(i),a=this.refs[s]||this.schemas[s];if(typeof a=="string"){const o=En.call(this,e,a);return typeof(o==null?void 0:o.schema)!="object"?void 0:Fn.call(this,r,o)}if(typeof(a==null?void 0:a.schema)=="object"){if(a.validate||ci.call(this,a),s===(0,gt.normalizeId)(t)){const{schema:o}=a,{schemaId:l}=this.opts,c=o[l];return c&&(n=(0,gt.resolveUrl)(this.opts.uriResolver,n,c)),new $n({schema:o,schemaId:l,root:e,baseId:n})}return Fn.call(this,r,a)}}st.resolveSchema=En;const $u=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function Fn(e,{baseId:t,schema:r,root:i}){var n;if(((n=e.fragment)===null||n===void 0?void 0:n[0])!=="/")return;for(const o of e.fragment.slice(1).split("/")){if(typeof r=="boolean")return;const l=r[(0,ys.unescapeFragment)(o)];if(l===void 0)return;r=l;const c=typeof r=="object"&&r[this.opts.schemaId];!$u.has(o)&&c&&(t=(0,gt.resolveUrl)(this.opts.uriResolver,t,c))}let s;if(typeof r!="boolean"&&r.$ref&&!(0,ys.schemaHasRulesButRef)(r,this.RULES)){const o=(0,gt.resolveUrl)(this.opts.uriResolver,t,r.$ref);s=En.call(this,i,o)}const{schemaId:a}=this.opts;if(s=s||new $n({schema:r,schemaId:a,root:i,baseId:t}),s.schema!==s.root.schema)return s}const Eu="https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",Su="Meta-schema for $data reference (JSON AnySchema extension proposal)",Au="object",Cu=["$data"],Pu={$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},Ou=!1,Iu={$id:Eu,description:Su,type:Au,required:Cu,properties:Pu,additionalProperties:Ou};var ui={},gn={},Ru={get exports(){return gn},set exports(e){gn=e}};/** @license URI.js v4.4.1 (c) 2011 Gary Court. License: http://github.com/garycourt/uri-js */(function(e,t){(function(r,i){i(t)})(Ir,function(r){function i(){for(var z=arguments.length,N=Array(z),M=0;M<z;M++)N[M]=arguments[M];if(N.length>1){N[0]=N[0].slice(0,-1);for(var J=N.length-1,Z=1;Z<J;++Z)N[Z]=N[Z].slice(1,-1);return N[J]=N[J].slice(1),N.join("")}else return N[0]}function n(z){return"(?:"+z+")"}function s(z){return z===void 0?"undefined":z===null?"null":Object.prototype.toString.call(z).split(" ").pop().split("]").shift().toLowerCase()}function a(z){return z.toUpperCase()}function o(z){return z!=null?z instanceof Array?z:typeof z.length!="number"||z.split||z.setInterval||z.call?[z]:Array.prototype.slice.call(z):[]}function l(z,N){var M=z;if(N)for(var J in N)M[J]=N[J];return M}function c(z){var N="[A-Za-z]",M="[0-9]",J=i(M,"[A-Fa-f]"),Z=n(n("%[EFef]"+J+"%"+J+J+"%"+J+J)+"|"+n("%[89A-Fa-f]"+J+"%"+J+J)+"|"+n("%"+J+J)),ve="[\\:\\/\\?\\#\\[\\]\\@]",ye="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",Re=i(ve,ye),Me=z?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]",qe=z?"[\\uE000-\\uF8FF]":"[]",Oe=i(N,M,"[\\-\\.\\_\\~]",Me);n(N+i(N,M,"[\\+\\-\\.]")+"*"),n(n(Z+"|"+i(Oe,ye,"[\\:]"))+"*");var ze=n(n("25[0-5]")+"|"+n("2[0-4]"+M)+"|"+n("1"+M+M)+"|"+n("0?[1-9]"+M)+"|0?0?"+M),Ke=n(ze+"\\."+ze+"\\."+ze+"\\."+ze),Ee=n(J+"{1,4}"),Be=n(n(Ee+"\\:"+Ee)+"|"+Ke),Ge=n(n(Ee+"\\:")+"{6}"+Be),Le=n("\\:\\:"+n(Ee+"\\:")+"{5}"+Be),Vt=n(n(Ee)+"?\\:\\:"+n(Ee+"\\:")+"{4}"+Be),kt=n(n(n(Ee+"\\:")+"{0,1}"+Ee)+"?\\:\\:"+n(Ee+"\\:")+"{3}"+Be),$t=n(n(n(Ee+"\\:")+"{0,2}"+Ee)+"?\\:\\:"+n(Ee+"\\:")+"{2}"+Be),lr=n(n(n(Ee+"\\:")+"{0,3}"+Ee)+"?\\:\\:"+Ee+"\\:"+Be),Jt=n(n(n(Ee+"\\:")+"{0,4}"+Ee)+"?\\:\\:"+Be),ut=n(n(n(Ee+"\\:")+"{0,5}"+Ee)+"?\\:\\:"+Ee),Et=n(n(n(Ee+"\\:")+"{0,6}"+Ee)+"?\\:\\:"),Yt=n([Ge,Le,Vt,kt,$t,lr,Jt,ut,Et].join("|")),jt=n(n(Oe+"|"+Z)+"+");n("[vV]"+J+"+\\."+i(Oe,ye,"[\\:]")+"+"),n(n(Z+"|"+i(Oe,ye))+"*");var Er=n(Z+"|"+i(Oe,ye,"[\\:\\@]"));return n(n(Z+"|"+i(Oe,ye,"[\\@]"))+"+"),n(n(Er+"|"+i("[\\/\\?]",qe))+"*"),{NOT_SCHEME:new RegExp(i("[^]",N,M,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(i("[^\\%\\:]",Oe,ye),"g"),NOT_HOST:new RegExp(i("[^\\%\\[\\]\\:]",Oe,ye),"g"),NOT_PATH:new RegExp(i("[^\\%\\/\\:\\@]",Oe,ye),"g"),NOT_PATH_NOSCHEME:new RegExp(i("[^\\%\\/\\@]",Oe,ye),"g"),NOT_QUERY:new RegExp(i("[^\\%]",Oe,ye,"[\\:\\@\\/\\?]",qe),"g"),NOT_FRAGMENT:new RegExp(i("[^\\%]",Oe,ye,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(i("[^]",Oe,ye),"g"),UNRESERVED:new RegExp(Oe,"g"),OTHER_CHARS:new RegExp(i("[^\\%]",Oe,Re),"g"),PCT_ENCODED:new RegExp(Z,"g"),IPV4ADDRESS:new RegExp("^("+Ke+")$"),IPV6ADDRESS:new RegExp("^\\[?("+Yt+")"+n(n("\\%25|\\%(?!"+J+"{2})")+"("+jt+")")+"?\\]?$")}}var p=c(!1),h=c(!0),w=function(){function z(N,M){var J=[],Z=!0,ve=!1,ye=void 0;try{for(var Re=N[Symbol.iterator](),Me;!(Z=(Me=Re.next()).done)&&(J.push(Me.value),!(M&&J.length===M));Z=!0);}catch(qe){ve=!0,ye=qe}finally{try{!Z&&Re.return&&Re.return()}finally{if(ve)throw ye}}return J}return function(N,M){if(Array.isArray(N))return N;if(Symbol.iterator in Object(N))return z(N,M);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),d=function(z){if(Array.isArray(z)){for(var N=0,M=Array(z.length);N<z.length;N++)M[N]=z[N];return M}else return Array.from(z)},g=2147483647,u=36,m=1,f=26,y=38,k=700,E=72,A=128,C="-",I=/^xn--/,F=/[^\0-\x7E]/,U=/[\x2E\u3002\uFF0E\uFF61]/g,H={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},re=u-m,S=Math.floor,q=String.fromCharCode;function v(z){throw new RangeError(H[z])}function G(z,N){for(var M=[],J=z.length;J--;)M[J]=N(z[J]);return M}function ae(z,N){var M=z.split("@"),J="";M.length>1&&(J=M[0]+"@",z=M[1]),z=z.replace(U,".");var Z=z.split("."),ve=G(Z,N).join(".");return J+ve}function Y(z){for(var N=[],M=0,J=z.length;M<J;){var Z=z.charCodeAt(M++);if(Z>=55296&&Z<=56319&&M<J){var ve=z.charCodeAt(M++);(ve&64512)==56320?N.push(((Z&1023)<<10)+(ve&1023)+65536):(N.push(Z),M--)}else N.push(Z)}return N}var fe=function(N){return String.fromCodePoint.apply(String,d(N))},L=function(N){return N-48<10?N-22:N-65<26?N-65:N-97<26?N-97:u},D=function(N,M){return N+22+75*(N<26)-((M!=0)<<5)},$=function(N,M,J){var Z=0;for(N=J?S(N/k):N>>1,N+=S(N/M);N>re*f>>1;Z+=u)N=S(N/re);return S(Z+(re+1)*N/(N+y))},O=function(N){var M=[],J=N.length,Z=0,ve=A,ye=E,Re=N.lastIndexOf(C);Re<0&&(Re=0);for(var Me=0;Me<Re;++Me)N.charCodeAt(Me)>=128&&v("not-basic"),M.push(N.charCodeAt(Me));for(var qe=Re>0?Re+1:0;qe<J;){for(var Oe=Z,ze=1,Ke=u;;Ke+=u){qe>=J&&v("invalid-input");var Ee=L(N.charCodeAt(qe++));(Ee>=u||Ee>S((g-Z)/ze))&&v("overflow"),Z+=Ee*ze;var Be=Ke<=ye?m:Ke>=ye+f?f:Ke-ye;if(Ee<Be)break;var Ge=u-Be;ze>S(g/Ge)&&v("overflow"),ze*=Ge}var Le=M.length+1;ye=$(Z-Oe,Le,Oe==0),S(Z/Le)>g-ve&&v("overflow"),ve+=S(Z/Le),Z%=Le,M.splice(Z++,0,ve)}return String.fromCodePoint.apply(String,M)},T=function(N){var M=[];N=Y(N);var J=N.length,Z=A,ve=0,ye=E,Re=!0,Me=!1,qe=void 0;try{for(var Oe=N[Symbol.iterator](),ze;!(Re=(ze=Oe.next()).done);Re=!0){var Ke=ze.value;Ke<128&&M.push(q(Ke))}}catch(Sr){Me=!0,qe=Sr}finally{try{!Re&&Oe.return&&Oe.return()}finally{if(Me)throw qe}}var Ee=M.length,Be=Ee;for(Ee&&M.push(C);Be<J;){var Ge=g,Le=!0,Vt=!1,kt=void 0;try{for(var $t=N[Symbol.iterator](),lr;!(Le=(lr=$t.next()).done);Le=!0){var Jt=lr.value;Jt>=Z&&Jt<Ge&&(Ge=Jt)}}catch(Sr){Vt=!0,kt=Sr}finally{try{!Le&&$t.return&&$t.return()}finally{if(Vt)throw kt}}var ut=Be+1;Ge-Z>S((g-ve)/ut)&&v("overflow"),ve+=(Ge-Z)*ut,Z=Ge;var Et=!0,Yt=!1,jt=void 0;try{for(var Er=N[Symbol.iterator](),Gi;!(Et=(Gi=Er.next()).done);Et=!0){var Hi=Gi.value;if(Hi<Z&&++ve>g&&v("overflow"),Hi==Z){for(var Gr=ve,Hr=u;;Hr+=u){var xr=Hr<=ye?m:Hr>=ye+f?f:Hr-ye;if(Gr<xr)break;var xi=Gr-xr,Zi=u-xr;M.push(q(D(xr+xi%Zi,0))),Gr=S(xi/Zi)}M.push(q(D(Gr,0))),ye=$(ve,ut,Be==Ee),ve=0,++Be}}}catch(Sr){Yt=!0,jt=Sr}finally{try{!Et&&Er.return&&Er.return()}finally{if(Yt)throw jt}}++ve,++Z}return M.join("")},b=function(N){return ae(N,function(M){return I.test(M)?O(M.slice(4).toLowerCase()):M})},P=function(N){return ae(N,function(M){return F.test(M)?"xn--"+T(M):M})},W={version:"2.1.0",ucs2:{decode:Y,encode:fe},decode:O,encode:T,toASCII:P,toUnicode:b},ie={};function Q(z){var N=z.charCodeAt(0),M=void 0;return N<16?M="%0"+N.toString(16).toUpperCase():N<128?M="%"+N.toString(16).toUpperCase():N<2048?M="%"+(N>>6|192).toString(16).toUpperCase()+"%"+(N&63|128).toString(16).toUpperCase():M="%"+(N>>12|224).toString(16).toUpperCase()+"%"+(N>>6&63|128).toString(16).toUpperCase()+"%"+(N&63|128).toString(16).toUpperCase(),M}function ue(z){for(var N="",M=0,J=z.length;M<J;){var Z=parseInt(z.substr(M+1,2),16);if(Z<128)N+=String.fromCharCode(Z),M+=3;else if(Z>=194&&Z<224){if(J-M>=6){var ve=parseInt(z.substr(M+4,2),16);N+=String.fromCharCode((Z&31)<<6|ve&63)}else N+=z.substr(M,6);M+=6}else if(Z>=224){if(J-M>=9){var ye=parseInt(z.substr(M+4,2),16),Re=parseInt(z.substr(M+7,2),16);N+=String.fromCharCode((Z&15)<<12|(ye&63)<<6|Re&63)}else N+=z.substr(M,9);M+=9}else N+=z.substr(M,3),M+=3}return N}function me(z,N){function M(J){var Z=ue(J);return Z.match(N.UNRESERVED)?Z:J}return z.scheme&&(z.scheme=String(z.scheme).replace(N.PCT_ENCODED,M).toLowerCase().replace(N.NOT_SCHEME,"")),z.userinfo!==void 0&&(z.userinfo=String(z.userinfo).replace(N.PCT_ENCODED,M).replace(N.NOT_USERINFO,Q).replace(N.PCT_ENCODED,a)),z.host!==void 0&&(z.host=String(z.host).replace(N.PCT_ENCODED,M).toLowerCase().replace(N.NOT_HOST,Q).replace(N.PCT_ENCODED,a)),z.path!==void 0&&(z.path=String(z.path).replace(N.PCT_ENCODED,M).replace(z.scheme?N.NOT_PATH:N.NOT_PATH_NOSCHEME,Q).replace(N.PCT_ENCODED,a)),z.query!==void 0&&(z.query=String(z.query).replace(N.PCT_ENCODED,M).replace(N.NOT_QUERY,Q).replace(N.PCT_ENCODED,a)),z.fragment!==void 0&&(z.fragment=String(z.fragment).replace(N.PCT_ENCODED,M).replace(N.NOT_FRAGMENT,Q).replace(N.PCT_ENCODED,a)),z}function be(z){return z.replace(/^0*(.*)/,"$1")||"0"}function Ve(z,N){var M=z.match(N.IPV4ADDRESS)||[],J=w(M,2),Z=J[1];return Z?Z.split(".").map(be).join("."):z}function He(z,N){var M=z.match(N.IPV6ADDRESS)||[],J=w(M,3),Z=J[1],ve=J[2];if(Z){for(var ye=Z.toLowerCase().split("::").reverse(),Re=w(ye,2),Me=Re[0],qe=Re[1],Oe=qe?qe.split(":").map(be):[],ze=Me.split(":").map(be),Ke=N.IPV4ADDRESS.test(ze[ze.length-1]),Ee=Ke?7:8,Be=ze.length-Ee,Ge=Array(Ee),Le=0;Le<Ee;++Le)Ge[Le]=Oe[Le]||ze[Be+Le]||"";Ke&&(Ge[Ee-1]=Ve(Ge[Ee-1],N));var Vt=Ge.reduce(function(ut,Et,Yt){if(!Et||Et==="0"){var jt=ut[ut.length-1];jt&&jt.index+jt.length===Yt?jt.length++:ut.push({index:Yt,length:1})}return ut},[]),kt=Vt.sort(function(ut,Et){return Et.length-ut.length})[0],$t=void 0;if(kt&&kt.length>1){var lr=Ge.slice(0,kt.index),Jt=Ge.slice(kt.index+kt.length);$t=lr.join(":")+"::"+Jt.join(":")}else $t=Ge.join(":");return ve&&($t+="%"+ve),$t}else return z}var _=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,X="".match(/(){0}/)[1]===void 0;function x(z){var N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},M={},J=N.iri!==!1?h:p;N.reference==="suffix"&&(z=(N.scheme?N.scheme+":":"")+"//"+z);var Z=z.match(_);if(Z){X?(M.scheme=Z[1],M.userinfo=Z[3],M.host=Z[4],M.port=parseInt(Z[5],10),M.path=Z[6]||"",M.query=Z[7],M.fragment=Z[8],isNaN(M.port)&&(M.port=Z[5])):(M.scheme=Z[1]||void 0,M.userinfo=z.indexOf("@")!==-1?Z[3]:void 0,M.host=z.indexOf("//")!==-1?Z[4]:void 0,M.port=parseInt(Z[5],10),M.path=Z[6]||"",M.query=z.indexOf("?")!==-1?Z[7]:void 0,M.fragment=z.indexOf("#")!==-1?Z[8]:void 0,isNaN(M.port)&&(M.port=z.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?Z[4]:void 0)),M.host&&(M.host=He(Ve(M.host,J),J)),M.scheme===void 0&&M.userinfo===void 0&&M.host===void 0&&M.port===void 0&&!M.path&&M.query===void 0?M.reference="same-document":M.scheme===void 0?M.reference="relative":M.fragment===void 0?M.reference="absolute":M.reference="uri",N.reference&&N.reference!=="suffix"&&N.reference!==M.reference&&(M.error=M.error||"URI is not a "+N.reference+" reference.");var ve=ie[(N.scheme||M.scheme||"").toLowerCase()];if(!N.unicodeSupport&&(!ve||!ve.unicodeSupport)){if(M.host&&(N.domainHost||ve&&ve.domainHost))try{M.host=W.toASCII(M.host.replace(J.PCT_ENCODED,ue).toLowerCase())}catch(ye){M.error=M.error||"Host's domain name can not be converted to ASCII via punycode: "+ye}me(M,p)}else me(M,J);ve&&ve.parse&&ve.parse(M,N)}else M.error=M.error||"URI can not be parsed.";return M}function j(z,N){var M=N.iri!==!1?h:p,J=[];return z.userinfo!==void 0&&(J.push(z.userinfo),J.push("@")),z.host!==void 0&&J.push(He(Ve(String(z.host),M),M).replace(M.IPV6ADDRESS,function(Z,ve,ye){return"["+ve+(ye?"%25"+ye:"")+"]"})),(typeof z.port=="number"||typeof z.port=="string")&&(J.push(":"),J.push(String(z.port))),J.length?J.join(""):void 0}var R=/^\.\.?\//,V=/^\/\.(\/|$)/,ee=/^\/\.\.(\/|$)/,te=/^\/?(?:.|\n)*?(?=\/|$)/;function K(z){for(var N=[];z.length;)if(z.match(R))z=z.replace(R,"");else if(z.match(V))z=z.replace(V,"/");else if(z.match(ee))z=z.replace(ee,"/"),N.pop();else if(z==="."||z==="..")z="";else{var M=z.match(te);if(M){var J=M[0];z=z.slice(J.length),N.push(J)}else throw new Error("Unexpected dot segment condition")}return N.join("")}function ne(z){var N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},M=N.iri?h:p,J=[],Z=ie[(N.scheme||z.scheme||"").toLowerCase()];if(Z&&Z.serialize&&Z.serialize(z,N),z.host&&!M.IPV6ADDRESS.test(z.host)){if(N.domainHost||Z&&Z.domainHost)try{z.host=N.iri?W.toUnicode(z.host):W.toASCII(z.host.replace(M.PCT_ENCODED,ue).toLowerCase())}catch(Re){z.error=z.error||"Host's domain name can not be converted to "+(N.iri?"Unicode":"ASCII")+" via punycode: "+Re}}me(z,M),N.reference!=="suffix"&&z.scheme&&(J.push(z.scheme),J.push(":"));var ve=j(z,N);if(ve!==void 0&&(N.reference!=="suffix"&&J.push("//"),J.push(ve),z.path&&z.path.charAt(0)!=="/"&&J.push("/")),z.path!==void 0){var ye=z.path;!N.absolutePath&&(!Z||!Z.absolutePath)&&(ye=K(ye)),ve===void 0&&(ye=ye.replace(/^\/\//,"/%2F")),J.push(ye)}return z.query!==void 0&&(J.push("?"),J.push(z.query)),z.fragment!==void 0&&(J.push("#"),J.push(z.fragment)),J.join("")}function ce(z,N){var M=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},J=arguments[3],Z={};return J||(z=x(ne(z,M),M),N=x(ne(N,M),M)),M=M||{},!M.tolerant&&N.scheme?(Z.scheme=N.scheme,Z.userinfo=N.userinfo,Z.host=N.host,Z.port=N.port,Z.path=K(N.path||""),Z.query=N.query):(N.userinfo!==void 0||N.host!==void 0||N.port!==void 0?(Z.userinfo=N.userinfo,Z.host=N.host,Z.port=N.port,Z.path=K(N.path||""),Z.query=N.query):(N.path?(N.path.charAt(0)==="/"?Z.path=K(N.path):((z.userinfo!==void 0||z.host!==void 0||z.port!==void 0)&&!z.path?Z.path="/"+N.path:z.path?Z.path=z.path.slice(0,z.path.lastIndexOf("/")+1)+N.path:Z.path=N.path,Z.path=K(Z.path)),Z.query=N.query):(Z.path=z.path,N.query!==void 0?Z.query=N.query:Z.query=z.query),Z.userinfo=z.userinfo,Z.host=z.host,Z.port=z.port),Z.scheme=z.scheme),Z.fragment=N.fragment,Z}function oe(z,N,M){var J=l({scheme:"null"},M);return ne(ce(x(z,J),x(N,J),J,!0),J)}function ge(z,N){return typeof z=="string"?z=ne(x(z,N),N):s(z)==="object"&&(z=x(ne(z,N),N)),z}function Te(z,N,M){return typeof z=="string"?z=ne(x(z,M),M):s(z)==="object"&&(z=ne(z,M)),typeof N=="string"?N=ne(x(N,M),M):s(N)==="object"&&(N=ne(N,M)),z===N}function Ae(z,N){return z&&z.toString().replace(!N||!N.iri?p.ESCAPE:h.ESCAPE,Q)}function Fe(z,N){return z&&z.toString().replace(!N||!N.iri?p.PCT_ENCODED:h.PCT_ENCODED,ue)}var at={scheme:"http",domainHost:!0,parse:function(N,M){return N.host||(N.error=N.error||"HTTP URIs must have a host."),N},serialize:function(N,M){var J=String(N.scheme).toLowerCase()==="https";return(N.port===(J?443:80)||N.port==="")&&(N.port=void 0),N.path||(N.path="/"),N}},ot={scheme:"https",domainHost:at.domainHost,parse:at.parse,serialize:at.serialize};function Lt(z){return typeof z.secure=="boolean"?z.secure:String(z.scheme).toLowerCase()==="wss"}var De={scheme:"ws",domainHost:!0,parse:function(N,M){var J=N;return J.secure=Lt(J),J.resourceName=(J.path||"/")+(J.query?"?"+J.query:""),J.path=void 0,J.query=void 0,J},serialize:function(N,M){if((N.port===(Lt(N)?443:80)||N.port==="")&&(N.port=void 0),typeof N.secure=="boolean"&&(N.scheme=N.secure?"wss":"ws",N.secure=void 0),N.resourceName){var J=N.resourceName.split("?"),Z=w(J,2),ve=Z[0],ye=Z[1];N.path=ve&&ve!=="/"?ve:void 0,N.query=ye,N.resourceName=void 0}return N.fragment=void 0,N}},xt={scheme:"wss",domainHost:De.domainHost,parse:De.parse,serialize:De.serialize},$r={},ct="[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]",lt="[0-9A-Fa-f]",An=n(n("%[EFef]"+lt+"%"+lt+lt+"%"+lt+lt)+"|"+n("%[89A-Fa-f]"+lt+"%"+lt+lt)+"|"+n("%"+lt+lt)),Cn="[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]",Pn="[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",Wr=i(Pn,'[\\"\\\\]'),Zt="[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]",ar=new RegExp(ct,"g"),or=new RegExp(An,"g"),Ga=new RegExp(i("[^]",Cn,"[\\.]",'[\\"]',Wr),"g"),Vi=new RegExp(i("[^]",ct,Zt),"g"),Ha=Vi;function On(z){var N=ue(z);return N.match(ar)?N:z}var qi={scheme:"mailto",parse:function(N,M){var J=N,Z=J.to=J.path?J.path.split(","):[];if(J.path=void 0,J.query){for(var ve=!1,ye={},Re=J.query.split("&"),Me=0,qe=Re.length;Me<qe;++Me){var Oe=Re[Me].split("=");switch(Oe[0]){case"to":for(var ze=Oe[1].split(","),Ke=0,Ee=ze.length;Ke<Ee;++Ke)Z.push(ze[Ke]);break;case"subject":J.subject=Fe(Oe[1],M);break;case"body":J.body=Fe(Oe[1],M);break;default:ve=!0,ye[Fe(Oe[0],M)]=Fe(Oe[1],M);break}}ve&&(J.headers=ye)}J.query=void 0;for(var Be=0,Ge=Z.length;Be<Ge;++Be){var Le=Z[Be].split("@");if(Le[0]=Fe(Le[0]),M.unicodeSupport)Le[1]=Fe(Le[1],M).toLowerCase();else try{Le[1]=W.toASCII(Fe(Le[1],M).toLowerCase())}catch(Vt){J.error=J.error||"Email address's domain name can not be converted to ASCII via punycode: "+Vt}Z[Be]=Le.join("@")}return J},serialize:function(N,M){var J=N,Z=o(N.to);if(Z){for(var ve=0,ye=Z.length;ve<ye;++ve){var Re=String(Z[ve]),Me=Re.lastIndexOf("@"),qe=Re.slice(0,Me).replace(or,On).replace(or,a).replace(Ga,Q),Oe=Re.slice(Me+1);try{Oe=M.iri?W.toUnicode(Oe):W.toASCII(Fe(Oe,M).toLowerCase())}catch(Be){J.error=J.error||"Email address's domain name can not be converted to "+(M.iri?"Unicode":"ASCII")+" via punycode: "+Be}Z[ve]=qe+"@"+Oe}J.path=Z.join(",")}var ze=N.headers=N.headers||{};N.subject&&(ze.subject=N.subject),N.body&&(ze.body=N.body);var Ke=[];for(var Ee in ze)ze[Ee]!==$r[Ee]&&Ke.push(Ee.replace(or,On).replace(or,a).replace(Vi,Q)+"="+ze[Ee].replace(or,On).replace(or,a).replace(Ha,Q));return Ke.length&&(J.query=Ke.join("&")),J}},xa=/^([^\:]+)\:(.*)/,Ki={scheme:"urn",parse:function(N,M){var J=N.path&&N.path.match(xa),Z=N;if(J){var ve=M.scheme||Z.scheme||"urn",ye=J[1].toLowerCase(),Re=J[2],Me=ve+":"+(M.nid||ye),qe=ie[Me];Z.nid=ye,Z.nss=Re,Z.path=void 0,qe&&(Z=qe.parse(Z,M))}else Z.error=Z.error||"URN can not be parsed.";return Z},serialize:function(N,M){var J=M.scheme||N.scheme||"urn",Z=N.nid,ve=J+":"+(M.nid||Z),ye=ie[ve];ye&&(N=ye.serialize(N,M));var Re=N,Me=N.nss;return Re.path=(Z||M.nid)+":"+Me,Re}},Za=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,Wi={scheme:"urn:uuid",parse:function(N,M){var J=N;return J.uuid=J.nss,J.nss=void 0,!M.tolerant&&(!J.uuid||!J.uuid.match(Za))&&(J.error=J.error||"UUID is not valid."),J},serialize:function(N,M){var J=N;return J.nss=(N.uuid||"").toLowerCase(),J}};ie[at.scheme]=at,ie[ot.scheme]=ot,ie[De.scheme]=De,ie[xt.scheme]=xt,ie[qi.scheme]=qi,ie[Ki.scheme]=Ki,ie[Wi.scheme]=Wi,r.SCHEMES=ie,r.pctEncChar=Q,r.pctDecChars=ue,r.parse=x,r.removeDotSegments=K,r.serialize=ne,r.resolveComponents=ce,r.resolve=oe,r.normalize=ge,r.equal=Te,r.escapeComponent=Ae,r.unescapeComponent=Fe,Object.defineProperty(r,"__esModule",{value:!0})})})(Ru,gn);Object.defineProperty(ui,"__esModule",{value:!0});const Ta=gn;Ta.code='require("ajv/dist/runtime/uri").default';ui.default=Ta;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=void 0;var t=_t;Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return t.KeywordCxt}});var r=Pe();Object.defineProperty(e,"_",{enumerable:!0,get:function(){return r._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return r.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return r.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return r.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return r.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return r.CodeGen}});const i=Vr,n=qr,s=ir,a=st,o=Pe(),l=Je,c=Lr,p=Ne,h=Iu,w=ui,d=(D,$)=>new RegExp(D,$);d.code="new RegExp";const g=["removeAdditional","useDefaults","coerceTypes"],u=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),m={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},f={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},y=200;function k(D){var $,O,T,b,P,W,ie,Q,ue,me,be,Ve,He,_,X,x,j,R,V,ee,te,K,ne,ce,oe;const ge=D.strict,Te=($=D.code)===null||$===void 0?void 0:$.optimize,Ae=Te===!0||Te===void 0?1:Te||0,Fe=(T=(O=D.code)===null||O===void 0?void 0:O.regExp)!==null&&T!==void 0?T:d,at=(b=D.uriResolver)!==null&&b!==void 0?b:w.default;return{strictSchema:(W=(P=D.strictSchema)!==null&&P!==void 0?P:ge)!==null&&W!==void 0?W:!0,strictNumbers:(Q=(ie=D.strictNumbers)!==null&&ie!==void 0?ie:ge)!==null&&Q!==void 0?Q:!0,strictTypes:(me=(ue=D.strictTypes)!==null&&ue!==void 0?ue:ge)!==null&&me!==void 0?me:"log",strictTuples:(Ve=(be=D.strictTuples)!==null&&be!==void 0?be:ge)!==null&&Ve!==void 0?Ve:"log",strictRequired:(_=(He=D.strictRequired)!==null&&He!==void 0?He:ge)!==null&&_!==void 0?_:!1,code:D.code?{...D.code,optimize:Ae,regExp:Fe}:{optimize:Ae,regExp:Fe},loopRequired:(X=D.loopRequired)!==null&&X!==void 0?X:y,loopEnum:(x=D.loopEnum)!==null&&x!==void 0?x:y,meta:(j=D.meta)!==null&&j!==void 0?j:!0,messages:(R=D.messages)!==null&&R!==void 0?R:!0,inlineRefs:(V=D.inlineRefs)!==null&&V!==void 0?V:!0,schemaId:(ee=D.schemaId)!==null&&ee!==void 0?ee:"$id",addUsedSchema:(te=D.addUsedSchema)!==null&&te!==void 0?te:!0,validateSchema:(K=D.validateSchema)!==null&&K!==void 0?K:!0,validateFormats:(ne=D.validateFormats)!==null&&ne!==void 0?ne:!0,unicodeRegExp:(ce=D.unicodeRegExp)!==null&&ce!==void 0?ce:!0,int32range:(oe=D.int32range)!==null&&oe!==void 0?oe:!0,uriResolver:at}}class E{constructor($={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,$=this.opts={...$,...k($)};const{es5:O,lines:T}=this.opts.code;this.scope=new o.ValueScope({scope:{},prefixes:u,es5:O,lines:T}),this.logger=S($.logger);const b=$.validateFormats;$.validateFormats=!1,this.RULES=(0,s.getRules)(),A.call(this,m,$,"NOT SUPPORTED"),A.call(this,f,$,"DEPRECATED","warn"),this._metaOpts=H.call(this),$.formats&&F.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),$.keywords&&U.call(this,$.keywords),typeof $.meta=="object"&&this.addMetaSchema($.meta),I.call(this),$.validateFormats=b}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:$,meta:O,schemaId:T}=this.opts;let b=h;T==="id"&&(b={...h},b.id=b.$id,delete b.$id),O&&$&&this.addMetaSchema(b,b[T],!1)}defaultMeta(){const{meta:$,schemaId:O}=this.opts;return this.opts.defaultMeta=typeof $=="object"?$[O]||$:void 0}validate($,O){let T;if(typeof $=="string"){if(T=this.getSchema($),!T)throw new Error(`no schema with key or ref "${$}"`)}else T=this.compile($);const b=T(O);return"$async"in T||(this.errors=T.errors),b}compile($,O){const T=this._addSchema($,O);return T.validate||this._compileSchemaEnv(T)}compileAsync($,O){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");const{loadSchema:T}=this.opts;return b.call(this,$,O);async function b(me,be){await P.call(this,me.$schema);const Ve=this._addSchema(me,be);return Ve.validate||W.call(this,Ve)}async function P(me){me&&!this.getSchema(me)&&await b.call(this,{$ref:me},!0)}async function W(me){try{return this._compileSchemaEnv(me)}catch(be){if(!(be instanceof n.default))throw be;return ie.call(this,be),await Q.call(this,be.missingSchema),W.call(this,me)}}function ie({missingSchema:me,missingRef:be}){if(this.refs[me])throw new Error(`AnySchema ${me} is loaded but ${be} cannot be resolved`)}async function Q(me){const be=await ue.call(this,me);this.refs[me]||await P.call(this,be.$schema),this.refs[me]||this.addSchema(be,me,O)}async function ue(me){const be=this._loading[me];if(be)return be;try{return await(this._loading[me]=T(me))}finally{delete this._loading[me]}}}addSchema($,O,T,b=this.opts.validateSchema){if(Array.isArray($)){for(const W of $)this.addSchema(W,void 0,T,b);return this}let P;if(typeof $=="object"){const{schemaId:W}=this.opts;if(P=$[W],P!==void 0&&typeof P!="string")throw new Error(`schema ${W} must be string`)}return O=(0,l.normalizeId)(O||P),this._checkUnique(O),this.schemas[O]=this._addSchema($,T,O,b,!0),this}addMetaSchema($,O,T=this.opts.validateSchema){return this.addSchema($,O,!0,T),this}validateSchema($,O){if(typeof $=="boolean")return!0;let T;if(T=$.$schema,T!==void 0&&typeof T!="string")throw new Error("$schema must be a string");if(T=T||this.opts.defaultMeta||this.defaultMeta(),!T)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const b=this.validate(T,$);if(!b&&O){const P="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(P);else throw new Error(P)}return b}getSchema($){let O;for(;typeof(O=C.call(this,$))=="string";)$=O;if(O===void 0){const{schemaId:T}=this.opts,b=new a.SchemaEnv({schema:{},schemaId:T});if(O=a.resolveSchema.call(this,b,$),!O)return;this.refs[$]=O}return O.validate||this._compileSchemaEnv(O)}removeSchema($){if($ instanceof RegExp)return this._removeAllSchemas(this.schemas,$),this._removeAllSchemas(this.refs,$),this;switch(typeof $){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const O=C.call(this,$);return typeof O=="object"&&this._cache.delete(O.schema),delete this.schemas[$],delete this.refs[$],this}case"object":{const O=$;this._cache.delete(O);let T=$[this.opts.schemaId];return T&&(T=(0,l.normalizeId)(T),delete this.schemas[T],delete this.refs[T]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary($){for(const O of $)this.addKeyword(O);return this}addKeyword($,O){let T;if(typeof $=="string")T=$,typeof O=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),O.keyword=T);else if(typeof $=="object"&&O===void 0){if(O=$,T=O.keyword,Array.isArray(T)&&!T.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(v.call(this,T,O),!O)return(0,p.eachItem)(T,P=>G.call(this,P)),this;Y.call(this,O);const b={...O,type:(0,c.getJSONTypes)(O.type),schemaType:(0,c.getJSONTypes)(O.schemaType)};return(0,p.eachItem)(T,b.type.length===0?P=>G.call(this,P,b):P=>b.type.forEach(W=>G.call(this,P,b,W))),this}getKeyword($){const O=this.RULES.all[$];return typeof O=="object"?O.definition:!!O}removeKeyword($){const{RULES:O}=this;delete O.keywords[$],delete O.all[$];for(const T of O.rules){const b=T.rules.findIndex(P=>P.keyword===$);b>=0&&T.rules.splice(b,1)}return this}addFormat($,O){return typeof O=="string"&&(O=new RegExp(O)),this.formats[$]=O,this}errorsText($=this.errors,{separator:O=", ",dataVar:T="data"}={}){return!$||$.length===0?"No errors":$.map(b=>`${T}${b.instancePath} ${b.message}`).reduce((b,P)=>b+O+P)}$dataMetaSchema($,O){const T=this.RULES.all;$=JSON.parse(JSON.stringify($));for(const b of O){const P=b.split("/").slice(1);let W=$;for(const ie of P)W=W[ie];for(const ie in T){const Q=T[ie];if(typeof Q!="object")continue;const{$data:ue}=Q.definition,me=W[ie];ue&&me&&(W[ie]=L(me))}}return $}_removeAllSchemas($,O){for(const T in $){const b=$[T];(!O||O.test(T))&&(typeof b=="string"?delete $[T]:b&&!b.meta&&(this._cache.delete(b.schema),delete $[T]))}}_addSchema($,O,T,b=this.opts.validateSchema,P=this.opts.addUsedSchema){let W;const{schemaId:ie}=this.opts;if(typeof $=="object")W=$[ie];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof $!="boolean")throw new Error("schema must be object or boolean")}let Q=this._cache.get($);if(Q!==void 0)return Q;T=(0,l.normalizeId)(W||T);const ue=l.getSchemaRefs.call(this,$,T);return Q=new a.SchemaEnv({schema:$,schemaId:ie,meta:O,baseId:T,localRefs:ue}),this._cache.set(Q.schema,Q),P&&!T.startsWith("#")&&(T&&this._checkUnique(T),this.refs[T]=Q),b&&this.validateSchema($,!0),Q}_checkUnique($){if(this.schemas[$]||this.refs[$])throw new Error(`schema with key or id "${$}" already exists`)}_compileSchemaEnv($){if($.meta?this._compileMetaSchema($):a.compileSchema.call(this,$),!$.validate)throw new Error("ajv implementation error");return $.validate}_compileMetaSchema($){const O=this.opts;this.opts=this._metaOpts;try{a.compileSchema.call(this,$)}finally{this.opts=O}}}e.default=E,E.ValidationError=i.default,E.MissingRefError=n.default;function A(D,$,O,T="error"){for(const b in D){const P=b;P in $&&this.logger[T](`${O}: option ${b}. ${D[P]}`)}}function C(D){return D=(0,l.normalizeId)(D),this.schemas[D]||this.refs[D]}function I(){const D=this.opts.schemas;if(D)if(Array.isArray(D))this.addSchema(D);else for(const $ in D)this.addSchema(D[$],$)}function F(){for(const D in this.opts.formats){const $=this.opts.formats[D];$&&this.addFormat(D,$)}}function U(D){if(Array.isArray(D)){this.addVocabulary(D);return}this.logger.warn("keywords option as map is deprecated, pass array");for(const $ in D){const O=D[$];O.keyword||(O.keyword=$),this.addKeyword(O)}}function H(){const D={...this.opts};for(const $ of g)delete D[$];return D}const re={log(){},warn(){},error(){}};function S(D){if(D===!1)return re;if(D===void 0)return console;if(D.log&&D.warn&&D.error)return D;throw new Error("logger must implement log, warn and error methods")}const q=/^[a-z_$][a-z0-9_$:-]*$/i;function v(D,$){const{RULES:O}=this;if((0,p.eachItem)(D,T=>{if(O.keywords[T])throw new Error(`Keyword ${T} is already defined`);if(!q.test(T))throw new Error(`Keyword ${T} has invalid name`)}),!!$&&$.$data&&!("code"in $||"validate"in $))throw new Error('$data keyword must have "code" or "validate" function')}function G(D,$,O){var T;const b=$==null?void 0:$.post;if(O&&b)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:P}=this;let W=b?P.post:P.rules.find(({type:Q})=>Q===O);if(W||(W={type:O,rules:[]},P.rules.push(W)),P.keywords[D]=!0,!$)return;const ie={keyword:D,definition:{...$,type:(0,c.getJSONTypes)($.type),schemaType:(0,c.getJSONTypes)($.schemaType)}};$.before?ae.call(this,W,ie,$.before):W.rules.push(ie),P.all[D]=ie,(T=$.implements)===null||T===void 0||T.forEach(Q=>this.addKeyword(Q))}function ae(D,$,O){const T=D.rules.findIndex(b=>b.keyword===O);T>=0?D.rules.splice(T,0,$):(D.rules.push($),this.logger.warn(`rule ${O} is not defined`))}function Y(D){let{metaSchema:$}=D;$!==void 0&&(D.$data&&this.opts.$data&&($=L($)),D.validateSchema=this.compile($,!0))}const fe={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function L(D){return{anyOf:[D,fe]}}})(ca);var fi={},di={},hi={};Object.defineProperty(hi,"__esModule",{value:!0});const Nu={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};hi.default=Nu;var sr={};Object.defineProperty(sr,"__esModule",{value:!0});sr.callRef=sr.getValidate=void 0;const Tu=qr,bs=Ce,it=Pe(),dr=Tt,ws=st,Xr=Ne,ju={keyword:"$ref",schemaType:"string",code(e){const{gen:t,schema:r,it:i}=e,{baseId:n,schemaEnv:s,validateName:a,opts:o,self:l}=i,{root:c}=s;if((r==="#"||r==="#/")&&n===c.baseId)return h();const p=ws.resolveRef.call(l,c,n,r);if(p===void 0)throw new Tu.default(i.opts.uriResolver,n,r);if(p instanceof ws.SchemaEnv)return w(p);return d(p);function h(){if(s===c)return on(e,a,s,s.$async);const g=t.scopeValue("root",{ref:c});return on(e,(0,it._)`${g}.validate`,c,c.$async)}function w(g){const u=ja(e,g);on(e,u,g,g.$async)}function d(g){const u=t.scopeValue("schema",o.code.source===!0?{ref:g,code:(0,it.stringify)(g)}:{ref:g}),m=t.name("valid"),f=e.subschema({schema:g,dataTypes:[],schemaPath:it.nil,topSchemaRef:u,errSchemaPath:r},m);e.mergeEvaluated(f),e.ok(m)}}};function ja(e,t){const{gen:r}=e;return t.validate?r.scopeValue("validate",{ref:t.validate}):(0,it._)`${r.scopeValue("wrapper",{ref:t})}.validate`}sr.getValidate=ja;function on(e,t,r,i){const{gen:n,it:s}=e,{allErrors:a,schemaEnv:o,opts:l}=s,c=l.passContext?dr.default.this:it.nil;i?p():h();function p(){if(!o.$async)throw new Error("async schema referenced by sync schema");const g=n.let("valid");n.try(()=>{n.code((0,it._)`await ${(0,bs.callValidateCode)(e,t,c)}`),d(t),a||n.assign(g,!0)},u=>{n.if((0,it._)`!(${u} instanceof ${s.ValidationError})`,()=>n.throw(u)),w(u),a||n.assign(g,!1)}),e.ok(g)}function h(){e.result((0,bs.callValidateCode)(e,t,c),()=>d(t),()=>w(t))}function w(g){const u=(0,it._)`${g}.errors`;n.assign(dr.default.vErrors,(0,it._)`${dr.default.vErrors} === null ? ${u} : ${dr.default.vErrors}.concat(${u})`),n.assign(dr.default.errors,(0,it._)`${dr.default.vErrors}.length`)}function d(g){var u;if(!s.opts.unevaluated)return;const m=(u=r==null?void 0:r.validate)===null||u===void 0?void 0:u.evaluated;if(s.props!==!0)if(m&&!m.dynamicProps)m.props!==void 0&&(s.props=Xr.mergeEvaluated.props(n,m.props,s.props));else{const f=n.var("props",(0,it._)`${g}.evaluated.props`);s.props=Xr.mergeEvaluated.props(n,f,s.props,it.Name)}if(s.items!==!0)if(m&&!m.dynamicItems)m.items!==void 0&&(s.items=Xr.mergeEvaluated.items(n,m.items,s.items));else{const f=n.var("items",(0,it._)`${g}.evaluated.items`);s.items=Xr.mergeEvaluated.items(n,f,s.items,it.Name)}}}sr.callRef=on;sr.default=ju;Object.defineProperty(di,"__esModule",{value:!0});const Du=hi,zu=sr,Fu=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",Du.default,zu.default];di.default=Fu;var pi={},mi={};Object.defineProperty(mi,"__esModule",{value:!0});const _n=Pe(),Kt=_n.operators,vn={maximum:{okStr:"<=",ok:Kt.LTE,fail:Kt.GT},minimum:{okStr:">=",ok:Kt.GTE,fail:Kt.LT},exclusiveMaximum:{okStr:"<",ok:Kt.LT,fail:Kt.GTE},exclusiveMinimum:{okStr:">",ok:Kt.GT,fail:Kt.LTE}},Mu={message:({keyword:e,schemaCode:t})=>(0,_n.str)`must be ${vn[e].okStr} ${t}`,params:({keyword:e,schemaCode:t})=>(0,_n._)`{comparison: ${vn[e].okStr}, limit: ${t}}`},Uu={keyword:Object.keys(vn),type:"number",schemaType:"number",$data:!0,error:Mu,code(e){const{keyword:t,data:r,schemaCode:i}=e;e.fail$data((0,_n._)`${r} ${vn[t].fail} ${i} || isNaN(${r})`)}};mi.default=Uu;var gi={};Object.defineProperty(gi,"__esModule",{value:!0});const Dr=Pe(),Bu={message:({schemaCode:e})=>(0,Dr.str)`must be multiple of ${e}`,params:({schemaCode:e})=>(0,Dr._)`{multipleOf: ${e}}`},Lu={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:Bu,code(e){const{gen:t,data:r,schemaCode:i,it:n}=e,s=n.opts.multipleOfPrecision,a=t.let("res"),o=s?(0,Dr._)`Math.abs(Math.round(${a}) - ${a}) > 1e-${s}`:(0,Dr._)`${a} !== parseInt(${a})`;e.fail$data((0,Dr._)`(${i} === 0 || (${a} = ${r}/${i}, ${o}))`)}};gi.default=Lu;var _i={},vi={};Object.defineProperty(vi,"__esModule",{value:!0});function Da(e){const t=e.length;let r=0,i=0,n;for(;i<t;)r++,n=e.charCodeAt(i++),n>=55296&&n<=56319&&i<t&&(n=e.charCodeAt(i),(n&64512)===56320&&i++);return r}vi.default=Da;Da.code='require("ajv/dist/runtime/ucs2length").default';Object.defineProperty(_i,"__esModule",{value:!0});const er=Pe(),Vu=Ne,qu=vi,Ku={message({keyword:e,schemaCode:t}){const r=e==="maxLength"?"more":"fewer";return(0,er.str)`must NOT have ${r} than ${t} characters`},params:({schemaCode:e})=>(0,er._)`{limit: ${e}}`},Wu={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:Ku,code(e){const{keyword:t,data:r,schemaCode:i,it:n}=e,s=t==="maxLength"?er.operators.GT:er.operators.LT,a=n.opts.unicode===!1?(0,er._)`${r}.length`:(0,er._)`${(0,Vu.useFunc)(e.gen,qu.default)}(${r})`;e.fail$data((0,er._)`${a} ${s} ${i}`)}};_i.default=Wu;var yi={};Object.defineProperty(yi,"__esModule",{value:!0});const Gu=Ce,yn=Pe(),Hu={message:({schemaCode:e})=>(0,yn.str)`must match pattern "${e}"`,params:({schemaCode:e})=>(0,yn._)`{pattern: ${e}}`},xu={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:Hu,code(e){const{data:t,$data:r,schema:i,schemaCode:n,it:s}=e,a=s.opts.unicodeRegExp?"u":"",o=r?(0,yn._)`(new RegExp(${n}, ${a}))`:(0,Gu.usePattern)(e,i);e.fail$data((0,yn._)`!${o}.test(${t})`)}};yi.default=xu;var bi={};Object.defineProperty(bi,"__esModule",{value:!0});const zr=Pe(),Zu={message({keyword:e,schemaCode:t}){const r=e==="maxProperties"?"more":"fewer";return(0,zr.str)`must NOT have ${r} than ${t} properties`},params:({schemaCode:e})=>(0,zr._)`{limit: ${e}}`},Ju={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:Zu,code(e){const{keyword:t,data:r,schemaCode:i}=e,n=t==="maxProperties"?zr.operators.GT:zr.operators.LT;e.fail$data((0,zr._)`Object.keys(${r}).length ${n} ${i}`)}};bi.default=Ju;var wi={};Object.defineProperty(wi,"__esModule",{value:!0});const Pr=Ce,Fr=Pe(),Yu=Ne,Xu={message:({params:{missingProperty:e}})=>(0,Fr.str)`must have required property '${e}'`,params:({params:{missingProperty:e}})=>(0,Fr._)`{missingProperty: ${e}}`},Qu={keyword:"required",type:"object",schemaType:"array",$data:!0,error:Xu,code(e){const{gen:t,schema:r,schemaCode:i,data:n,$data:s,it:a}=e,{opts:o}=a;if(!s&&r.length===0)return;const l=r.length>=o.loopRequired;if(a.allErrors?c():p(),o.strictRequired){const d=e.parentSchema.properties,{definedProperties:g}=e.it;for(const u of r)if((d==null?void 0:d[u])===void 0&&!g.has(u)){const m=a.schemaEnv.baseId+a.errSchemaPath,f=`required property "${u}" is not defined at "${m}" (strictRequired)`;(0,Yu.checkStrictMode)(a,f,a.opts.strictRequired)}}function c(){if(l||s)e.block$data(Fr.nil,h);else for(const d of r)(0,Pr.checkReportMissingProp)(e,d)}function p(){const d=t.let("missing");if(l||s){const g=t.let("valid",!0);e.block$data(g,()=>w(d,g)),e.ok(g)}else t.if((0,Pr.checkMissingProp)(e,r,d)),(0,Pr.reportMissingProp)(e,d),t.else()}function h(){t.forOf("prop",i,d=>{e.setParams({missingProperty:d}),t.if((0,Pr.noPropertyInData)(t,n,d,o.ownProperties),()=>e.error())})}function w(d,g){e.setParams({missingProperty:d}),t.forOf(d,i,()=>{t.assign(g,(0,Pr.propertyInData)(t,n,d,o.ownProperties)),t.if((0,Fr.not)(g),()=>{e.error(),t.break()})},Fr.nil)}}};wi.default=Qu;var ki={};Object.defineProperty(ki,"__esModule",{value:!0});const Mr=Pe(),ef={message({keyword:e,schemaCode:t}){const r=e==="maxItems"?"more":"fewer";return(0,Mr.str)`must NOT have ${r} than ${t} items`},params:({schemaCode:e})=>(0,Mr._)`{limit: ${e}}`},tf={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:ef,code(e){const{keyword:t,data:r,schemaCode:i}=e,n=t==="maxItems"?Mr.operators.GT:Mr.operators.LT;e.fail$data((0,Mr._)`${r}.length ${n} ${i}`)}};ki.default=tf;var $i={},Kr={};Object.defineProperty(Kr,"__esModule",{value:!0});const za=_a;za.code='require("ajv/dist/runtime/equal").default';Kr.default=za;Object.defineProperty($i,"__esModule",{value:!0});const Mn=Lr,Ze=Pe(),rf=Ne,nf=Kr,sf={message:({params:{i:e,j:t}})=>(0,Ze.str)`must NOT have duplicate items (items ## ${t} and ${e} are identical)`,params:({params:{i:e,j:t}})=>(0,Ze._)`{i: ${e}, j: ${t}}`},af={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:sf,code(e){const{gen:t,data:r,$data:i,schema:n,parentSchema:s,schemaCode:a,it:o}=e;if(!i&&!n)return;const l=t.let("valid"),c=s.items?(0,Mn.getSchemaTypes)(s.items):[];e.block$data(l,p,(0,Ze._)`${a} === false`),e.ok(l);function p(){const g=t.let("i",(0,Ze._)`${r}.length`),u=t.let("j");e.setParams({i:g,j:u}),t.assign(l,!0),t.if((0,Ze._)`${g} > 1`,()=>(h()?w:d)(g,u))}function h(){return c.length>0&&!c.some(g=>g==="object"||g==="array")}function w(g,u){const m=t.name("item"),f=(0,Mn.checkDataTypes)(c,m,o.opts.strictNumbers,Mn.DataType.Wrong),y=t.const("indices",(0,Ze._)`{}`);t.for((0,Ze._)`;${g}--;`,()=>{t.let(m,(0,Ze._)`${r}[${g}]`),t.if(f,(0,Ze._)`continue`),c.length>1&&t.if((0,Ze._)`typeof ${m} == "string"`,(0,Ze._)`${m} += "_"`),t.if((0,Ze._)`typeof ${y}[${m}] == "number"`,()=>{t.assign(u,(0,Ze._)`${y}[${m}]`),e.error(),t.assign(l,!1).break()}).code((0,Ze._)`${y}[${m}] = ${g}`)})}function d(g,u){const m=(0,rf.useFunc)(t,nf.default),f=t.name("outer");t.label(f).for((0,Ze._)`;${g}--;`,()=>t.for((0,Ze._)`${u} = ${g}; ${u}--;`,()=>t.if((0,Ze._)`${m}(${r}[${g}], ${r}[${u}])`,()=>{e.error(),t.assign(l,!1).break(f)})))}}};$i.default=af;var Ei={};Object.defineProperty(Ei,"__esModule",{value:!0});const Hn=Pe(),of=Ne,lf=Kr,cf={message:"must be equal to constant",params:({schemaCode:e})=>(0,Hn._)`{allowedValue: ${e}}`},uf={keyword:"const",$data:!0,error:cf,code(e){const{gen:t,data:r,$data:i,schemaCode:n,schema:s}=e;i||s&&typeof s=="object"?e.fail$data((0,Hn._)`!${(0,of.useFunc)(t,lf.default)}(${r}, ${n})`):e.fail((0,Hn._)`${s} !== ${r}`)}};Ei.default=uf;var Si={};Object.defineProperty(Si,"__esModule",{value:!0});const Rr=Pe(),ff=Ne,df=Kr,hf={message:"must be equal to one of the allowed values",params:({schemaCode:e})=>(0,Rr._)`{allowedValues: ${e}}`},pf={keyword:"enum",schemaType:"array",$data:!0,error:hf,code(e){const{gen:t,data:r,$data:i,schema:n,schemaCode:s,it:a}=e;if(!i&&n.length===0)throw new Error("enum must have non-empty array");const o=n.length>=a.opts.loopEnum;let l;const c=()=>l??(l=(0,ff.useFunc)(t,df.default));let p;if(o||i)p=t.let("valid"),e.block$data(p,h);else{if(!Array.isArray(n))throw new Error("ajv implementation error");const d=t.const("vSchema",s);p=(0,Rr.or)(...n.map((g,u)=>w(d,u)))}e.pass(p);function h(){t.assign(p,!1),t.forOf("v",s,d=>t.if((0,Rr._)`${c()}(${r}, ${d})`,()=>t.assign(p,!0).break()))}function w(d,g){const u=n[g];return typeof u=="object"&&u!==null?(0,Rr._)`${c()}(${r}, ${d}[${g}])`:(0,Rr._)`${r} === ${u}`}}};Si.default=pf;Object.defineProperty(pi,"__esModule",{value:!0});const mf=mi,gf=gi,_f=_i,vf=yi,yf=bi,bf=wi,wf=ki,kf=$i,$f=Ei,Ef=Si,Sf=[mf.default,gf.default,_f.default,vf.default,yf.default,bf.default,wf.default,kf.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},$f.default,Ef.default];pi.default=Sf;var Ai={},wr={};Object.defineProperty(wr,"__esModule",{value:!0});wr.validateAdditionalItems=void 0;const tr=Pe(),xn=Ne,Af={message:({params:{len:e}})=>(0,tr.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,tr._)`{limit: ${e}}`},Cf={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:Af,code(e){const{parentSchema:t,it:r}=e,{items:i}=t;if(!Array.isArray(i)){(0,xn.checkStrictMode)(r,'"additionalItems" is ignored when "items" is not an array of schemas');return}Fa(e,i)}};function Fa(e,t){const{gen:r,schema:i,data:n,keyword:s,it:a}=e;a.items=!0;const o=r.const("len",(0,tr._)`${n}.length`);if(i===!1)e.setParams({len:t.length}),e.pass((0,tr._)`${o} <= ${t.length}`);else if(typeof i=="object"&&!(0,xn.alwaysValidSchema)(a,i)){const c=r.var("valid",(0,tr._)`${o} <= ${t.length}`);r.if((0,tr.not)(c),()=>l(c)),e.ok(c)}function l(c){r.forRange("i",t.length,o,p=>{e.subschema({keyword:s,dataProp:p,dataPropType:xn.Type.Num},c),a.allErrors||r.if((0,tr.not)(c),()=>r.break())})}}wr.validateAdditionalItems=Fa;wr.default=Cf;var Ci={},kr={};Object.defineProperty(kr,"__esModule",{value:!0});kr.validateTuple=void 0;const ks=Pe(),ln=Ne,Pf=Ce,Of={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(e){const{schema:t,it:r}=e;if(Array.isArray(t))return Ma(e,"additionalItems",t);r.items=!0,!(0,ln.alwaysValidSchema)(r,t)&&e.ok((0,Pf.validateArray)(e))}};function Ma(e,t,r=e.schema){const{gen:i,parentSchema:n,data:s,keyword:a,it:o}=e;p(n),o.opts.unevaluated&&r.length&&o.items!==!0&&(o.items=ln.mergeEvaluated.items(i,r.length,o.items));const l=i.name("valid"),c=i.const("len",(0,ks._)`${s}.length`);r.forEach((h,w)=>{(0,ln.alwaysValidSchema)(o,h)||(i.if((0,ks._)`${c} > ${w}`,()=>e.subschema({keyword:a,schemaProp:w,dataProp:w},l)),e.ok(l))});function p(h){const{opts:w,errSchemaPath:d}=o,g=r.length,u=g===h.minItems&&(g===h.maxItems||h[t]===!1);if(w.strictTuples&&!u){const m=`"${a}" is ${g}-tuple, but minItems or maxItems/${t} are not specified or different at path "${d}"`;(0,ln.checkStrictMode)(o,m,w.strictTuples)}}}kr.validateTuple=Ma;kr.default=Of;Object.defineProperty(Ci,"__esModule",{value:!0});const If=kr,Rf={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:e=>(0,If.validateTuple)(e,"items")};Ci.default=Rf;var Pi={};Object.defineProperty(Pi,"__esModule",{value:!0});const $s=Pe(),Nf=Ne,Tf=Ce,jf=wr,Df={message:({params:{len:e}})=>(0,$s.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,$s._)`{limit: ${e}}`},zf={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:Df,code(e){const{schema:t,parentSchema:r,it:i}=e,{prefixItems:n}=r;i.items=!0,!(0,Nf.alwaysValidSchema)(i,t)&&(n?(0,jf.validateAdditionalItems)(e,n):e.ok((0,Tf.validateArray)(e)))}};Pi.default=zf;var Oi={};Object.defineProperty(Oi,"__esModule",{value:!0});const ft=Pe(),Qr=Ne,Ff={message:({params:{min:e,max:t}})=>t===void 0?(0,ft.str)`must contain at least ${e} valid item(s)`:(0,ft.str)`must contain at least ${e} and no more than ${t} valid item(s)`,params:({params:{min:e,max:t}})=>t===void 0?(0,ft._)`{minContains: ${e}}`:(0,ft._)`{minContains: ${e}, maxContains: ${t}}`},Mf={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:Ff,code(e){const{gen:t,schema:r,parentSchema:i,data:n,it:s}=e;let a,o;const{minContains:l,maxContains:c}=i;s.opts.next?(a=l===void 0?1:l,o=c):a=1;const p=t.const("len",(0,ft._)`${n}.length`);if(e.setParams({min:a,max:o}),o===void 0&&a===0){(0,Qr.checkStrictMode)(s,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(o!==void 0&&a>o){(0,Qr.checkStrictMode)(s,'"minContains" > "maxContains" is always invalid'),e.fail();return}if((0,Qr.alwaysValidSchema)(s,r)){let u=(0,ft._)`${p} >= ${a}`;o!==void 0&&(u=(0,ft._)`${u} && ${p} <= ${o}`),e.pass(u);return}s.items=!0;const h=t.name("valid");o===void 0&&a===1?d(h,()=>t.if(h,()=>t.break())):a===0?(t.let(h,!0),o!==void 0&&t.if((0,ft._)`${n}.length > 0`,w)):(t.let(h,!1),w()),e.result(h,()=>e.reset());function w(){const u=t.name("_valid"),m=t.let("count",0);d(u,()=>t.if(u,()=>g(m)))}function d(u,m){t.forRange("i",0,p,f=>{e.subschema({keyword:"contains",dataProp:f,dataPropType:Qr.Type.Num,compositeRule:!0},u),m()})}function g(u){t.code((0,ft._)`${u}++`),o===void 0?t.if((0,ft._)`${u} >= ${a}`,()=>t.assign(h,!0).break()):(t.if((0,ft._)`${u} > ${o}`,()=>t.assign(h,!1).break()),a===1?t.assign(h,!0):t.if((0,ft._)`${u} >= ${a}`,()=>t.assign(h,!0)))}}};Oi.default=Mf;var Ua={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.validateSchemaDeps=e.validatePropertyDeps=e.error=void 0;const t=Pe(),r=Ne,i=Ce;e.error={message:({params:{property:l,depsCount:c,deps:p}})=>{const h=c===1?"property":"properties";return(0,t.str)`must have ${h} ${p} when property ${l} is present`},params:({params:{property:l,depsCount:c,deps:p,missingProperty:h}})=>(0,t._)`{property: ${l},
    missingProperty: ${h},
    depsCount: ${c},
    deps: ${p}}`};const n={keyword:"dependencies",type:"object",schemaType:"object",error:e.error,code(l){const[c,p]=s(l);a(l,c),o(l,p)}};function s({schema:l}){const c={},p={};for(const h in l){if(h==="__proto__")continue;const w=Array.isArray(l[h])?c:p;w[h]=l[h]}return[c,p]}function a(l,c=l.schema){const{gen:p,data:h,it:w}=l;if(Object.keys(c).length===0)return;const d=p.let("missing");for(const g in c){const u=c[g];if(u.length===0)continue;const m=(0,i.propertyInData)(p,h,g,w.opts.ownProperties);l.setParams({property:g,depsCount:u.length,deps:u.join(", ")}),w.allErrors?p.if(m,()=>{for(const f of u)(0,i.checkReportMissingProp)(l,f)}):(p.if((0,t._)`${m} && (${(0,i.checkMissingProp)(l,u,d)})`),(0,i.reportMissingProp)(l,d),p.else())}}e.validatePropertyDeps=a;function o(l,c=l.schema){const{gen:p,data:h,keyword:w,it:d}=l,g=p.name("valid");for(const u in c)(0,r.alwaysValidSchema)(d,c[u])||(p.if((0,i.propertyInData)(p,h,u,d.opts.ownProperties),()=>{const m=l.subschema({keyword:w,schemaProp:u},g);l.mergeValidEvaluated(m,g)},()=>p.var(g,!0)),l.ok(g))}e.validateSchemaDeps=o,e.default=n})(Ua);var Ii={};Object.defineProperty(Ii,"__esModule",{value:!0});const Ba=Pe(),Uf=Ne,Bf={message:"property name must be valid",params:({params:e})=>(0,Ba._)`{propertyName: ${e.propertyName}}`},Lf={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:Bf,code(e){const{gen:t,schema:r,data:i,it:n}=e;if((0,Uf.alwaysValidSchema)(n,r))return;const s=t.name("valid");t.forIn("key",i,a=>{e.setParams({propertyName:a}),e.subschema({keyword:"propertyNames",data:a,dataTypes:["string"],propertyName:a,compositeRule:!0},s),t.if((0,Ba.not)(s),()=>{e.error(!0),n.allErrors||t.break()})}),e.ok(s)}};Ii.default=Lf;var Sn={};Object.defineProperty(Sn,"__esModule",{value:!0});const en=Ce,mt=Pe(),Vf=Tt,tn=Ne,qf={message:"must NOT have additional properties",params:({params:e})=>(0,mt._)`{additionalProperty: ${e.additionalProperty}}`},Kf={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:qf,code(e){const{gen:t,schema:r,parentSchema:i,data:n,errsCount:s,it:a}=e;if(!s)throw new Error("ajv implementation error");const{allErrors:o,opts:l}=a;if(a.props=!0,l.removeAdditional!=="all"&&(0,tn.alwaysValidSchema)(a,r))return;const c=(0,en.allSchemaProperties)(i.properties),p=(0,en.allSchemaProperties)(i.patternProperties);h(),e.ok((0,mt._)`${s} === ${Vf.default.errors}`);function h(){t.forIn("key",n,m=>{!c.length&&!p.length?g(m):t.if(w(m),()=>g(m))})}function w(m){let f;if(c.length>8){const y=(0,tn.schemaRefOrVal)(a,i.properties,"properties");f=(0,en.isOwnProperty)(t,y,m)}else c.length?f=(0,mt.or)(...c.map(y=>(0,mt._)`${m} === ${y}`)):f=mt.nil;return p.length&&(f=(0,mt.or)(f,...p.map(y=>(0,mt._)`${(0,en.usePattern)(e,y)}.test(${m})`))),(0,mt.not)(f)}function d(m){t.code((0,mt._)`delete ${n}[${m}]`)}function g(m){if(l.removeAdditional==="all"||l.removeAdditional&&r===!1){d(m);return}if(r===!1){e.setParams({additionalProperty:m}),e.error(),o||t.break();return}if(typeof r=="object"&&!(0,tn.alwaysValidSchema)(a,r)){const f=t.name("valid");l.removeAdditional==="failing"?(u(m,f,!1),t.if((0,mt.not)(f),()=>{e.reset(),d(m)})):(u(m,f),o||t.if((0,mt.not)(f),()=>t.break()))}}function u(m,f,y){const k={keyword:"additionalProperties",dataProp:m,dataPropType:tn.Type.Str};y===!1&&Object.assign(k,{compositeRule:!0,createErrors:!1,allErrors:!1}),e.subschema(k,f)}}};Sn.default=Kf;var Ri={};Object.defineProperty(Ri,"__esModule",{value:!0});const Wf=_t,Es=Ce,Un=Ne,Ss=Sn,Gf={keyword:"properties",type:"object",schemaType:"object",code(e){const{gen:t,schema:r,parentSchema:i,data:n,it:s}=e;s.opts.removeAdditional==="all"&&i.additionalProperties===void 0&&Ss.default.code(new Wf.KeywordCxt(s,Ss.default,"additionalProperties"));const a=(0,Es.allSchemaProperties)(r);for(const h of a)s.definedProperties.add(h);s.opts.unevaluated&&a.length&&s.props!==!0&&(s.props=Un.mergeEvaluated.props(t,(0,Un.toHash)(a),s.props));const o=a.filter(h=>!(0,Un.alwaysValidSchema)(s,r[h]));if(o.length===0)return;const l=t.name("valid");for(const h of o)c(h)?p(h):(t.if((0,Es.propertyInData)(t,n,h,s.opts.ownProperties)),p(h),s.allErrors||t.else().var(l,!0),t.endIf()),e.it.definedProperties.add(h),e.ok(l);function c(h){return s.opts.useDefaults&&!s.compositeRule&&r[h].default!==void 0}function p(h){e.subschema({keyword:"properties",schemaProp:h,dataProp:h},l)}}};Ri.default=Gf;var Ni={};Object.defineProperty(Ni,"__esModule",{value:!0});const As=Ce,rn=Pe(),Cs=Ne,Ps=Ne,Hf={keyword:"patternProperties",type:"object",schemaType:"object",code(e){const{gen:t,schema:r,data:i,parentSchema:n,it:s}=e,{opts:a}=s,o=(0,As.allSchemaProperties)(r),l=o.filter(u=>(0,Cs.alwaysValidSchema)(s,r[u]));if(o.length===0||l.length===o.length&&(!s.opts.unevaluated||s.props===!0))return;const c=a.strictSchema&&!a.allowMatchingProperties&&n.properties,p=t.name("valid");s.props!==!0&&!(s.props instanceof rn.Name)&&(s.props=(0,Ps.evaluatedPropsToName)(t,s.props));const{props:h}=s;w();function w(){for(const u of o)c&&d(u),s.allErrors?g(u):(t.var(p,!0),g(u),t.if(p))}function d(u){for(const m in c)new RegExp(u).test(m)&&(0,Cs.checkStrictMode)(s,`property ${m} matches pattern ${u} (use allowMatchingProperties)`)}function g(u){t.forIn("key",i,m=>{t.if((0,rn._)`${(0,As.usePattern)(e,u)}.test(${m})`,()=>{const f=l.includes(u);f||e.subschema({keyword:"patternProperties",schemaProp:u,dataProp:m,dataPropType:Ps.Type.Str},p),s.opts.unevaluated&&h!==!0?t.assign((0,rn._)`${h}[${m}]`,!0):!f&&!s.allErrors&&t.if((0,rn.not)(p),()=>t.break())})})}}};Ni.default=Hf;var Ti={};Object.defineProperty(Ti,"__esModule",{value:!0});const xf=Ne,Zf={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(e){const{gen:t,schema:r,it:i}=e;if((0,xf.alwaysValidSchema)(i,r)){e.fail();return}const n=t.name("valid");e.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},n),e.failResult(n,()=>e.reset(),()=>e.error())},error:{message:"must NOT be valid"}};Ti.default=Zf;var ji={};Object.defineProperty(ji,"__esModule",{value:!0});const Jf=Ce,Yf={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:Jf.validateUnion,error:{message:"must match a schema in anyOf"}};ji.default=Yf;var Di={};Object.defineProperty(Di,"__esModule",{value:!0});const cn=Pe(),Xf=Ne,Qf={message:"must match exactly one schema in oneOf",params:({params:e})=>(0,cn._)`{passingSchemas: ${e.passing}}`},ed={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:Qf,code(e){const{gen:t,schema:r,parentSchema:i,it:n}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");if(n.opts.discriminator&&i.discriminator)return;const s=r,a=t.let("valid",!1),o=t.let("passing",null),l=t.name("_valid");e.setParams({passing:o}),t.block(c),e.result(a,()=>e.reset(),()=>e.error(!0));function c(){s.forEach((p,h)=>{let w;(0,Xf.alwaysValidSchema)(n,p)?t.var(l,!0):w=e.subschema({keyword:"oneOf",schemaProp:h,compositeRule:!0},l),h>0&&t.if((0,cn._)`${l} && ${a}`).assign(a,!1).assign(o,(0,cn._)`[${o}, ${h}]`).else(),t.if(l,()=>{t.assign(a,!0),t.assign(o,h),w&&e.mergeEvaluated(w,cn.Name)})})}}};Di.default=ed;var zi={};Object.defineProperty(zi,"__esModule",{value:!0});const td=Ne,rd={keyword:"allOf",schemaType:"array",code(e){const{gen:t,schema:r,it:i}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");const n=t.name("valid");r.forEach((s,a)=>{if((0,td.alwaysValidSchema)(i,s))return;const o=e.subschema({keyword:"allOf",schemaProp:a},n);e.ok(n),e.mergeEvaluated(o)})}};zi.default=rd;var Fi={};Object.defineProperty(Fi,"__esModule",{value:!0});const bn=Pe(),La=Ne,nd={message:({params:e})=>(0,bn.str)`must match "${e.ifClause}" schema`,params:({params:e})=>(0,bn._)`{failingKeyword: ${e.ifClause}}`},id={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:nd,code(e){const{gen:t,parentSchema:r,it:i}=e;r.then===void 0&&r.else===void 0&&(0,La.checkStrictMode)(i,'"if" without "then" and "else" is ignored');const n=Os(i,"then"),s=Os(i,"else");if(!n&&!s)return;const a=t.let("valid",!0),o=t.name("_valid");if(l(),e.reset(),n&&s){const p=t.let("ifClause");e.setParams({ifClause:p}),t.if(o,c("then",p),c("else",p))}else n?t.if(o,c("then")):t.if((0,bn.not)(o),c("else"));e.pass(a,()=>e.error(!0));function l(){const p=e.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},o);e.mergeEvaluated(p)}function c(p,h){return()=>{const w=e.subschema({keyword:p},o);t.assign(a,o),e.mergeValidEvaluated(w,a),h?t.assign(h,(0,bn._)`${p}`):e.setParams({ifClause:p})}}}};function Os(e,t){const r=e.schema[t];return r!==void 0&&!(0,La.alwaysValidSchema)(e,r)}Fi.default=id;var Mi={};Object.defineProperty(Mi,"__esModule",{value:!0});const sd=Ne,ad={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:e,parentSchema:t,it:r}){t.if===void 0&&(0,sd.checkStrictMode)(r,`"${e}" without "if" is ignored`)}};Mi.default=ad;Object.defineProperty(Ai,"__esModule",{value:!0});const od=wr,ld=Ci,cd=kr,ud=Pi,fd=Oi,dd=Ua,hd=Ii,pd=Sn,md=Ri,gd=Ni,_d=Ti,vd=ji,yd=Di,bd=zi,wd=Fi,kd=Mi;function $d(e=!1){const t=[_d.default,vd.default,yd.default,bd.default,wd.default,kd.default,hd.default,pd.default,dd.default,md.default,gd.default];return e?t.push(ld.default,ud.default):t.push(od.default,cd.default),t.push(fd.default),t}Ai.default=$d;var Ui={},Bi={};Object.defineProperty(Bi,"__esModule",{value:!0});const We=Pe(),Ed={message:({schemaCode:e})=>(0,We.str)`must match format "${e}"`,params:({schemaCode:e})=>(0,We._)`{format: ${e}}`},Sd={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:Ed,code(e,t){const{gen:r,data:i,$data:n,schema:s,schemaCode:a,it:o}=e,{opts:l,errSchemaPath:c,schemaEnv:p,self:h}=o;if(!l.validateFormats)return;n?w():d();function w(){const g=r.scopeValue("formats",{ref:h.formats,code:l.code.formats}),u=r.const("fDef",(0,We._)`${g}[${a}]`),m=r.let("fType"),f=r.let("format");r.if((0,We._)`typeof ${u} == "object" && !(${u} instanceof RegExp)`,()=>r.assign(m,(0,We._)`${u}.type || "string"`).assign(f,(0,We._)`${u}.validate`),()=>r.assign(m,(0,We._)`"string"`).assign(f,u)),e.fail$data((0,We.or)(y(),k()));function y(){return l.strictSchema===!1?We.nil:(0,We._)`${a} && !${f}`}function k(){const E=p.$async?(0,We._)`(${u}.async ? await ${f}(${i}) : ${f}(${i}))`:(0,We._)`${f}(${i})`,A=(0,We._)`(typeof ${f} == "function" ? ${E} : ${f}.test(${i}))`;return(0,We._)`${f} && ${f} !== true && ${m} === ${t} && !${A}`}}function d(){const g=h.formats[s];if(!g){y();return}if(g===!0)return;const[u,m,f]=k(g);u===t&&e.pass(E());function y(){if(l.strictSchema===!1){h.logger.warn(A());return}throw new Error(A());function A(){return`unknown format "${s}" ignored in schema at path "${c}"`}}function k(A){const C=A instanceof RegExp?(0,We.regexpCode)(A):l.code.formats?(0,We._)`${l.code.formats}${(0,We.getProperty)(s)}`:void 0,I=r.scopeValue("formats",{key:s,ref:A,code:C});return typeof A=="object"&&!(A instanceof RegExp)?[A.type||"string",A.validate,(0,We._)`${I}.validate`]:["string",A,I]}function E(){if(typeof g=="object"&&!(g instanceof RegExp)&&g.async){if(!p.$async)throw new Error("async format in sync schema");return(0,We._)`await ${f}(${i})`}return typeof m=="function"?(0,We._)`${f}(${i})`:(0,We._)`${f}.test(${i})`}}}};Bi.default=Sd;Object.defineProperty(Ui,"__esModule",{value:!0});const Ad=Bi,Cd=[Ad.default];Ui.default=Cd;var br={};Object.defineProperty(br,"__esModule",{value:!0});br.contentVocabulary=br.metadataVocabulary=void 0;br.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"];br.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"];Object.defineProperty(fi,"__esModule",{value:!0});const Pd=di,Od=pi,Id=Ai,Rd=Ui,Is=br,Nd=[Pd.default,Od.default,(0,Id.default)(),Rd.default,Is.metadataVocabulary,Is.contentVocabulary];fi.default=Nd;var Li={},Va={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.DiscrError=void 0,function(t){t.Tag="tag",t.Mapping="mapping"}(e.DiscrError||(e.DiscrError={}))})(Va);Object.defineProperty(Li,"__esModule",{value:!0});const hr=Pe(),Zn=Va,Rs=st,Td=Ne,jd={message:({params:{discrError:e,tagName:t}})=>e===Zn.DiscrError.Tag?`tag "${t}" must be string`:`value of tag "${t}" must be in oneOf`,params:({params:{discrError:e,tag:t,tagName:r}})=>(0,hr._)`{error: ${e}, tag: ${r}, tagValue: ${t}}`},Dd={keyword:"discriminator",type:"object",schemaType:"object",error:jd,code(e){const{gen:t,data:r,schema:i,parentSchema:n,it:s}=e,{oneOf:a}=n;if(!s.opts.discriminator)throw new Error("discriminator: requires discriminator option");const o=i.propertyName;if(typeof o!="string")throw new Error("discriminator: requires propertyName");if(i.mapping)throw new Error("discriminator: mapping is not supported");if(!a)throw new Error("discriminator: requires oneOf keyword");const l=t.let("valid",!1),c=t.const("tag",(0,hr._)`${r}${(0,hr.getProperty)(o)}`);t.if((0,hr._)`typeof ${c} == "string"`,()=>p(),()=>e.error(!1,{discrError:Zn.DiscrError.Tag,tag:c,tagName:o})),e.ok(l);function p(){const d=w();t.if(!1);for(const g in d)t.elseIf((0,hr._)`${c} === ${g}`),t.assign(l,h(d[g]));t.else(),e.error(!1,{discrError:Zn.DiscrError.Mapping,tag:c,tagName:o}),t.endIf()}function h(d){const g=t.name("valid"),u=e.subschema({keyword:"oneOf",schemaProp:d},g);return e.mergeEvaluated(u,hr.Name),g}function w(){var d;const g={},u=f(n);let m=!0;for(let E=0;E<a.length;E++){let A=a[E];A!=null&&A.$ref&&!(0,Td.schemaHasRulesButRef)(A,s.self.RULES)&&(A=Rs.resolveRef.call(s.self,s.schemaEnv.root,s.baseId,A==null?void 0:A.$ref),A instanceof Rs.SchemaEnv&&(A=A.schema));const C=(d=A==null?void 0:A.properties)===null||d===void 0?void 0:d[o];if(typeof C!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${o}"`);m=m&&(u||f(A)),y(C,E)}if(!m)throw new Error(`discriminator: "${o}" must be required`);return g;function f({required:E}){return Array.isArray(E)&&E.includes(o)}function y(E,A){if(E.const)k(E.const,A);else if(E.enum)for(const C of E.enum)k(C,A);else throw new Error(`discriminator: "properties/${o}" must have "const" or "enum"`)}function k(E,A){if(typeof E!="string"||E in g)throw new Error(`discriminator: "${o}" values must be unique strings`);g[E]=A}}}};Li.default=Dd;const zd="http://json-schema.org/draft-07/schema#",Fd="http://json-schema.org/draft-07/schema#",Md="Core schema meta-schema",Ud={schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},Bd=["object","boolean"],Ld={$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},Vd={$schema:zd,$id:Fd,title:Md,definitions:Ud,type:Bd,properties:Ld,default:!0};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.MissingRefError=t.ValidationError=t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=void 0;const r=ca,i=fi,n=Li,s=Vd,a=["/properties"],o="http://json-schema.org/draft-07/schema";class l extends r.default{_addVocabularies(){super._addVocabularies(),i.default.forEach(g=>this.addVocabulary(g)),this.opts.discriminator&&this.addKeyword(n.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const g=this.opts.$data?this.$dataMetaSchema(s,a):s;this.addMetaSchema(g,o,!1),this.refs["http://json-schema.org/schema"]=o}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(o)?o:void 0)}}e.exports=t=l,Object.defineProperty(t,"__esModule",{value:!0}),t.default=l;var c=_t;Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return c.KeywordCxt}});var p=Pe();Object.defineProperty(t,"_",{enumerable:!0,get:function(){return p._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return p.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return p.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return p.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return p.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return p.CodeGen}});var h=Vr;Object.defineProperty(t,"ValidationError",{enumerable:!0,get:function(){return h.default}});var w=qr;Object.defineProperty(t,"MissingRefError",{enumerable:!0,get:function(){return w.default}})})(Yl,hn);const qd=po(hn),qa=async e=>(await Tr.loadAsync(e)).file("pack.mcmeta")!==null,Kd=async e=>{const t=await e.text(),r={type:"array",items:{type:"object",properties:{title:{type:"string"},author:{type:"string"},"disc-namespace":{type:"string"},"model-data":{type:"integer"},"creeper-drop":{type:"boolean"},lores:{type:"array",items:{type:"string"}},"loot-tables":{type:"array",items:{type:"string"}}},required:["author","creeper-drop","disc-namespace","lores","model-data","title"]}};return new qd().compile(r)(JSON.parse(t))},Wd=async(e,t)=>{const r=await e.text(),i=JSON.parse(r),n=await new Tr().loadAsync(t),s=await Promise.all(i.map(async a=>{const o=a["disc-namespace"].substring(a["disc-namespace"].indexOf(".")+1),l=await n.file(`assets/minecraft/sounds/records/${o}.ogg`).async("blob"),c=await n.file(`assets/minecraft/textures/item/music_disc_${o}.png`).async("blob");return{name:a.title,author:a.author,namespace:a["disc-namespace"],creeperDrop:a["creeper-drop"],lores:a.lores.join(`
`),lootTables:a["loot-tables"]??[],uploadedFile:new File([l],`music_disc.${o}.ogg`),oggFile:l,monoFile:l,texture:c}}));ra.set(s)};function Ns(e){let t,r,i,n,s,a,o,l,c,p,h,w,d,g,u,m,f,y,k,E,A,C,I,F,U,H,re,S,q,v,G,ae,Y,fe,L,D,$,O;return{c(){t=le("div"),r=le("div"),i=le("div"),n=le("input"),s=Se(),a=le("img"),l=Se(),c=le("p"),c.textContent="Not Valid",p=Se(),h=le("p"),w=rt(e[3]),u=Se(),m=le("div"),f=le("input"),y=Se(),k=le("img"),A=Se(),C=le("p"),C.textContent="Not Valid",I=Se(),F=le("p"),U=rt(e[4]),S=Se(),q=le("p"),q.textContent="Warning: Importing a resource pack will overwrite any existing resource pack in the tool!",v=Se(),G=le("div"),ae=le("div"),Y=le("div"),Y.innerHTML='<p id="generate_text" class="noselect svelte-1njfzaq">Import</p>',L=Se(),D=le("div"),D.innerHTML='<div id="content" class="svelte-1njfzaq"><p id="generate_text" class="noselect svelte-1njfzaq">Discard</p></div>',B(n,"type","file"),B(n,"name","pack_input"),B(n,"id","pack_input"),B(n,"accept",".zip"),B(n,"class","svelte-1njfzaq"),xe(a.src,o=ni)||B(a,"src",o),B(a,"alt",""),B(a,"class","svelte-1njfzaq"),B(c,"id","error"),B(c,"class","svelte-1njfzaq"),B(i,"class",d=pr(e[1])+" svelte-1njfzaq"),B(f,"type","file"),B(f,"name","discs_input"),B(f,"id","discs_input"),B(f,"accept",".json"),B(f,"class","svelte-1njfzaq"),xe(k.src,E=aa)||B(k,"src",E),B(k,"alt",""),B(k,"class","svelte-1njfzaq"),B(C,"id","error"),B(C,"class","svelte-1njfzaq"),B(m,"class",H=pr(e[2])+" svelte-1njfzaq"),B(r,"class","popupcontainer svelte-1njfzaq"),yt(q,"color","red"),yt(q,"margin-bottom","0"),B(Y,"id","content"),B(Y,"class","svelte-1njfzaq"),B(ae,"id","messagepopupconfirm"),B(ae,"class",fe="popupconfirm "+e[5]+" svelte-1njfzaq"),B(D,"id","messagepopupconfirm"),B(D,"class","popupconfirm svelte-1njfzaq"),B(G,"id","input"),B(G,"class","svelte-1njfzaq"),B(t,"class","popup svelte-1njfzaq")},m(T,b){pe(T,t,b),se(t,r),se(r,i),se(i,n),se(i,s),se(i,a),se(i,l),se(i,c),se(i,p),se(i,h),se(h,w),se(r,u),se(r,m),se(m,f),se(m,y),se(m,k),se(m,A),se(m,C),se(m,I),se(m,F),se(F,U),se(t,S),se(t,q),se(t,v),se(t,G),se(G,ae),se(ae,Y),se(G,L),se(G,D),$||(O=[he(i,"click",e[7]),he(i,"keydown",null),he(m,"click",e[8]),he(m,"keydown",null),he(ae,"click",e[10]),he(ae,"keydown",null),he(D,"click",e[6]),he(D,"keydown",null)],$=!0)},p(T,b){b&8&&vt(w,T[3]),b&2&&d!==(d=pr(T[1])+" svelte-1njfzaq")&&B(i,"class",d),b&16&&vt(U,T[4]),b&4&&H!==(H=pr(T[2])+" svelte-1njfzaq")&&B(m,"class",H),b&32&&fe!==(fe="popupconfirm "+T[5]+" svelte-1njfzaq")&&B(ae,"class",fe)},i(T){g||nt(()=>{g=_r(i,ht,{}),g.start()}),re||nt(()=>{re=_r(m,ht,{}),re.start()})},o:ke,d(T){T&&de(t),$=!1,je(O)}}}function Gd(e){let t,r,i,n,s,a,o,l=e[0]&&Ns(e);return{c(){t=le("div"),i=Se(),l&&l.c(),n=wt(),B(t,"class","popupbackground svelte-1njfzaq"),yt(t,"background-image","url("+ri+")")},m(c,p){pe(c,t,p),pe(c,i,p),l&&l.m(c,p),pe(c,n,p),s=!0,a||(o=[he(t,"click",e[6]),he(t,"keydown",null)],a=!0)},p(c,[p]){c[0]?l?(l.p(c,p),p&1&&we(l,1)):(l=Ns(c),l.c(),we(l,1),l.m(n.parentNode,n)):l&&(l.d(1),l=null)},i(c){s||(nt(()=>{r||(r=vr(t,ht,{},!0)),r.run(1)}),we(l),s=!0)},o(c){r||(r=vr(t,ht,{},!1)),r.run(0),s=!1},d(c){c&&de(t),c&&r&&r.end(),c&&de(i),l&&l.d(c),c&&de(n),a=!1,je(o)}}}function Hd(e,t,r){let i,{closePopup:n}=t;const s=()=>{r(0,n=!1),document.querySelector(".popup").style.display="none"};let a="ready",o="Resource pack",l;const c=()=>{var f;(f=document.querySelector("#pack_input"))==null||f.addEventListener("change",async y=>{const k=y.target.files;if(!k||k.length===0)return;const E=k[0];E.name.length>13?r(3,o=E.name.substring(0,10)+"..."):r(3,o=E.name),await qa(E)?r(1,a="success"):r(1,a="error"),l=E},{once:!0}),document.querySelector("#pack_input").click()};let p="ready",h="discs.json",w;const d=()=>{var f;(f=document.querySelector("#discs_input"))==null||f.addEventListener("change",async y=>{const k=y.target.files;if(!k||k.length===0)return;const E=k[0];E.name.length>13?r(4,h=E.name.substring(0,10)+"..."):r(4,h=E.name),await Kd(E)?r(2,p="success"):r(2,p="error"),w=E},{once:!0}),document.querySelector("#discs_input").click()};let g=!1;const u=async()=>{a==="success"&&p==="success"&&!g&&(g=!0,await Wd(w,l),s())},m=()=>u();return e.$$set=f=>{"closePopup"in f&&r(0,n=f.closePopup)},e.$$.update=()=>{e.$$.dirty&6&&r(5,i=a!=="success"||p!=="success"?"forbid":"")},[n,a,p,o,h,i,s,c,d,u,m]}class xd extends Nt{constructor(t){super(),Rt(this,t,Hd,Gd,bt,{closePopup:0})}}function Ts(e,t,r){const i=e.slice();return i[12]=t[r][0],i[13]=t[r][1],i}function js(e){let t,r,i;function n(a){e[9](a)}let s={};return e[2]!==void 0&&(s.closePopup=e[2]),t=new xd({props:s}),dt.push(()=>At(t,"closePopup",n,e[2])),{c(){tt(t.$$.fragment)},m(a,o){Xe(t,a,o),i=!0},p(a,o){const l={};!r&&o&4&&(r=!0,l.closePopup=a[2],St(()=>r=!1)),t.$set(l)},i(a){i||(we(t.$$.fragment,a),i=!0)},o(a){Ie(t.$$.fragment,a),i=!1},d(a){Qe(t,a)}}}function Zd(e){let t,r,i,n;return{c(){t=le("img"),xe(t.src,r=ni)||B(t,"src",r),B(t,"alt","pack icon"),B(t,"id","pack_icon"),B(t,"class","noselect svelte-18zykgu")},m(s,a){pe(s,t,a),i||(n=[he(t,"click",e[4]),he(t,"keypress",null)],i=!0)},p:ke,d(s){s&&de(t),i=!1,je(n)}}}function Ds(e){let t,r=e[13]+"",i;return{c(){t=le("option"),i=rt(r),t.__value=e[12],t.value=t.__value},m(n,s){pe(n,t,s),se(t,i)},p:ke,d(n){n&&de(t)}}}function Jd(e){let t,r,i;return{c(){t=le("button"),t.textContent="Stereo",B(t,"class","svelte-18zykgu")},m(n,s){pe(n,t,s),r||(i=he(t,"click",e[6]),r=!0)},p:ke,d(n){n&&de(t),r=!1,i()}}}function Yd(e){let t,r,i;return{c(){t=le("button"),t.textContent="Mono",B(t,"class","svelte-18zykgu")},m(n,s){pe(n,t,s),r||(i=he(t,"click",e[6]),r=!0)},p:ke,d(n){n&&de(t),r=!1,i()}}}function Xd(e){let t;function r(s,a){return s[1]?Yd:Jd}let i=r(e),n=i(e);return{c(){n.c(),t=wt()},m(s,a){n.m(s,a),pe(s,t,a)},p(s,a){i===(i=r(s))&&n?n.p(s,a):(n.d(1),n=i(s),n&&(n.c(),n.m(t.parentNode,t)))},d(s){n.d(s),s&&de(t)}}}function Qd(e){let t,r,i;return{c(){t=le("input"),B(t,"type","button"),B(t,"name","import"),B(t,"id","pack_import"),t.value="import",B(t,"class","svelte-18zykgu")},m(n,s){pe(n,t,s),r||(i=he(t,"click",e[7]),r=!0)},p:ke,d(n){n&&de(t),r=!1,i()}}}function eh(e){let t,r,i,n,s,a,o,l,c,p,h,w,d,g,u,m,f,y=e[2]&&js(e);i=new nr({props:{text:"Sets the resourcepack icon",$$slots:{default:[Zd]},$$scope:{ctx:e}}});let k=[...es],E=[];for(let A=0;A<k.length;A+=1)E[A]=Ds(Ts(e,k,A));return h=new nr({props:{text:"Mono: single audio channel but music fading<br>Stereo: multiple audio channels but no music fading",width:"22em",$$slots:{default:[Xd]},$$scope:{ctx:e}}}),g=new nr({props:{text:"Import an existing resourcepack",right:!1,$$slots:{default:[Qd]},$$scope:{ctx:e}}}),{c(){y&&y.c(),t=Se(),r=le("div"),tt(i.$$.fragment),n=Se(),s=le("input"),a=Se(),o=le("input"),l=Se(),c=le("select");for(let A=0;A<E.length;A+=1)E[A].c();p=Se(),tt(h.$$.fragment),w=Se(),d=le("div"),tt(g.$$.fragment),B(s,"type","file"),B(s,"name","pack_icon"),B(s,"id","pack_icon_input"),B(s,"class","hidden"),B(s,"accept","image/png"),B(o,"type","text"),B(o,"name","pack_name"),B(o,"id","pack_name_input"),B(o,"class","svelte-18zykgu"),B(c,"name","version"),B(c,"id","version_input"),B(c,"class","svelte-18zykgu"),e[3]===void 0&&nt(()=>e[11].call(c)),B(d,"id","import_container"),B(d,"class","svelte-18zykgu"),B(r,"id","header"),B(r,"class","svelte-18zykgu")},m(A,C){y&&y.m(A,C),pe(A,t,C),pe(A,r,C),Xe(i,r,null),se(r,n),se(r,s),se(r,a),se(r,o),Wt(o,e[0]),se(r,l),se(r,c);for(let I=0;I<E.length;I+=1)E[I].m(c,null);Yi(c,e[3]),se(r,p),Xe(h,r,null),se(r,w),se(r,d),Xe(g,d,null),u=!0,m||(f=[he(o,"input",e[10]),he(o,"input",e[5]),he(c,"change",e[11])],m=!0)},p(A,[C]){A[2]?y?(y.p(A,C),C&4&&we(y,1)):(y=js(A),y.c(),we(y,1),y.m(t.parentNode,t)):y&&(Ut(),Ie(y,1,1,()=>{y=null}),Bt());const I={};if(C&65536&&(I.$$scope={dirty:C,ctx:A}),i.$set(I),C&1&&o.value!==A[0]&&Wt(o,A[0]),C&0){k=[...es];let H;for(H=0;H<k.length;H+=1){const re=Ts(A,k,H);E[H]?E[H].p(re,C):(E[H]=Ds(re),E[H].c(),E[H].m(c,null))}for(;H<E.length;H+=1)E[H].d(1);E.length=k.length}C&8&&Yi(c,A[3]);const F={};C&65538&&(F.$$scope={dirty:C,ctx:A}),h.$set(F);const U={};C&65536&&(U.$$scope={dirty:C,ctx:A}),g.$set(U)},i(A){u||(we(y),we(i.$$.fragment,A),we(h.$$.fragment,A),we(g.$$.fragment,A),u=!0)},o(A){Ie(y),Ie(i.$$.fragment,A),Ie(h.$$.fragment,A),Ie(g.$$.fragment,A),u=!1},d(A){y&&y.d(A),A&&de(t),A&&de(r),Qe(i),wn(E,A),Qe(h),Qe(g),m=!1,je(f)}}}function th(e,t,r){let i;Vs(e,dn,u=>r(3,i=u));let{packname:n="your_pack_name"}=t,{imagesrc:s=ni}=t,{useMono:a=!0}=t;const o=()=>{var u;(u=document.querySelector("#pack_icon_input"))==null||u.addEventListener("change",()=>{const m=document.querySelector("#pack_icon_input").files;if(!m||m.length===0)return;const f=m[0],y=new FileReader;y.onload=()=>{const k=new Image;k.onload=()=>{const E=document.createElement("canvas");E.width=64,E.height=64,E.getContext("2d").drawImage(k,0,0,64,64);const C=E.toDataURL("image/png");document.querySelector("#pack_icon").src=C},r(8,s=k.src=y.result)},y.readAsDataURL(f)},{once:!0}),document.querySelector("#pack_icon_input").click()},l=()=>{r(0,n=n.replace(" ","_").replace(/[^a-zA-Z0-9_]/g,"").toLowerCase())},c=()=>r(1,a=!a);let p=!1;const h=()=>{r(2,p=!0)};function w(u){p=u,r(2,p)}function d(){n=this.value,r(0,n)}function g(){i=no(this),dn.set(i)}return e.$$set=u=>{"packname"in u&&r(0,n=u.packname),"imagesrc"in u&&r(8,s=u.imagesrc),"useMono"in u&&r(1,a=u.useMono)},[n,a,p,i,o,l,c,h,s,w,d,g]}class rh extends Nt{constructor(t){super(),Rt(this,t,th,eh,bt,{packname:0,imagesrc:8,useMono:1})}}function zs(e){let t,r,i,n,s,a,o;return{c(){t=le("div"),r=le("div"),i=rt(e[1]),n=Se(),s=le("div"),s.innerHTML='<div id="content" class="svelte-16n0rxp"><p id="generate_text" class="noselect svelte-16n0rxp">OK</p></div>',B(r,"class","popupcontainer svelte-16n0rxp"),B(r,"id","messagepopupcontainer"),B(s,"id","messagepopupconfirm"),B(s,"class","popupconfirm svelte-16n0rxp"),B(t,"class","popup svelte-16n0rxp")},m(l,c){pe(l,t,c),se(t,r),se(r,i),se(t,n),se(t,s),a||(o=[he(s,"click",e[2]),he(s,"keydown",null)],a=!0)},p(l,c){c&2&&vt(i,l[1])},d(l){l&&de(t),a=!1,je(o)}}}function nh(e){let t,r,i,n,s,a,o,l=e[0]&&zs(e);return{c(){t=le("div"),i=Se(),l&&l.c(),n=wt(),B(t,"class","popupbackground svelte-16n0rxp"),yt(t,"background-image","url("+ri+")")},m(c,p){pe(c,t,p),pe(c,i,p),l&&l.m(c,p),pe(c,n,p),s=!0,a||(o=[he(t,"click",e[2]),he(t,"keydown",null)],a=!0)},p(c,[p]){c[0]?l?l.p(c,p):(l=zs(c),l.c(),l.m(n.parentNode,n)):l&&(l.d(1),l=null)},i(c){s||(nt(()=>{r||(r=vr(t,ht,{},!0)),r.run(1)}),s=!0)},o(c){r||(r=vr(t,ht,{},!1)),r.run(0),s=!1},d(c){c&&de(t),c&&r&&r.end(),c&&de(i),l&&l.d(c),c&&de(n),a=!1,je(o)}}}function ih(e,t,r){let{text:i}=t,{closePopup:n}=t;const s=()=>{r(0,n=!1)};return e.$$set=a=>{"text"in a&&r(1,i=a.text),"closePopup"in a&&r(0,n=a.closePopup)},[n,i,s]}class sh extends Nt{constructor(t){super(),Rt(this,t,ih,nh,bt,{text:1,closePopup:0})}}const Ka="/jext-reborn/assets/generate_btn-516338f5.png",ah="data:text/plain;base64,IyBIb3cgdG8gc2V0dXAgdGhlIHBsdWdpbgoKIyMgT25jZSB5b3UgaGF2ZSBkb3dubG9hZGVkIHRoaXMgZmlsZSBwdXQgdGhlIGRpc2NzLmpzb24gZmlsZSBpbiB0aGUgcm9vdCBvZiBwbHVnaW4gZGlyZWN0b3J5CgpgYGAKU2VydmVyCuKUlOKUgOKUgOKUgC4uLgrilJTilIDilIDilIBwbHVnaW5zCiAgICDilJTilIDilIDilIBKdWtlYm94RXh0ZW5kZWRSZWJvcm4KICAgIOKUgiAgIOKUlOKUgOKUgOKUgGRpc2NzLmpzb24KCeKUggnilJTilIDilIDilIBjb25maWcuanNvbgoJ4pSCCeKUlOKUgOKUgOKUgC4uLgoJ4pSU4pSA4pSA4pSASmV4dC5qYXIKCeKUlOKUgOKUgOKUgC4uLgpgYGAKCiMjIEFzIGZvciB0aGUgcmVzb3VyY2UgcGFjayBmaWxlIHlvdSBjYW4gc2V0IGl0IHVwIGJ5IGVkaXRpbmcgdGhlIHNlcnZlciBjb25maWcgZmlsZQoKRXhhbXBsZSB1cGxvYWQgeW91ciBmaWxlIHRvIGRyb3Bib3guCkdlbmVyYXRlIGEgZG93bmxvYWQgdXJsIGFuZCByZXBsYWNlIHRoZSBkbD0wIGF0IHRoZSBlbmQgb2YgdGhlIHVybCB3aXRoIGEgZGw9MQoKRXhhbXBsZToKb3JpZ2luYWwgdXJsOiBodHRwczovL3d3dy5kcm9wYm94LmNvbS9zL21zaWU3aHVjbnBia2Z5L3Rlc3QuUE5HP2RsPTAKZWRpdGVkICAgdXJsOiBodHRwczovL3d3dy5kcm9wYm94LmNvbS9zL21zaWU3aHVjbnBia2Z5L3Rlc3QuUE5HP2RsPTEKCnRoZW4gaW4gdGhlIHNlcnZlci5wcm9wZXJ0aWVzIGZpbGUgc2V0IHRoZSBzZXJ2ZXItcmVzb3VyY2UtcGFjayB0byB0aGUgZWRpdGVkIHVybAoKIyBZb3VyIHBsdWdpbiBpcyBub3cgcmVhZHkgdG8gZ28sIHJlc3RhcnQgdGhlIHNlcnZlciB0byBzdGFydCB1c2luZyBqZXh0";let Wa;dn.subscribe(e=>Wa=e);const oh=async(e,t,r,i,n)=>{const s=new Tr,a=`
        {"pack": {"pack_format": ${Wa},"description": "Adds custom musics discs"}}
    `;s.file("pack.mcmeta",a);const l=await(await(await fetch(t)).blob()).arrayBuffer();s.file("pack.png",l);const c=s.folder("assets").folder("minecraft"),p={};e.forEach(u=>{p[`music_disc.${u.namespace}`]={sounds:[{name:`records/${u.namespace}`,stream:!0}]}}),c.file("sounds.json",JSON.stringify(p,null,2));const h=c.folder("models").folder("item"),w=c.folder("sounds").folder("records"),d=c.folder("textures").folder("item"),g={parent:"item/generated",textures:{layer0:"item/music_disc_11"},overrides:e.map((u,m)=>({predicate:{custom_model_data:m+1},model:`item/music_disc_${u.namespace}`}))};h.file("music_disc_11.json",JSON.stringify(g,null,2));for(let u=0;u<e.length;u++){const m=e[u],f=await(await il(m.texture,16,16)).arrayBuffer();d.file(`music_disc_${m.namespace}.png`,f);const y=i?await m.monoFile.arrayBuffer():await m.oggFile.arrayBuffer();w.file(`${m.namespace}.ogg`,y),console.log(m),h.file(`music_disc_${m.namespace}.json`,JSON.stringify({parent:"item/generated",textures:{layer0:`item/music_disc_${m.namespace}`}},null,2))}if(n){const u=document.createElement("input");u.type="file",u.accept=".zip",u.click(),await new Promise((m,f)=>{u.onchange=async()=>{(!u.files||u.files.length==0)&&f("No file was selected"),await qa(u.files[0])||f("The selected file is not a valid resource pack");const y=u.files[0];await(await Tr.loadAsync(y)).forEach(async(E,A)=>{E!="pack.mcmeta"&&E!="pack.png"&&(A.dir?s.folder(E)||s.folder(E):s.file(E)?f("Cannot merge resource pack manually as there are conflicting files"):s.file(E,await A.async("arraybuffer")))}),m()}}).catch(m=>alert(m))}s.generateAsync({type:"blob"}).then(async u=>{const m=new Tr,f=e.map((y,k)=>({title:y.name,author:y.author,"disc-namespace":`music_disc.${y.namespace}`,"model-data":k+1,"creeper-drop":y.creeperDrop,lores:y.lores.split(`
`),"loot-tables":y.lootTables.join(",").split(",")}));m.file("README.md",await(await fetch(ah)).arrayBuffer()),m.file(`${r}.zip`,await u.arrayBuffer()),m.file("discs.json",JSON.stringify(f,null,2)),m.generateAsync({type:"blob"}).then(async y=>{ol(y,"open me.zip")})})},lh="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAMCAYAAABm+U3GAAAAAXNSR0IArs4c6QAAAF5JREFUOI2tksECwCAIQmH//890aTvUTKw8GrxIoyQBAEniQr28Z2zcgAIAp8Zm8pHB6OAE+iU+gUeeyVyBr7S/RgeeacJEK6Nzcfmp7qjSBUX/O5t/efMOtFTq5eob3NNX+dvBeeAAAAAASUVORK5CYII=";function Fs(e,t,r){const i=e.slice();return i[6]=t[r],i}function Ms(e){let t,r=e[1],i=[];for(let n=0;n<r.length;n+=1)i[n]=Us(Fs(e,r,n));return{c(){t=le("div");for(let n=0;n<i.length;n+=1)i[n].c();B(t,"id","openmenu"),B(t,"class","svelte-14kdzrj")},m(n,s){pe(n,t,s);for(let a=0;a<i.length;a+=1)i[a].m(t,null)},p(n,s){if(s&18){r=n[1];let a;for(a=0;a<r.length;a+=1){const o=Fs(n,r,a);i[a]?i[a].p(o,s):(i[a]=Us(o),i[a].c(),i[a].m(t,null))}for(;a<i.length;a+=1)i[a].d(1);i.length=r.length}},d(n){n&&de(t),wn(i,n)}}}function Us(e){let t,r=e[6]+"",i,n,s;function a(){return e[5](e[6])}return{c(){t=le("div"),i=rt(r),B(t,"class","selectopt svelte-14kdzrj")},m(o,l){pe(o,t,l),se(t,i),n||(s=[he(t,"click",a),he(t,"keydown",null)],n=!0)},p(o,l){e=o,l&2&&r!==(r=e[6]+"")&&vt(i,r)},d(o){o&&de(t),n=!1,je(s)}}}function ch(e){let t,r,i,n,s,a,o,l,c,p,h,w,d=e[2]&&Ms(e);return{c(){d&&d.c(),t=Se(),r=le("div"),i=le("div"),n=le("div"),s=rt(e[0]),a=Se(),o=le("div"),l=le("img"),B(n,"id","selectedoption"),B(n,"class","svelte-14kdzrj"),xe(l.src,c=lh)||B(l,"src",c),B(l,"alt",""),B(l,"id","arrow"),B(l,"class",p=pr(e[2]?"active":"")+" svelte-14kdzrj"),B(o,"id","arrowcontainer"),B(o,"class","svelte-14kdzrj"),B(i,"id","row"),B(i,"class","svelte-14kdzrj"),B(r,"id","container"),B(r,"class","svelte-14kdzrj")},m(g,u){d&&d.m(g,u),pe(g,t,u),pe(g,r,u),se(r,i),se(i,n),se(n,s),se(i,a),se(i,o),se(o,l),h||(w=[he(o,"click",e[3]),he(o,"keydown",null)],h=!0)},p(g,[u]){g[2]?d?d.p(g,u):(d=Ms(g),d.c(),d.m(t.parentNode,t)):d&&(d.d(1),d=null),u&1&&vt(s,g[0]),u&4&&p!==(p=pr(g[2]?"active":"")+" svelte-14kdzrj")&&B(l,"class",p)},i:ke,o:ke,d(g){d&&d.d(g),g&&de(t),g&&de(r),h=!1,je(w)}}}function uh(e,t,r){let{options:i}=t,{selected:n=i[0]}=t,s=!1;const a=()=>{r(2,s=!s)},o=c=>{r(0,n=c),r(2,s=!1)},l=c=>o(c);return e.$$set=c=>{"options"in c&&r(1,i=c.options),"selected"in c&&r(0,n=c.selected)},[n,i,s,a,o,l]}class fh extends Nt{constructor(t){super(),Rt(this,t,uh,ch,bt,{options:1,selected:0})}}function Bs(e){let t,r,i;function n(a){e[8](a)}let s={text:"Add at least a disc"};return e[4]!==void 0&&(s.closePopup=e[4]),t=new sh({props:s}),dt.push(()=>At(t,"closePopup",n,e[4])),{c(){tt(t.$$.fragment)},m(a,o){Xe(t,a,o),i=!0},p(a,o){const l={};!r&&o&16&&(r=!0,l.closePopup=a[4],St(()=>r=!1)),t.$set(l)},i(a){i||(we(t.$$.fragment,a),i=!0)},o(a){Ie(t.$$.fragment,a),i=!1},d(a){Qe(t,a)}}}function dh(e){let t,r,i;return{c(){t=le("div"),B(t,"id","generate_button"),yt(t,"background-image","url("+Ka+")"),B(t,"class","grayscale svelte-t4a3jn")},m(n,s){pe(n,t,s),r||(i=[he(t,"click",e[6]),he(t,"keydown",null)],r=!0)},p:ke,d(n){n&&de(t),r=!1,je(i)}}}function hh(e){let t,r,i;return{c(){t=le("div"),B(t,"id","generate_button"),yt(t,"background-image","url("+Ka+")"),B(t,"class","svelte-t4a3jn")},m(n,s){pe(n,t,s),r||(i=[he(t,"click",e[7]),he(t,"keydown",null)],r=!0)},p:ke,d(n){n&&de(t),r=!1,je(i)}}}function ph(e){let t,r,i,n,s,a,o,l,c,p,h,w,d,g,u,m=e[4]&&Bs(e);function f(S){e[9](S)}function y(S){e[10](S)}function k(S){e[11](S)}let E={};e[1]!==void 0&&(E.packname=e[1]),e[0]!==void 0&&(E.imagesrc=e[0]),e[2]!==void 0&&(E.useMono=e[2]),i=new rh({props:E}),dt.push(()=>At(i,"packname",f,e[1])),dt.push(()=>At(i,"imagesrc",y,e[0])),dt.push(()=>At(i,"useMono",k,e[2]));function A(S){e[12](S)}let C={};e[3]!==void 0&&(C.discData=e[3]),l=new Zl({props:C}),dt.push(()=>At(l,"discData",A,e[3]));function I(S,q){return S[3].length>0?hh:dh}let F=I(e),U=F(e);function H(S){e[13](S)}let re={options:["Generate","Merge"]};return e[5]!==void 0&&(re.selected=e[5]),d=new fh({props:re}),dt.push(()=>At(d,"selected",H,e[5])),{c(){t=le("main"),m&&m.c(),r=Se(),tt(i.$$.fragment),o=Se(),tt(l.$$.fragment),p=Se(),h=le("div"),U.c(),w=Se(),tt(d.$$.fragment),B(h,"id","footer"),B(h,"class","svelte-t4a3jn"),B(t,"class","svelte-t4a3jn")},m(S,q){pe(S,t,q),m&&m.m(t,null),se(t,r),Xe(i,t,null),se(t,o),Xe(l,t,null),se(t,p),se(t,h),U.m(h,null),se(h,w),Xe(d,h,null),u=!0},p(S,[q]){S[4]?m?(m.p(S,q),q&16&&we(m,1)):(m=Bs(S),m.c(),we(m,1),m.m(t,r)):m&&(Ut(),Ie(m,1,1,()=>{m=null}),Bt());const v={};!n&&q&2&&(n=!0,v.packname=S[1],St(()=>n=!1)),!s&&q&1&&(s=!0,v.imagesrc=S[0],St(()=>s=!1)),!a&&q&4&&(a=!0,v.useMono=S[2],St(()=>a=!1)),i.$set(v);const G={};!c&&q&8&&(c=!0,G.discData=S[3],St(()=>c=!1)),l.$set(G),F===(F=I(S))&&U?U.p(S,q):(U.d(1),U=F(S),U&&(U.c(),U.m(h,w)));const ae={};!g&&q&32&&(g=!0,ae.selected=S[5],St(()=>g=!1)),d.$set(ae)},i(S){u||(we(m),we(i.$$.fragment,S),we(l.$$.fragment,S),we(d.$$.fragment,S),u=!0)},o(S){Ie(m),Ie(i.$$.fragment,S),Ie(l.$$.fragment,S),Ie(d.$$.fragment,S),u=!1},d(S){S&&de(t),m&&m.d(),Qe(i),Qe(l),U.d(),Qe(d)}}}function mh(e,t,r){let i,n,s,a=[],o=!1,l="Generate";const c=()=>{r(4,o=!0)},p=()=>{oh(a,i,n,s,l=="Merge")};function h(f){o=f,r(4,o)}function w(f){n=f,r(1,n)}function d(f){i=f,r(0,i)}function g(f){s=f,r(2,s)}function u(f){a=f,r(3,a)}function m(f){l=f,r(5,l)}return[i,n,s,a,o,l,c,p,h,w,d,g,u,m]}class gh extends Nt{constructor(t){super(),Rt(this,t,mh,ph,bt,{})}}new gh({target:document.getElementById("app")});
