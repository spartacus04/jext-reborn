(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))o(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&o(s)}).observe(document,{childList:!0,subtree:!0});function r(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerpolicy&&(i.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?i.credentials="include":n.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function o(n){if(n.ep)return;n.ep=!0;const i=r(n);fetch(n.href,i)}})();function Se(){}const Ln=t=>t;function ka(t,e){for(const r in e)t[r]=e[r];return t}function Aa(t){return!!t&&(typeof t=="object"||typeof t=="function")&&typeof t.then=="function"}function Os(t){return t()}function zi(){return Object.create(null)}function De(t){t.forEach(Os)}function xt(t){return typeof t=="function"}function pt(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}let Hr;function Ye(t,e){return Hr||(Hr=document.createElement("a")),Hr.href=e,t===Hr.href}function Ea(t){return Object.keys(t).length===0}function Sa(t,...e){if(t==null)return Se;const r=t.subscribe(...e);return r.unsubscribe?()=>r.unsubscribe():r}function mr(t,e,r){t.$$.on_destroy.push(Sa(e,r))}function Rs(t,e,r,o){if(t){const n=Ns(t,e,r,o);return t[0](n)}}function Ns(t,e,r,o){return t[1]&&o?ka(r.ctx.slice(),t[1](o(e))):r.ctx}function Ts(t,e,r,o){if(t[2]&&o){const n=t[2](o(r));if(e.dirty===void 0)return n;if(typeof n=="object"){const i=[],s=Math.max(e.dirty.length,n.length);for(let a=0;a<s;a+=1)i[a]=e.dirty[a]|n[a];return i}return e.dirty|n}return e.dirty}function Ds(t,e,r,o,n,i){if(n){const s=Ns(e,r,o,i);t.p(s,n)}}function js(t){if(t.ctx.length>32){const e=[],r=t.ctx.length/32;for(let o=0;o<r;o++)e[o]=-1;return e}return-1}function dt(t){return t??""}function Ge(t){return t&&xt(t.destroy)?t.destroy:Se}const zs=typeof window<"u";let Us=zs?()=>window.performance.now():()=>Date.now(),Vn=zs?t=>requestAnimationFrame(t):Se;const ur=new Set;function Fs(t){ur.forEach(e=>{e.c(t)||(ur.delete(e),e.f())}),ur.size!==0&&Vn(Fs)}function Bs(t){let e;return ur.size===0&&Vn(Fs),{promise:new Promise(r=>{ur.add(e={c:t,f:r})}),abort(){ur.delete(e)}}}function ce(t,e){t.appendChild(e)}function Ms(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}function Ca(t){const e=ue("style");return Ia(Ms(t),e),e.sheet}function Ia(t,e){return ce(t.head||t,e),e.sheet}function ge(t,e,r){t.insertBefore(e,r||null)}function me(t){t.parentNode&&t.parentNode.removeChild(t)}function Ur(t,e){for(let r=0;r<t.length;r+=1)t[r]&&t[r].d(e)}function ue(t){return document.createElement(t)}function ot(t){return document.createTextNode(t)}function Ee(){return ot(" ")}function _r(){return ot("")}function ke(t,e,r,o){return t.addEventListener(e,r,o),()=>t.removeEventListener(e,r,o)}function L(t,e,r){r==null?t.removeAttribute(e):t.getAttribute(e)!==r&&t.setAttribute(e,r)}function Pa(t){return Array.from(t.childNodes)}function jt(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function Mt(t,e){t.value=e??""}function ht(t,e,r,o){r===null?t.style.removeProperty(e):t.style.setProperty(e,r,o?"important":"")}function Ui(t,e){for(let r=0;r<t.options.length;r+=1){const o=t.options[r];if(o.__value===e){o.selected=!0;return}}t.selectedIndex=-1}function Oa(t){const e=t.querySelector(":checked")||t.options[0];return e&&e.__value}function Ra(t,e,{bubbles:r=!1,cancelable:o=!1}={}){const n=document.createEvent("CustomEvent");return n.initCustomEvent(t,r,o,e),n}const on=new Map;let ln=0;function Na(t){let e=5381,r=t.length;for(;r--;)e=(e<<5)-e^t.charCodeAt(r);return e>>>0}function Ta(t,e){const r={stylesheet:Ca(e),rules:{}};return on.set(t,r),r}function Pn(t,e,r,o,n,i,s,a=0){const l=16.666/o;let u=`{
`;for(let m=0;m<=1;m+=l){const d=e+(r-e)*i(m);u+=m*100+`%{${s(d,1-d)}}
`}const g=u+`100% {${s(r,1-r)}}
}`,h=`__svelte_${Na(g)}_${a}`,v=Ms(t),{stylesheet:c,rules:_}=on.get(v)||Ta(v,t);_[h]||(_[h]=!0,c.insertRule(`@keyframes ${h} ${g}`,c.cssRules.length));const f=t.style.animation||"";return t.style.animation=`${f?`${f}, `:""}${h} ${o}ms linear ${n}ms 1 both`,ln+=1,h}function On(t,e){const r=(t.style.animation||"").split(", "),o=r.filter(e?i=>i.indexOf(e)<0:i=>i.indexOf("__svelte")===-1),n=r.length-o.length;n&&(t.style.animation=o.join(", "),ln-=n,ln||Da())}function Da(){Vn(()=>{ln||(on.forEach(t=>{const{ownerNode:e}=t.stylesheet;e&&me(e)}),on.clear())})}let Tr;function Tt(t){Tr=t}function ja(){if(!Tr)throw new Error("Function called outside component initialization");return Tr}const lr=[],at=[],en=[],Rn=[],za=Promise.resolve();let Nn=!1;function Ua(){Nn||(Nn=!0,za.then(xn))}function lt(t){en.push(t)}function yt(t){Rn.push(t)}const An=new Set;let sr=0;function xn(){if(sr!==0)return;const t=Tr;do{try{for(;sr<lr.length;){const e=lr[sr];sr++,Tt(e),Fa(e.$$)}}catch(e){throw lr.length=0,sr=0,e}for(Tt(null),lr.length=0,sr=0;at.length;)at.pop()();for(let e=0;e<en.length;e+=1){const r=en[e];An.has(r)||(An.add(r),r())}en.length=0}while(lr.length);for(;Rn.length;)Rn.pop()();Nn=!1,An.clear(),Tt(t)}function Fa(t){if(t.fragment!==null){t.update(),De(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(lt)}}let $r;function Ls(){return $r||($r=Promise.resolve(),$r.then(()=>{$r=null})),$r}function Cr(t,e,r){t.dispatchEvent(Ra(`${e?"intro":"outro"}${r}`))}const tn=new Set;let Dt;function Xe(){Dt={r:0,c:[],p:Dt}}function et(){Dt.r||De(Dt.c),Dt=Dt.p}function he(t,e){t&&t.i&&(tn.delete(t),t.i(e))}function $e(t,e,r,o){if(t&&t.o){if(tn.has(t))return;tn.add(t),Dt.c.push(()=>{tn.delete(t),o&&(r&&t.d(1),o())}),t.o(e)}else o&&o()}const Vs={duration:0};function Tn(t,e,r){const o={direction:"in"};let n=e(t,r,o),i=!1,s,a,l=0;function u(){s&&On(t,s)}function g(){const{delay:v=0,duration:c=300,easing:_=Ln,tick:f=Se,css:m}=n||Vs;m&&(s=Pn(t,0,1,c,v,_,m,l++)),f(0,1);const d=Us()+v,y=d+c;a&&a.abort(),i=!0,lt(()=>Cr(t,!0,"start")),a=Bs(w=>{if(i){if(w>=y)return f(1,0),Cr(t,!0,"end"),u(),i=!1;if(w>=d){const $=_((w-d)/c);f($,1-$)}}return i})}let h=!1;return{start(){h||(h=!0,On(t),xt(n)?(n=n(o),Ls().then(g)):g())},invalidate(){h=!1},end(){i&&(u(),i=!1)}}}function Vt(t,e,r,o){const n={direction:"both"};let i=e(t,r,n),s=o?0:1,a=null,l=null,u=null;function g(){u&&On(t,u)}function h(c,_){const f=c.b-s;return _*=Math.abs(f),{a:s,b:c.b,d:f,duration:_,start:c.start,end:c.start+_,group:c.group}}function v(c){const{delay:_=0,duration:f=300,easing:m=Ln,tick:d=Se,css:y}=i||Vs,w={start:Us()+_,b:c};c||(w.group=Dt,Dt.r+=1),a||l?l=w:(y&&(g(),u=Pn(t,s,c,f,_,m,y)),c&&d(0,1),a=h(w,f),lt(()=>Cr(t,c,"start")),Bs($=>{if(l&&$>l.start&&(a=h(l,f),l=null,Cr(t,a.b,"start"),y&&(g(),u=Pn(t,s,a.b,a.duration,0,m,i.css))),a){if($>=a.end)d(s=a.b,1-s),Cr(t,a.b,"end"),l||(a.b?g():--a.group.r||De(a.group.c)),a=null;else if($>=a.start){const A=$-a.start;s=a.a+a.d*m(A/a.duration),d(s,1-s)}}return!!(a||l)}))}return{run(c){xt(i)?Ls().then(()=>{i=i(n),v(c)}):v(c)},end(){g(),a=l=null}}}function xs(t,e){const r=e.token={};function o(n,i,s,a){if(e.token!==r)return;e.resolved=a;let l=e.ctx;s!==void 0&&(l=l.slice(),l[s]=a);const u=n&&(e.current=n)(l);let g=!1;e.block&&(e.blocks?e.blocks.forEach((h,v)=>{v!==i&&h&&(Xe(),$e(h,1,1,()=>{e.blocks[v]===h&&(e.blocks[v]=null)}),et())}):e.block.d(1),u.c(),he(u,1),u.m(e.mount(),e.anchor),g=!0),e.block=u,e.blocks&&(e.blocks[i]=u),g&&xn()}if(Aa(t)){const n=ja();if(t.then(i=>{Tt(n),o(e.then,1,e.value,i),Tt(null)},i=>{if(Tt(n),o(e.catch,2,e.error,i),Tt(null),!e.hasCatch)throw i}),e.current!==e.pending)return o(e.pending,0),!0}else{if(e.current!==e.then)return o(e.then,1,e.value,t),!0;e.resolved=t}}function Ks(t,e,r){const o=e.slice(),{resolved:n}=t;t.current===t.then&&(o[t.value]=n),t.current===t.catch&&(o[t.error]=n),t.block.p(o,r)}function bt(t,e,r){const o=t.$$.props[e];o!==void 0&&(t.$$.bound[o]=r,r(t.$$.ctx[o]))}function We(t){t&&t.c()}function Ve(t,e,r,o){const{fragment:n,after_update:i}=t.$$;n&&n.m(e,r),o||lt(()=>{const s=t.$$.on_mount.map(Os).filter(xt);t.$$.on_destroy?t.$$.on_destroy.push(...s):De(s),t.$$.on_mount=[]}),i.forEach(lt)}function xe(t,e){const r=t.$$;r.fragment!==null&&(De(r.on_destroy),r.fragment&&r.fragment.d(e),r.on_destroy=r.fragment=null,r.ctx=[])}function Ba(t,e){t.$$.dirty[0]===-1&&(lr.push(t),Ua(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function kt(t,e,r,o,n,i,s,a=[-1]){const l=Tr;Tt(t);const u=t.$$={fragment:null,ctx:[],props:i,update:Se,not_equal:n,bound:zi(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(l?l.$$.context:[])),callbacks:zi(),dirty:a,skip_bound:!1,root:e.target||l.$$.root};s&&s(u.root);let g=!1;if(u.ctx=r?r(t,e.props||{},(h,v,...c)=>{const _=c.length?c[0]:v;return u.ctx&&n(u.ctx[h],u.ctx[h]=_)&&(!u.skip_bound&&u.bound[h]&&u.bound[h](_),g&&Ba(t,h)),v}):[],u.update(),g=!0,De(u.before_update),u.fragment=o?o(u.ctx):!1,e.target){if(e.hydrate){const h=Pa(e.target);u.fragment&&u.fragment.l(h),h.forEach(me)}else u.fragment&&u.fragment.c();e.intro&&he(t.$$.fragment),Ve(t,e.target,e.anchor,e.customElement),xn()}Tt(l)}class At{$destroy(){xe(this,1),this.$destroy=Se}$on(e,r){if(!xt(r))return Se;const o=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return o.push(r),()=>{const n=o.indexOf(r);n!==-1&&o.splice(n,1)}}$set(e){this.$$set&&!Ea(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const Ma=(t,e)=>{const{src:r,hover:o}=e,n=()=>{t.src=o},i=()=>{t.src=r};i(),t.addEventListener("mouseenter",n),t.addEventListener("mouseleave",i)},It=(t,{width:e="1px",color:r="white"}={width:"1px",color:"white"})=>{const o=()=>{t.style.border=`${e} solid ${r}`},n=()=>{t.style.border=`${e} solid transparent`};return t.addEventListener("mouseenter",o),t.addEventListener("mouseleave",n),n(),{destroy(){t.removeEventListener("mouseenter",o),t.removeEventListener("mouseleave",n)}}},La=(t,e)=>{t.src="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==",setTimeout(()=>{t.src=e},1)},dr=(t,e={accept:"",cb:null,multiple:!1})=>{const{accept:r,cb:o,multiple:n}=e;t.addEventListener("click",()=>{const i=document.createElement("input");i.type="file",i.accept=r,n&&i.setAttribute("multiple",""),i.addEventListener("change",()=>{o(i.files)}),i.click()})},ar=[];function qs(t,e=Se){let r;const o=new Set;function n(a){if(pt(t,a)&&(t=a,r)){const l=!ar.length;for(const u of o)u[1](),ar.push(u,t);if(l){for(let u=0;u<ar.length;u+=2)ar[u][0](ar[u+1]);ar.length=0}}}function i(a){n(a(t))}function s(a,l=Se){const u=[a,l];return o.add(u),o.size===1&&(r=e(n)||Se),a(t),()=>{o.delete(u),o.size===0&&(r(),r=null)}}return{set:n,update:i,subscribe:s}}const hr=qs(12),Xt=qs([]);function Fi(t,e,r){const o=t.slice();return o[5]=e[r],o[6]=e,o[7]=r,o}function Bi(t){let e,r,o;function n(){return t[3](t[5])}function i(a){t[4](a,t[5],t[6],t[7])}let s={id:t[7],onRemove:n};return t[5]!==void 0&&(s.song=t[5]),e=new Qu({props:s}),at.push(()=>bt(e,"song",i)),{c(){We(e.$$.fragment)},m(a,l){Ve(e,a,l),o=!0},p(a,l){t=a;const u={};l&1&&(u.onRemove=n),!r&&l&1&&(r=!0,u.song=t[5],yt(()=>r=!1)),e.$set(u)},i(a){o||(he(e.$$.fragment,a),o=!0)},o(a){$e(e.$$.fragment,a),o=!1},d(a){xe(e,a)}}}function Va(t){let e,r,o,n,i,s,a,l,u,g=t[0],h=[];for(let c=0;c<g.length;c+=1)h[c]=Bi(Fi(t,g,c));const v=c=>$e(h[c],1,1,()=>{h[c]=null});return{c(){e=ue("div"),r=ue("div");for(let c=0;c<h.length;c+=1)h[c].c();o=Ee(),n=ue("hr"),i=Ee(),s=ue("div"),s.innerHTML='<h1 class="noselect svelte-15f98v0">+</h1>',L(r,"id","songscontainer"),L(n,"class","hidden"),L(s,"id","addsongsbtn"),L(s,"class","svelte-15f98v0"),L(e,"id","content"),L(e,"class","svelte-15f98v0")},m(c,_){ge(c,e,_),ce(e,r);for(let f=0;f<h.length;f+=1)h[f].m(r,null);ce(e,o),ce(e,n),ce(e,i),ce(e,s),a=!0,l||(u=[Ge(dr.call(null,s,{accept:"audio/*",cb:t[1],multiple:!0})),ke(s,"keydown",null)],l=!0)},p(c,[_]){if(_&5){g=c[0];let f;for(f=0;f<g.length;f+=1){const m=Fi(c,g,f);h[f]?(h[f].p(m,_),he(h[f],1)):(h[f]=Bi(m),h[f].c(),he(h[f],1),h[f].m(r,null))}for(Xe(),f=g.length;f<h.length;f+=1)v(f);et()}},i(c){if(!a){for(let _=0;_<g.length;_+=1)he(h[_]);a=!0}},o(c){h=h.filter(Boolean);for(let _=0;_<h.length;_+=1)$e(h[_]);a=!1},d(c){c&&me(e),Ur(h,c),l=!1,De(u)}}}function xa(t,e,r){let o;mr(t,Xt,l=>r(0,o=l));const n=l=>{if(!l||l.length===0)return;const u=[];for(let g=0;g<l.length;g++)u.push({uploadedFile:l[g],name:"Disc Name",author:"Disc Author",lores:`This is the lore of the disc

You can have multiple lines

If you don't want any lores you can leave this empty`,namespace:"",creeperDrop:!0,lootTables:[],fragmentLootTables:[],normalize:!1,isMono:!0,oggFile:null,monoFile:null,texture:null,fragmentTexture:null});Xt.update(g=>g=[...g,...u])},i=l=>Xt.update(u=>u=u.filter(g=>g!=l)),s=l=>i(l);function a(l,u,g,h){g[h]=l,Xt.set(o)}return[o,n,i,s,a]}class Ka extends At{constructor(e){super(),kt(this,e,xa,Va,pt,{})}}const qa="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAMCAYAAABm+U3GAAAAAXNSR0IArs4c6QAAAF5JREFUOI2tksECwCAIQmH//890aTvUTKw8GrxIoyQBAEniQr28Z2zcgAIAp8Zm8pHB6OAE+iU+gUeeyVyBr7S/RgeeacJEK6Nzcfmp7qjSBUX/O5t/efMOtFTq5eob3NNX+dvBeeAAAAAASUVORK5CYII=",Mi="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAZCAYAAADE6YVjAAAAAXNSR0IArs4c6QAAAIRJREFUSIntlEsOgDAIRMF4/yvjRk1Fygy6MZHZKZ/XgaYira9JK8lmZmehqo7/ju9IyxNANU5Bsgajg1kehCAHDCiFMCOKduLr1krTDKa7yk6QmH28hrBqiIjEL0Cky+3yiext80/MLY4aTAuTA/kYHFc2BgZAQRCI2Qu9eOSIcdz6mTar61wTcDDk9gAAAABJRU5ErkJggg==",Li="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAZCAYAAADE6YVjAAAAAXNSR0IArs4c6QAAAIpJREFUSIntlEsOwCAIRKHpQT3a3LSuTCxBGNpNkzorP+hzwCCy9TVpJbi1do0xAJ3XxtzT8QRQ3acg0QWzg1VcCskcMKAQwqTIq4k9d1YujWAAFICWnWRi6vEawmpDRMTvAJ5uv8sGsr/NthirtHetDkYPsntpuqI0MAAKkoGYutCFzxwxjrd+pg6/w1SfCm+xxQAAAABJRU5ErkJggg==",Ha="/jext-reborn/assets/chest-dc4b25ff.png",Wa="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAYAAADED76LAAAFxnpUWHRSYXcgcHJvZmlsZSB0eXBlIGV4aWYAAHjarVdZkuQoDP3nFHMEkBDLcVgj5gZz/Hkshsyq6umqjrHDNinL4klPSKRq//zd1V84iLxWVnxw0TmNw0YbKWEQ9DrivBtt530dzzvzLlfnBUHEePL66dPWT5DL/eDYye9yFfYbCtuQOYbnwWPmMa6vICGnJTd2G4ptDVwM/hVq3oaKfXFpX/a6N4/xW70JPKJUBRMxUWPDet7DQsDjIk5DjrvmAD0zJcxR4SFstjEE5M2956nfAv0e/D1SH6N/Rh+CT2nL+UMs3cOa+/qFkQ9yPtPQ68R8ENH7i+S1/+TOvnqvofe2vEvWIaJuZ9QM9hOhoZgRcp6fOZwel2Ds5xlxBp10AeVVF51xFhMNIfpdGWuqSaabNp/FFEC01MjjSVSIpyywp0iFB092nKaT58iVA3gr1BSos0wHi5nzxjlfMQEzVwNVMjBmJv2/ONV/vfzJqXovI0RGhxMr4KKR14AxmBt3aIEQ0zdvMgP8nJt+/ZI/SFUwKDPMAQ4mnZeJLObmFk+eGXqC51pCRvm6DSBEmFsAxjAY0M6wGGe0R7UxBnEMICgBObGlDAaMCFWAJMvsSHnCksHc+MabqUtCjoYYtQlECDv24CZyAlnWCvLH24AcSsJiRcSJl6AkSnLsrBPnnHejyCXP3nrxznsffPQpcLBBggs+hBBDihQZNVCiiz6GGGNKpBImSrCVoJ8gyZQ52yzZZZ9DjjkVpE+xRYorvoQSS6pUuaJMVFd9DTXW1IxqqBTNNmmu+RZabKkj1zp326W77nvosafD2mb10/kD1sxmjSZTQ88f1iBV3j8mzCgnMjgDY2QNGPeDASQ0Dc50MNbSYG5wpiNhUQgBpAxuVDWDMVBomyHp5nB3mfsWb0rCt3ij3zGnBnX/B3MK1H3m7QvW6uhzZTK2VuGIqWasvtYpII8CcgCoxzhAt1MbA8rNlx6dnj+CRjWaCi1xpSNMfenWwFXJJ93C6IWPULcp7LFxOVKK1VgBWwjwGFhtirJLVukKW5wDgasvQqlTOIB2KksDraLJ+l5Zn+wj9dKXckbrT590A/YDR2gWgM7FhyFVUyw8QaeSj08hLv+TzdejZbE45P2DtC437Sj+zySy9AJK9aOW84JoY3UHNwrSFuZrT5UFsblYrkm7TOZYjy/ex/V51bH1GzraYlWw2PmqO79GckBFWZEfLflE7WHosqFMCY/UtTv9Rh+TN9fkIdMeWd1MdGXJ52sgPnJyvkR9uc+HzkyPttTNB5JNq4elWnY+Wg7hyfOm0xxlc4Pil/MS85kHpX3S75I7CeaRmWtyZEq4SOPvkKpfQf0pUvUrqN9EWh6kClDDDYD1G6pDITrqei+zRK/rCcK9+krsrG4W6pXrCMHjVvN515RoO3Zgp3xscSiNH6Hi2pe/KE/IzCcKZetGxOMYKGEXFVe6P6rNpFXYurXdnjgOs7sERW7uyIuZ5mI83KCg7EBUikjIm42y5SaWu0JzX+FEpjZ36HBrshbYbrxKP+6UcIODLrAToR4PUM/c4pxPBTbrJa7h2vbItqfS5vsx2WWxoIDlT7W6JC79IpL1GULV2q3VP4WpvsT5BzDVlzjRUh6idXe3V/FOCvyJOUI0xenaaFX5YmBZqlm38lj9+OS8e18pFxJiVJPbGWnRZ85ET/IlwpRn/rRThEy56zDWatTIkYhefqRmtyQx9UU11aclnWR6f6pRLp+ccygwdwHXp9ySjzdBn2VdDWa8FSitCpmxk7orqm7qbXMv69ftPk9c5YvoqS/D+Sm8WP7P3sJ2NKlHblZ4W2aVbn5I2hlXXjLzu/jUN/B8C596B3jxtbyTYmwuT/fvi7xsbrPunGRuIqRlbNKu3MpSLhYbplM29lKpnG7yYqO+F2S5q7+Vrepem0XbHYT5brKWV0mHd5jqS5x/AFN9ifOnMLl3VSP+R/wLwQRCBdriyuEAAAGFaUNDUElDQyBwcm9maWxlAAB4nH2RPUjDUBSFT1ulpVQc2kHEIUPVxYKoiKNWoQgVQq3QqoPJS/+gSUOS4uIouBYc/FmsOrg46+rgKgiCPyCOTk6KLlLifUmhRYwPLu/jvHcO990H+JtVppo944CqWUYmlRRy+VUh+IowQlSjiErM1OdEMQ3P9XUPH9/vEjzL+96fq08pmAzwCcSzTDcs4g3i6U1L57xPHGNlSSE+Jx4zqEHiR67LLr9xLjns55kxI5uZJ44RC6UulruYlQ2VeIo4rqga5ftzLiuctzir1Tpr98lfGCloK8tcpxpCCotYgggBMuqooAoLCdo1Ukxk6Dzp4R90/CK5ZHJVwMixgBpUSI4f/A9+z9YsTk64SZEk0Pti2x/DQHAXaDVs+/vYtlsnQOAZuNI6/loTmPkkvdHR4kdA/zZwcd3R5D3gcgcYeNIlQ3KkAJW/WATez+ib8kD0FgivuXNrn+P0AcjSrNI3wMEhMFKi7HWPd4e65/bvnfb8fgBGIXKVL4xNQwAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB+YKCAonM+tPNNQAAAELSURBVBjTNcE9SAJhAIDh9w5L+gSRMDUlIeiHhhAuTAocg6CWNgfnoKGIppaWyCgaAt1CCCvhIBCqrSCEIi4olKvxKjuzHBpEkA6PsKnnkfKPh50VY5UpobDgTRJ1RbkQR1iNNuVbA2ksM9KZVCYwmy+M90Z41aoMzfXRqlgs+zaQw4qH4v41PzmbYfcoLqebwtoVT1kDIQRyV7eTTltCU0s8W/c0glXM8zpvZpVscw9H3DlD/1KQyG6MnfVtpF+ZG71I6jLFp1zDESKAVnngJHfMx9k3AMmeBLObcRL2InLYM4hPBNDUEv/eT+tYNZv0XRo53zogFBf4p71k9C0KZZWBeR+G/oU/JvgD3DRc8fJrLSwAAAAASUVORK5CYII=",Hs="/jext-reborn/assets/default_disc-59365372.png",Ws="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAAXNSR0IArs4c6QAAAFxJREFUOI3tkMsRgDAIBddyUgDtUBztUADl4EUvMSSOHnVnuPB5D4Cf12x9QlUTwMzKnlJgMDw1uyAiCZRxGjwSUdU8amt6kdlweZeIZGsNgIjA3dc/GIncXvvD7Gl5L5Lexty0AAAAAElFTkSuQmCC",Za="/jext-reborn/assets/delete_btn_hover-386c7405.png",Ga="/jext-reborn/assets/delete_btn-871175bc.png",mn="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAA0UlEQVR42nWSsQ1CMQxEvQ4rINFR0SOBxAgpaRgA/Q3YhelAF+mi9+/nF1YS2zn7zq7v+/H7tEu31/XYbea7nw6ruM/SRYlM0HtZluEzIO+KycporsI3qzGHeSW01tpwsJukkl0MAAcV0GdyJ6AKpa/cVlZyq9SG9yFicpR4TKDipOmzMjnH525m/g6QTp5uOT8zNt2D5J68SaVyPORsYPtJxVrVjBcraHSkwDH3TUxnguyZu1pRkD1v541wpjHb0MokKkz+WWgDkDtgkfbm7wJ/9oUoq3qXqFkAAAAASUVORK5CYII=",Zs="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAYAAADgkQYQAAAAAXNSR0IArs4c6QAAAFJJREFUGJWNjsENwDAIA6/jZADW8XCswwCMQz9tVZREiiUe4JMNHOgCkFQA7t7u37IAphDMrIDtvCFbUFI9HkvwD7QHzazGGABkJhHR/Aa2ilPdhC8vkoVxguIAAAAASUVORK5CYII=",Gs="/jext-reborn/assets/generate_btn-516338f5.png",Ja="/jext-reborn/assets/loading-9ab4977f.webp",Kn="/jext-reborn/assets/pack_icon-57c0be34.png",Qa="data:text/plain;base64,IyBIb3cgdG8gc2V0dXAgdGhlIHBsdWdpbgoKIyMgT25jZSB5b3UgaGF2ZSBkb3dubG9hZGVkIHRoaXMgZmlsZSBwdXQgdGhlIGRpc2NzLmpzb24gZmlsZSBpbiB0aGUgcm9vdCBvZiBwbHVnaW4gZGlyZWN0b3J5CgpgYGAKU2VydmVyCuKUlOKUgOKUgOKUgC4uLgrilJTilIDilIDilIBwbHVnaW5zCiAgICDilJTilIDilIDilIBKdWtlYm94RXh0ZW5kZWRSZWJvcm4KICAgIOKUgiAgIOKUlOKUgOKUgOKUgGRpc2NzLmpzb24KCeKUggnilJTilIDilIDilIBjb25maWcuanNvbgoJ4pSCCeKUlOKUgOKUgOKUgC4uLgoJ4pSU4pSA4pSA4pSASmV4dC5qYXIKCeKUlOKUgOKUgOKUgC4uLgpgYGAKCiMjIEFzIGZvciB0aGUgcmVzb3VyY2UgcGFjayBmaWxlIHlvdSBjYW4gc2V0IGl0IHVwIGJ5IGVkaXRpbmcgdGhlIHNlcnZlciBjb25maWcgZmlsZQoKRXhhbXBsZSB1cGxvYWQgeW91ciBmaWxlIHRvIGRyb3Bib3guCkdlbmVyYXRlIGEgZG93bmxvYWQgdXJsIGFuZCByZXBsYWNlIHRoZSBkbD0wIGF0IHRoZSBlbmQgb2YgdGhlIHVybCB3aXRoIGEgZGw9MQoKRXhhbXBsZToKb3JpZ2luYWwgdXJsOiBodHRwczovL3d3dy5kcm9wYm94LmNvbS9zL21zaWU3aHVjbnBia2Z5L3Rlc3QuUE5HP2RsPTAKZWRpdGVkICAgdXJsOiBodHRwczovL3d3dy5kcm9wYm94LmNvbS9zL21zaWU3aHVjbnBia2Z5L3Rlc3QuUE5HP2RsPTEKCnRoZW4gaW4gdGhlIHNlcnZlci5wcm9wZXJ0aWVzIGZpbGUgc2V0IHRoZSBzZXJ2ZXItcmVzb3VyY2UtcGFjayB0byB0aGUgZWRpdGVkIHVybAoKIyBZb3VyIHBsdWdpbiBpcyBub3cgcmVhZHkgdG8gZ28sIHJlc3RhcnQgdGhlIHNlcnZlciB0byBzdGFydCB1c2luZyBqZXh0",Js="data:image/gif;base64,R0lGODdhEAAQAHcAACH/C05FVFNDQVBFMi4wAwEAAAAh+QQJCgAAACwAAAAAEAAQAIAAAAD///8CI4QfccuZDB2MarZq18sIc7B9oGc55PSEaKVSXUlK3Tma7XUXACH5BAkKAAAALAAAAAAQABAAgAAAAP///wIjhB8Zx6jfjGKTrgiSw1hz+zVeKF1kZp4jubIpaKWV+MydbRQAIfkECQoAAAAsAAAAABAAEACAAAAA////AiOEHxnHqN+MYpOuCJLDO1+uaZwjjl5peqm1St+KphU8yy9TAAAh+QQJCgAAACwAAAAAEAAQAIAAAAD///8CI4QfGceo34xik64IksM7X65pnCOOXjlCpsemFxqVcIeA630XACH5BAkKAAAALAAAAAAQABAAgAAAAP///wIihB8Zx6jfjGKTrgiSwztfrmmcI46eaaEdWrKf2YJxBLlRAQAh+QQJCgAAACwAAAAAEAAQAIAAAAD///8CIoQfGceo34xik64IEt56t+5ZoThKVwmGqXquzpdW8ONabgEAIfkECQoAAAAsAAAAABAAEACAAAAA////AiOEbxHIrNoieDLC6hY+dyftPWAlhktnaWjTrdw4oRQrzlLJFAAh+QQJCgAAACwAAAIAEAAOAIAAAAD///8CI4RjmajBep6DcAJL43054r59nSNmU9kw6CJxafWRJkmDoQsUADs=";function Vi(t,e,r){const o=t.slice();return o[6]=e[r],o}function xi(t){let e,r=t[1],o=[];for(let n=0;n<r.length;n+=1)o[n]=Ki(Vi(t,r,n));return{c(){e=ue("div");for(let n=0;n<o.length;n+=1)o[n].c();L(e,"id","openmenu"),L(e,"class","svelte-14kdzrj")},m(n,i){ge(n,e,i);for(let s=0;s<o.length;s+=1)o[s].m(e,null)},p(n,i){if(i&18){r=n[1];let s;for(s=0;s<r.length;s+=1){const a=Vi(n,r,s);o[s]?o[s].p(a,i):(o[s]=Ki(a),o[s].c(),o[s].m(e,null))}for(;s<o.length;s+=1)o[s].d(1);o.length=r.length}},d(n){n&&me(e),Ur(o,n)}}}function Ki(t){let e,r=t[6]+"",o,n,i;function s(){return t[5](t[6])}return{c(){e=ue("div"),o=ot(r),L(e,"class","selectopt svelte-14kdzrj")},m(a,l){ge(a,e,l),ce(e,o),n||(i=[ke(e,"click",s),ke(e,"keydown",null)],n=!0)},p(a,l){t=a,l&2&&r!==(r=t[6]+"")&&jt(o,r)},d(a){a&&me(e),n=!1,De(i)}}}function Ya(t){let e,r,o,n,i,s,a,l,u,g,h,v,c=t[2]&&xi(t);return{c(){c&&c.c(),e=Ee(),r=ue("div"),o=ue("div"),n=ue("div"),i=ot(t[0]),s=Ee(),a=ue("div"),l=ue("img"),L(n,"id","selectedoption"),L(n,"class","svelte-14kdzrj"),Ye(l.src,u=qa)||L(l,"src",u),L(l,"alt","ðŸ¢“"),L(l,"id","arrow"),L(l,"class",g=dt(t[2]?"active":"")+" svelte-14kdzrj"),L(a,"id","arrowcontainer"),L(a,"class","svelte-14kdzrj"),L(o,"id","row"),L(o,"class","svelte-14kdzrj"),L(r,"id","container"),L(r,"class","svelte-14kdzrj")},m(_,f){c&&c.m(_,f),ge(_,e,f),ge(_,r,f),ce(r,o),ce(o,n),ce(n,i),ce(o,s),ce(o,a),ce(a,l),h||(v=[ke(a,"click",t[3]),ke(a,"keydown",null)],h=!0)},p(_,[f]){_[2]?c?c.p(_,f):(c=xi(_),c.c(),c.m(e.parentNode,e)):c&&(c.d(1),c=null),f&1&&jt(i,_[0]),f&4&&g!==(g=dt(_[2]?"active":"")+" svelte-14kdzrj")&&L(l,"class",g)},i:Se,o:Se,d(_){c&&c.d(_),_&&me(e),_&&me(r),h=!1,De(v)}}}function Xa(t,e,r){let{options:o}=e,{selected:n=o[0]}=e,i=!1;const s=()=>r(2,i=!i),a=u=>{r(0,n=u),r(2,i=!1)},l=u=>a(u);return t.$$set=u=>{"options"in u&&r(1,o=u.options),"selected"in u&&r(0,n=u.selected)},[n,o,i,s,a,l]}class eo extends At{constructor(e){super(),kt(this,e,Xa,Ya,pt,{options:1,selected:0})}}function $t(t,{delay:e=0,duration:r=400,easing:o=Ln}={}){const n=+getComputedStyle(t).opacity;return{delay:e,duration:r,easing:o,css:i=>`opacity: ${i*n}`}}function to(t){return{c:Se,m:Se,p:Se,d:Se}}function ro(t){let e,r;return{c(){e=ue("img"),Ye(e.src,r=t[6])||L(e,"src",r),L(e,"alt",t[1]),L(e,"class","svelte-72nmcc")},m(o,n){ge(o,e,n)},p(o,n){n&2&&L(e,"alt",o[1])},d(o){o&&me(e)}}}function no(t){let e,r;return{c(){e=ue("img"),Ye(e.src,r=Js)||L(e,"src",r),L(e,"alt",t[1]),L(e,"class","svelte-72nmcc")},m(o,n){ge(o,e,n)},p(o,n){n&2&&L(e,"alt",o[1])},d(o){o&&me(e)}}}function io(t){let e,r,o,n,i,s,a,l,u={ctx:t,current:null,token:null,hasCatch:!1,pending:no,then:ro,catch:to,value:6};return xs(t[3],u),{c(){e=ue("div"),u.block.c(),r=Ee(),o=ue("p"),n=ot(t[1]),L(e,"class",i=dt(t[0]?"selected":"")+" svelte-72nmcc")},m(g,h){ge(g,e,h),u.block.m(e,u.anchor=null),u.mount=()=>e,u.anchor=r,ce(e,r),ce(e,o),ce(o,n),a||(l=[ke(e,"click",function(){xt(t[2])&&t[2].apply(this,arguments)}),ke(e,"keydown",null)],a=!0)},p(g,[h]){t=g,Ks(u,t,h),h&2&&jt(n,t[1]),h&1&&i!==(i=dt(t[0]?"selected":"")+" svelte-72nmcc")&&L(e,"class",i)},i(g){s||lt(()=>{s=Tn(e,$t,{}),s.start()})},o:Se,d(g){g&&me(e),u.block.d(),u.token=null,u=null,a=!1,De(l)}}}function so(t,e,r){let{value:o=!1}=e,{image:n}=e,{name:i}=e,{onClick:s=()=>{}}=e;const l=(async u=>{const h=await(await fetch(u)).blob();return URL.createObjectURL(h)})(n);return t.$$set=u=>{"value"in u&&r(0,o=u.value),"image"in u&&r(4,n=u.image),"name"in u&&r(1,i=u.name),"onClick"in u&&r(2,s=u.onClick)},[o,i,s,l,n]}class Qs extends At{constructor(e){super(),kt(this,e,so,io,pt,{value:0,image:4,name:1,onClick:2})}}const qi=new Map([[4,"1.14 - 1.14.4"],[5,"1.15 - 1.16.1"],[6,"1.16.2-1.16.5"],[7,"1.17 - 1.17.1"],[8,"1.18 - 1.18.2"],[9,"1.19 - 1.19.2"],[12,"1.19.3"]]),Dr=[{source:"chests/ancient_city,chests/ancient_city_ice_box",img:"loottable_icons/Ancient_City.webp",name:"Ancient City",minVersion:9},{source:"chests/bastion_bridge,chests/bastion_hoglin_treasure,chests/bastion_other,chests/bastion_treasure",img:"loottable_icons/Bastion_Remnant.webp",name:"Bastion Remnant",minVersion:5},{source:"chests/desert_pyramid",img:"loottable_icons/Desert_pyramid.webp",name:"Desert Pyramid",minVersion:4},{source:"chests/simple_dungeon",img:"loottable_icons/Dungeon.webp",name:"Dungeon",minVersion:4},{source:"chests/end_city_treasure",img:"loottable_icons/End_City.webp",name:"End City",minVersion:4},{source:"chests/igloo_chest",img:"loottable_icons/Igloo.webp",name:"Igloo",minVersion:4},{source:"chests/jungle_temple",img:"loottable_icons/Jungle_pyramid.webp",name:"Jungle Temple",minVersion:4},{source:"chests/nether_bridge",img:"loottable_icons/Nether_Fortress.webp",name:"Nether Fortress",minVersion:4},{source:"chests/ruined_portal",img:"loottable_icons/Nether_portal.webp",name:"Ruined Portal",minVersion:5},{source:"chests/pillager_outpost",img:"loottable_icons/Pillager_outpost.webp",name:"Pillager Outpost",minVersion:4},{source:"chests/shipwreck_map,chests/shipwreck_supply,chests/shipwreck_treasure",img:"loottable_icons/Shipwreck.webp",name:"Shipwreck",minVersion:4},{source:"chests/stronghold_corridor,chests/stronghold_crossing",img:"loottable_icons/Stronghold.webp",name:"Stronghold",minVersion:4},{source:"chests/underwater_ruin_big,chests/underwater_ruin_small",img:"loottable_icons/Underwater_ruin.webp",name:"Underwater Ruins",minVersion:4},{source:"chests/village/village_plains_house,chests/village/village_savanna_house,chests/village/village_desert_house,chests/village/village_snowy_house,chests/village/village_taiga_house",img:"loottable_icons/Village.webp",name:"Village",minVersion:4},{source:"chests/woodland_mansion",img:"loottable_icons/Woodland_Mansion.webp",name:"Woodland Mansion",minVersion:4},{source:"chests/abandoned_mineshaft",img:"loottable_icons/Mineshaft.webp",name:"Mineshaft",minVersion:4}];function Hi(t,e,r){const o=t.slice();return o[6]=e[r],o}function Wi(t){let e,r,o=`url(${mn})`,n,i,s;return{c(){e=ue("div"),L(e,"class","popupbackground svelte-1l5tnjn"),ht(e,"background-image",o)},m(a,l){ge(a,e,l),n=!0,i||(s=[ke(e,"click",t[4]),ke(e,"keydown",null)],i=!0)},p:Se,i(a){n||(lt(()=>{r||(r=Vt(e,$t,{},!0)),r.run(1)}),n=!0)},o(a){r||(r=Vt(e,$t,{},!1)),r.run(0),n=!1},d(a){a&&me(e),a&&r&&r.end(),i=!1,De(s)}}}function Zi(t){let e,r,o,n,i,s,a,l=Dr,u=[];for(let h=0;h<l.length;h+=1)u[h]=Ji(Hi(t,l,h));const g=h=>$e(u[h],1,1,()=>{u[h]=null});return{c(){e=ue("div"),r=ue("div");for(let h=0;h<u.length;h+=1)u[h].c();o=Ee(),n=ue("div"),n.innerHTML='<div id="content" class="svelte-1l5tnjn"><p id="generate_text" class="noselect svelte-1l5tnjn">OK</p></div>',L(r,"class","popupcontainer svelte-1l5tnjn"),L(n,"id","messagepopupconfirm"),L(n,"class","popupconfirm svelte-1l5tnjn"),L(e,"class","popup svelte-1l5tnjn")},m(h,v){ge(h,e,v),ce(e,r);for(let c=0;c<u.length;c+=1)u[c].m(r,null);ce(e,o),ce(e,n),i=!0,s||(a=[ke(n,"click",t[4]),ke(n,"keydown",null)],s=!0)},p(h,v){if(v&13){l=Dr;let c;for(c=0;c<l.length;c+=1){const _=Hi(h,l,c);u[c]?(u[c].p(_,v),he(u[c],1)):(u[c]=Ji(_),u[c].c(),he(u[c],1),u[c].m(r,null))}for(Xe(),c=l.length;c<u.length;c+=1)g(c);et()}},i(h){if(!i){for(let v=0;v<l.length;v+=1)he(u[v]);i=!0}},o(h){u=u.filter(Boolean);for(let v=0;v<u.length;v+=1)$e(u[v]);i=!1},d(h){h&&me(e),Ur(u,h),s=!1,De(a)}}}function Gi(t){let e,r;function o(){return t[5](t[6])}return e=new Qs({props:{image:t[6].img,name:t[6].name,value:t[0].includes(t[6].source),onClick:o}}),{c(){We(e.$$.fragment)},m(n,i){Ve(e,n,i),r=!0},p(n,i){t=n;const s={};i&1&&(s.value=t[0].includes(t[6].source)),e.$set(s)},i(n){r||(he(e.$$.fragment,n),r=!0)},o(n){$e(e.$$.fragment,n),r=!1},d(n){xe(e,n)}}}function Ji(t){let e,r,o=t[6].minVersion&&t[6].minVersion<=t[2]&&Gi(t);return{c(){o&&o.c(),e=_r()},m(n,i){o&&o.m(n,i),ge(n,e,i),r=!0},p(n,i){n[6].minVersion&&n[6].minVersion<=n[2]?o?(o.p(n,i),i&4&&he(o,1)):(o=Gi(n),o.c(),he(o,1),o.m(e.parentNode,e)):o&&(Xe(),$e(o,1,1,()=>{o=null}),et())},i(n){r||(he(o),r=!0)},o(n){$e(o),r=!1},d(n){o&&o.d(n),n&&me(e)}}}function ao(t){let e,r,o,n=t[1]&&Wi(t),i=t[1]&&Zi(t);return{c(){n&&n.c(),e=Ee(),i&&i.c(),r=_r()},m(s,a){n&&n.m(s,a),ge(s,e,a),i&&i.m(s,a),ge(s,r,a),o=!0},p(s,[a]){s[1]?n?(n.p(s,a),a&2&&he(n,1)):(n=Wi(s),n.c(),he(n,1),n.m(e.parentNode,e)):n&&(Xe(),$e(n,1,1,()=>{n=null}),et()),s[1]?i?(i.p(s,a),a&2&&he(i,1)):(i=Zi(s),i.c(),he(i,1),i.m(r.parentNode,r)):i&&(Xe(),$e(i,1,1,()=>{i=null}),et())},i(s){o||(he(n),he(i),o=!0)},o(s){$e(n),$e(i),o=!1},d(s){n&&n.d(s),s&&me(e),i&&i.d(s),s&&me(r)}}}function oo(t,e,r){let o;mr(t,hr,u=>r(2,o=u));let{selectedDungeons:n=[]}=e,{active:i=!0}=e;const s=u=>{n.includes(u)?r(0,n=n.filter(g=>g!=u)):r(0,n=[...n,u])},a=()=>r(1,i=!1),l=u=>s(u.source);return t.$$set=u=>{"selectedDungeons"in u&&r(0,n=u.selectedDungeons),"active"in u&&r(1,i=u.active)},[n,i,o,s,a,l]}class lo extends At{constructor(e){super(),kt(this,e,oo,ao,pt,{selectedDungeons:0,active:1})}}function Qi(t,e,r){const o=t.slice();return o[10]=e[r][0],o[11]=e[r][1],o}function co(t){let e,r,o,n;return{c(){e=ue("img"),Ye(e.src,r=Kn)||L(e,"src",r),L(e,"alt","pack icon"),L(e,"id","pack_icon"),L(e,"class","noselect svelte-iv83eq")},m(i,s){ge(i,e,s),o||(n=[Ge(It.call(null,e)),Ge(dr.call(null,e,{accept:"image/png",cb:t[3]})),ke(e,"keypress",null)],o=!0)},p:Se,d(i){i&&me(e),o=!1,De(n)}}}function Yi(t){let e,r=t[11]+"",o;return{c(){e=ue("option"),o=ot(r),e.__value=t[10],e.value=e.__value},m(n,i){ge(n,e,i),ce(e,o)},p:Se,d(n){n&&me(e)}}}function uo(t){let e,r,o;return{c(){e=ue("input"),L(e,"type","button"),L(e,"name","import"),L(e,"id","pack_import"),e.value="import",L(e,"class","svelte-iv83eq")},m(n,i){ge(n,e,i),r||(o=ke(e,"click",t[9]),r=!0)},p:Se,d(n){n&&me(e),r=!1,o()}}}function fo(t){let e,r,o,n,i,s,a,l,u,g,h,v,c,_,f;function m($){t[6]($)}let d={};t[1]!==void 0&&(d.active=t[1]),e=new Cu({props:d}),at.push(()=>bt(e,"active",m)),i=new vt({props:{text:"Sets the resourcepack icon",$$slots:{default:[co]},$$scope:{ctx:t}}});let y=[...qi],w=[];for(let $=0;$<y.length;$+=1)w[$]=Yi(Qi(t,y,$));return v=new vt({props:{text:"Import an existing resourcepack",right:!1,$$slots:{default:[uo]},$$scope:{ctx:t}}}),{c(){We(e.$$.fragment),o=Ee(),n=ue("div"),We(i.$$.fragment),s=Ee(),a=ue("input"),l=Ee(),u=ue("select");for(let $=0;$<w.length;$+=1)w[$].c();g=Ee(),h=ue("div"),We(v.$$.fragment),L(a,"type","text"),L(a,"name","pack_name"),L(a,"id","pack_name_input"),L(a,"class","svelte-iv83eq"),L(u,"name","version"),L(u,"id","version_input"),L(u,"class","svelte-iv83eq"),t[2]===void 0&&lt(()=>t[8].call(u)),L(h,"id","import_container"),L(h,"class","svelte-iv83eq"),L(n,"id","header"),L(n,"class","svelte-iv83eq")},m($,A){Ve(e,$,A),ge($,o,A),ge($,n,A),Ve(i,n,null),ce(n,s),ce(n,a),Mt(a,t[0]),ce(n,l),ce(n,u);for(let I=0;I<w.length;I+=1)w[I].m(u,null);Ui(u,t[2]),ce(n,g),ce(n,h),Ve(v,h,null),c=!0,_||(f=[ke(a,"input",t[7]),ke(a,"input",t[4]),ke(u,"change",t[8])],_=!0)},p($,[A]){const I={};!r&&A&2&&(r=!0,I.active=$[1],yt(()=>r=!1)),e.$set(I);const E={};if(A&16384&&(E.$$scope={dirty:A,ctx:$}),i.$set(E),A&1&&a.value!==$[0]&&Mt(a,$[0]),A&0){y=[...qi];let z;for(z=0;z<y.length;z+=1){const K=Qi($,y,z);w[z]?w[z].p(K,A):(w[z]=Yi(K),w[z].c(),w[z].m(u,null))}for(;z<w.length;z+=1)w[z].d(1);w.length=y.length}A&4&&Ui(u,$[2]);const j={};A&16386&&(j.$$scope={dirty:A,ctx:$}),v.$set(j)},i($){c||(he(e.$$.fragment,$),he(i.$$.fragment,$),he(v.$$.fragment,$),c=!0)},o($){$e(e.$$.fragment,$),$e(i.$$.fragment,$),$e(v.$$.fragment,$),c=!1},d($){xe(e,$),$&&me(o),$&&me(n),xe(i),Ur(w,$),xe(v),_=!1,De(f)}}}function ho(t,e,r){let o;mr(t,hr,c=>r(2,o=c));let{packname:n="your_pack_name"}=e,{imagesrc:i=Kn}=e,s=!1;const a=c=>{if(!c||c.length===0)return;const _=c[0],f=new FileReader;f.onload=()=>{const m=new Image;m.onload=()=>{const d=document.createElement("canvas");d.width=64,d.height=64,d.getContext("2d").drawImage(m,0,0,64,64),r(5,i=d.toDataURL("image/png"))},m.src=f.result},f.readAsDataURL(_)},l=()=>{r(0,n=n.replace(" ","_").replace(/[^a-zA-Z0-9_]/g,"").toLowerCase())};function u(c){s=c,r(1,s)}function g(){n=this.value,r(0,n)}function h(){o=Oa(this),hr.set(o)}const v=()=>r(1,s=!0);return t.$$set=c=>{"packname"in c&&r(0,n=c.packname),"imagesrc"in c&&r(5,i=c.imagesrc)},[n,s,o,a,l,i,u,g,h,v]}class po extends At{constructor(e){super(),kt(this,e,ho,fo,pt,{packname:0,imagesrc:5})}}var Er=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function mo(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Wr(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Dn={},_o={get exports(){return Dn},set exports(t){Dn=t}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/(function(t,e){(function(r){t.exports=r()})(function(){return function r(o,n,i){function s(u,g){if(!n[u]){if(!o[u]){var h=typeof Wr=="function"&&Wr;if(!g&&h)return h(u,!0);if(a)return a(u,!0);var v=new Error("Cannot find module '"+u+"'");throw v.code="MODULE_NOT_FOUND",v}var c=n[u]={exports:{}};o[u][0].call(c.exports,function(_){var f=o[u][1][_];return s(f||_)},c,c.exports,r,o,n,i)}return n[u].exports}for(var a=typeof Wr=="function"&&Wr,l=0;l<i.length;l++)s(i[l]);return s}({1:[function(r,o,n){var i=r("./utils"),s=r("./support"),a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";n.encode=function(l){for(var u,g,h,v,c,_,f,m=[],d=0,y=l.length,w=y,$=i.getTypeOf(l)!=="string";d<l.length;)w=y-d,h=$?(u=l[d++],g=d<y?l[d++]:0,d<y?l[d++]:0):(u=l.charCodeAt(d++),g=d<y?l.charCodeAt(d++):0,d<y?l.charCodeAt(d++):0),v=u>>2,c=(3&u)<<4|g>>4,_=1<w?(15&g)<<2|h>>6:64,f=2<w?63&h:64,m.push(a.charAt(v)+a.charAt(c)+a.charAt(_)+a.charAt(f));return m.join("")},n.decode=function(l){var u,g,h,v,c,_,f=0,m=0,d="data:";if(l.substr(0,d.length)===d)throw new Error("Invalid base64 input, it looks like a data url.");var y,w=3*(l=l.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(l.charAt(l.length-1)===a.charAt(64)&&w--,l.charAt(l.length-2)===a.charAt(64)&&w--,w%1!=0)throw new Error("Invalid base64 input, bad content length.");for(y=s.uint8array?new Uint8Array(0|w):new Array(0|w);f<l.length;)u=a.indexOf(l.charAt(f++))<<2|(v=a.indexOf(l.charAt(f++)))>>4,g=(15&v)<<4|(c=a.indexOf(l.charAt(f++)))>>2,h=(3&c)<<6|(_=a.indexOf(l.charAt(f++))),y[m++]=u,c!==64&&(y[m++]=g),_!==64&&(y[m++]=h);return y}},{"./support":30,"./utils":32}],2:[function(r,o,n){var i=r("./external"),s=r("./stream/DataWorker"),a=r("./stream/Crc32Probe"),l=r("./stream/DataLengthProbe");function u(g,h,v,c,_){this.compressedSize=g,this.uncompressedSize=h,this.crc32=v,this.compression=c,this.compressedContent=_}u.prototype={getContentWorker:function(){var g=new s(i.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new l("data_length")),h=this;return g.on("end",function(){if(this.streamInfo.data_length!==h.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),g},getCompressedWorker:function(){return new s(i.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},u.createWorkerFrom=function(g,h,v){return g.pipe(new a).pipe(new l("uncompressedSize")).pipe(h.compressWorker(v)).pipe(new l("compressedSize")).withStreamInfo("compression",h)},o.exports=u},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(r,o,n){var i=r("./stream/GenericWorker");n.STORE={magic:"\0\0",compressWorker:function(){return new i("STORE compression")},uncompressWorker:function(){return new i("STORE decompression")}},n.DEFLATE=r("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(r,o,n){var i=r("./utils"),s=function(){for(var a,l=[],u=0;u<256;u++){a=u;for(var g=0;g<8;g++)a=1&a?3988292384^a>>>1:a>>>1;l[u]=a}return l}();o.exports=function(a,l){return a!==void 0&&a.length?i.getTypeOf(a)!=="string"?function(u,g,h,v){var c=s,_=v+h;u^=-1;for(var f=v;f<_;f++)u=u>>>8^c[255&(u^g[f])];return-1^u}(0|l,a,a.length,0):function(u,g,h,v){var c=s,_=v+h;u^=-1;for(var f=v;f<_;f++)u=u>>>8^c[255&(u^g.charCodeAt(f))];return-1^u}(0|l,a,a.length,0):0}},{"./utils":32}],5:[function(r,o,n){n.base64=!1,n.binary=!1,n.dir=!1,n.createFolders=!0,n.date=null,n.compression=null,n.compressionOptions=null,n.comment=null,n.unixPermissions=null,n.dosPermissions=null},{}],6:[function(r,o,n){var i=null;i=typeof Promise<"u"?Promise:r("lie"),o.exports={Promise:i}},{lie:37}],7:[function(r,o,n){var i=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",s=r("pako"),a=r("./utils"),l=r("./stream/GenericWorker"),u=i?"uint8array":"array";function g(h,v){l.call(this,"FlateWorker/"+h),this._pako=null,this._pakoAction=h,this._pakoOptions=v,this.meta={}}n.magic="\b\0",a.inherits(g,l),g.prototype.processChunk=function(h){this.meta=h.meta,this._pako===null&&this._createPako(),this._pako.push(a.transformTo(u,h.data),!1)},g.prototype.flush=function(){l.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},g.prototype.cleanUp=function(){l.prototype.cleanUp.call(this),this._pako=null},g.prototype._createPako=function(){this._pako=new s[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var h=this;this._pako.onData=function(v){h.push({data:v,meta:h.meta})}},n.compressWorker=function(h){return new g("Deflate",h)},n.uncompressWorker=function(){return new g("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(r,o,n){function i(c,_){var f,m="";for(f=0;f<_;f++)m+=String.fromCharCode(255&c),c>>>=8;return m}function s(c,_,f,m,d,y){var w,$,A=c.file,I=c.compression,E=y!==u.utf8encode,j=a.transformTo("string",y(A.name)),z=a.transformTo("string",u.utf8encode(A.name)),K=A.comment,ae=a.transformTo("string",y(K)),T=a.transformTo("string",u.utf8encode(K)),Z=z.length!==A.name.length,b=T.length!==K.length,X="",_e="",ne="",pe=A.dir,J=A.date,W={crc32:0,compressedSize:0,uncompressedSize:0};_&&!f||(W.crc32=c.crc32,W.compressedSize=c.compressedSize,W.uncompressedSize=c.uncompressedSize);var S=0;_&&(S|=8),E||!Z&&!b||(S|=2048);var N=0,U=0;pe&&(N|=16),d==="UNIX"?(U=798,N|=function(C,G){var oe=C;return C||(oe=G?16893:33204),(65535&oe)<<16}(A.unixPermissions,pe)):(U=20,N|=function(C){return 63&(C||0)}(A.dosPermissions)),w=J.getUTCHours(),w<<=6,w|=J.getUTCMinutes(),w<<=5,w|=J.getUTCSeconds()/2,$=J.getUTCFullYear()-1980,$<<=4,$|=J.getUTCMonth()+1,$<<=5,$|=J.getUTCDate(),Z&&(_e=i(1,1)+i(g(j),4)+z,X+="up"+i(_e.length,2)+_e),b&&(ne=i(1,1)+i(g(ae),4)+T,X+="uc"+i(ne.length,2)+ne);var k="";return k+=`
\0`,k+=i(S,2),k+=I.magic,k+=i(w,2),k+=i($,2),k+=i(W.crc32,4),k+=i(W.compressedSize,4),k+=i(W.uncompressedSize,4),k+=i(j.length,2),k+=i(X.length,2),{fileRecord:h.LOCAL_FILE_HEADER+k+j+X,dirRecord:h.CENTRAL_FILE_HEADER+i(U,2)+k+i(ae.length,2)+"\0\0\0\0"+i(N,4)+i(m,4)+j+X+ae}}var a=r("../utils"),l=r("../stream/GenericWorker"),u=r("../utf8"),g=r("../crc32"),h=r("../signature");function v(c,_,f,m){l.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=_,this.zipPlatform=f,this.encodeFileName=m,this.streamFiles=c,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}a.inherits(v,l),v.prototype.push=function(c){var _=c.meta.percent||0,f=this.entriesCount,m=this._sources.length;this.accumulate?this.contentBuffer.push(c):(this.bytesWritten+=c.data.length,l.prototype.push.call(this,{data:c.data,meta:{currentFile:this.currentFile,percent:f?(_+100*(f-m-1))/f:100}}))},v.prototype.openedSource=function(c){this.currentSourceOffset=this.bytesWritten,this.currentFile=c.file.name;var _=this.streamFiles&&!c.file.dir;if(_){var f=s(c,_,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:f.fileRecord,meta:{percent:0}})}else this.accumulate=!0},v.prototype.closedSource=function(c){this.accumulate=!1;var _=this.streamFiles&&!c.file.dir,f=s(c,_,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(f.dirRecord),_)this.push({data:function(m){return h.DATA_DESCRIPTOR+i(m.crc32,4)+i(m.compressedSize,4)+i(m.uncompressedSize,4)}(c),meta:{percent:100}});else for(this.push({data:f.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},v.prototype.flush=function(){for(var c=this.bytesWritten,_=0;_<this.dirRecords.length;_++)this.push({data:this.dirRecords[_],meta:{percent:100}});var f=this.bytesWritten-c,m=function(d,y,w,$,A){var I=a.transformTo("string",A($));return h.CENTRAL_DIRECTORY_END+"\0\0\0\0"+i(d,2)+i(d,2)+i(y,4)+i(w,4)+i(I.length,2)+I}(this.dirRecords.length,f,c,this.zipComment,this.encodeFileName);this.push({data:m,meta:{percent:100}})},v.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},v.prototype.registerPrevious=function(c){this._sources.push(c);var _=this;return c.on("data",function(f){_.processChunk(f)}),c.on("end",function(){_.closedSource(_.previous.streamInfo),_._sources.length?_.prepareNextSource():_.end()}),c.on("error",function(f){_.error(f)}),this},v.prototype.resume=function(){return!!l.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},v.prototype.error=function(c){var _=this._sources;if(!l.prototype.error.call(this,c))return!1;for(var f=0;f<_.length;f++)try{_[f].error(c)}catch{}return!0},v.prototype.lock=function(){l.prototype.lock.call(this);for(var c=this._sources,_=0;_<c.length;_++)c[_].lock()},o.exports=v},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(r,o,n){var i=r("../compressions"),s=r("./ZipFileWorker");n.generateWorker=function(a,l,u){var g=new s(l.streamFiles,u,l.platform,l.encodeFileName),h=0;try{a.forEach(function(v,c){h++;var _=function(y,w){var $=y||w,A=i[$];if(!A)throw new Error($+" is not a valid compression method !");return A}(c.options.compression,l.compression),f=c.options.compressionOptions||l.compressionOptions||{},m=c.dir,d=c.date;c._compressWorker(_,f).withStreamInfo("file",{name:v,dir:m,date:d,comment:c.comment||"",unixPermissions:c.unixPermissions,dosPermissions:c.dosPermissions}).pipe(g)}),g.entriesCount=h}catch(v){g.error(v)}return g}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(r,o,n){function i(){if(!(this instanceof i))return new i;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var s=new i;for(var a in this)typeof this[a]!="function"&&(s[a]=this[a]);return s}}(i.prototype=r("./object")).loadAsync=r("./load"),i.support=r("./support"),i.defaults=r("./defaults"),i.version="3.10.1",i.loadAsync=function(s,a){return new i().loadAsync(s,a)},i.external=r("./external"),o.exports=i},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(r,o,n){var i=r("./utils"),s=r("./external"),a=r("./utf8"),l=r("./zipEntries"),u=r("./stream/Crc32Probe"),g=r("./nodejsUtils");function h(v){return new s.Promise(function(c,_){var f=v.decompressed.getContentWorker().pipe(new u);f.on("error",function(m){_(m)}).on("end",function(){f.streamInfo.crc32!==v.decompressed.crc32?_(new Error("Corrupted zip : CRC32 mismatch")):c()}).resume()})}o.exports=function(v,c){var _=this;return c=i.extend(c||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:a.utf8decode}),g.isNode&&g.isStream(v)?s.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):i.prepareContent("the loaded zip file",v,!0,c.optimizedBinaryString,c.base64).then(function(f){var m=new l(c);return m.load(f),m}).then(function(f){var m=[s.Promise.resolve(f)],d=f.files;if(c.checkCRC32)for(var y=0;y<d.length;y++)m.push(h(d[y]));return s.Promise.all(m)}).then(function(f){for(var m=f.shift(),d=m.files,y=0;y<d.length;y++){var w=d[y],$=w.fileNameStr,A=i.resolve(w.fileNameStr);_.file(A,w.decompressed,{binary:!0,optimizedBinaryString:!0,date:w.date,dir:w.dir,comment:w.fileCommentStr.length?w.fileCommentStr:null,unixPermissions:w.unixPermissions,dosPermissions:w.dosPermissions,createFolders:c.createFolders}),w.dir||(_.file(A).unsafeOriginalName=$)}return m.zipComment.length&&(_.comment=m.zipComment),_})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(r,o,n){var i=r("../utils"),s=r("../stream/GenericWorker");function a(l,u){s.call(this,"Nodejs stream input adapter for "+l),this._upstreamEnded=!1,this._bindStream(u)}i.inherits(a,s),a.prototype._bindStream=function(l){var u=this;(this._stream=l).pause(),l.on("data",function(g){u.push({data:g,meta:{percent:0}})}).on("error",function(g){u.isPaused?this.generatedError=g:u.error(g)}).on("end",function(){u.isPaused?u._upstreamEnded=!0:u.end()})},a.prototype.pause=function(){return!!s.prototype.pause.call(this)&&(this._stream.pause(),!0)},a.prototype.resume=function(){return!!s.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},o.exports=a},{"../stream/GenericWorker":28,"../utils":32}],13:[function(r,o,n){var i=r("readable-stream").Readable;function s(a,l,u){i.call(this,l),this._helper=a;var g=this;a.on("data",function(h,v){g.push(h)||g._helper.pause(),u&&u(v)}).on("error",function(h){g.emit("error",h)}).on("end",function(){g.push(null)})}r("../utils").inherits(s,i),s.prototype._read=function(){this._helper.resume()},o.exports=s},{"../utils":32,"readable-stream":16}],14:[function(r,o,n){o.exports={isNode:typeof Buffer<"u",newBufferFrom:function(i,s){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(i,s);if(typeof i=="number")throw new Error('The "data" argument must not be a number');return new Buffer(i,s)},allocBuffer:function(i){if(Buffer.alloc)return Buffer.alloc(i);var s=new Buffer(i);return s.fill(0),s},isBuffer:function(i){return Buffer.isBuffer(i)},isStream:function(i){return i&&typeof i.on=="function"&&typeof i.pause=="function"&&typeof i.resume=="function"}}},{}],15:[function(r,o,n){function i(A,I,E){var j,z=a.getTypeOf(I),K=a.extend(E||{},g);K.date=K.date||new Date,K.compression!==null&&(K.compression=K.compression.toUpperCase()),typeof K.unixPermissions=="string"&&(K.unixPermissions=parseInt(K.unixPermissions,8)),K.unixPermissions&&16384&K.unixPermissions&&(K.dir=!0),K.dosPermissions&&16&K.dosPermissions&&(K.dir=!0),K.dir&&(A=d(A)),K.createFolders&&(j=m(A))&&y.call(this,j,!0);var ae=z==="string"&&K.binary===!1&&K.base64===!1;E&&E.binary!==void 0||(K.binary=!ae),(I instanceof h&&I.uncompressedSize===0||K.dir||!I||I.length===0)&&(K.base64=!1,K.binary=!0,I="",K.compression="STORE",z="string");var T=null;T=I instanceof h||I instanceof l?I:_.isNode&&_.isStream(I)?new f(A,I):a.prepareContent(A,I,K.binary,K.optimizedBinaryString,K.base64);var Z=new v(A,T,K);this.files[A]=Z}var s=r("./utf8"),a=r("./utils"),l=r("./stream/GenericWorker"),u=r("./stream/StreamHelper"),g=r("./defaults"),h=r("./compressedObject"),v=r("./zipObject"),c=r("./generate"),_=r("./nodejsUtils"),f=r("./nodejs/NodejsStreamInputAdapter"),m=function(A){A.slice(-1)==="/"&&(A=A.substring(0,A.length-1));var I=A.lastIndexOf("/");return 0<I?A.substring(0,I):""},d=function(A){return A.slice(-1)!=="/"&&(A+="/"),A},y=function(A,I){return I=I!==void 0?I:g.createFolders,A=d(A),this.files[A]||i.call(this,A,null,{dir:!0,createFolders:I}),this.files[A]};function w(A){return Object.prototype.toString.call(A)==="[object RegExp]"}var $={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(A){var I,E,j;for(I in this.files)j=this.files[I],(E=I.slice(this.root.length,I.length))&&I.slice(0,this.root.length)===this.root&&A(E,j)},filter:function(A){var I=[];return this.forEach(function(E,j){A(E,j)&&I.push(j)}),I},file:function(A,I,E){if(arguments.length!==1)return A=this.root+A,i.call(this,A,I,E),this;if(w(A)){var j=A;return this.filter(function(K,ae){return!ae.dir&&j.test(K)})}var z=this.files[this.root+A];return z&&!z.dir?z:null},folder:function(A){if(!A)return this;if(w(A))return this.filter(function(z,K){return K.dir&&A.test(z)});var I=this.root+A,E=y.call(this,I),j=this.clone();return j.root=E.name,j},remove:function(A){A=this.root+A;var I=this.files[A];if(I||(A.slice(-1)!=="/"&&(A+="/"),I=this.files[A]),I&&!I.dir)delete this.files[A];else for(var E=this.filter(function(z,K){return K.name.slice(0,A.length)===A}),j=0;j<E.length;j++)delete this.files[E[j].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(A){var I,E={};try{if((E=a.extend(A||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:s.utf8encode})).type=E.type.toLowerCase(),E.compression=E.compression.toUpperCase(),E.type==="binarystring"&&(E.type="string"),!E.type)throw new Error("No output type specified.");a.checkSupport(E.type),E.platform!=="darwin"&&E.platform!=="freebsd"&&E.platform!=="linux"&&E.platform!=="sunos"||(E.platform="UNIX"),E.platform==="win32"&&(E.platform="DOS");var j=E.comment||this.comment||"";I=c.generateWorker(this,E,j)}catch(z){(I=new l("error")).error(z)}return new u(I,E.type||"string",E.mimeType)},generateAsync:function(A,I){return this.generateInternalStream(A).accumulate(I)},generateNodeStream:function(A,I){return(A=A||{}).type||(A.type="nodebuffer"),this.generateInternalStream(A).toNodejsStream(I)}};o.exports=$},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(r,o,n){o.exports=r("stream")},{stream:void 0}],17:[function(r,o,n){var i=r("./DataReader");function s(a){i.call(this,a);for(var l=0;l<this.data.length;l++)a[l]=255&a[l]}r("../utils").inherits(s,i),s.prototype.byteAt=function(a){return this.data[this.zero+a]},s.prototype.lastIndexOfSignature=function(a){for(var l=a.charCodeAt(0),u=a.charCodeAt(1),g=a.charCodeAt(2),h=a.charCodeAt(3),v=this.length-4;0<=v;--v)if(this.data[v]===l&&this.data[v+1]===u&&this.data[v+2]===g&&this.data[v+3]===h)return v-this.zero;return-1},s.prototype.readAndCheckSignature=function(a){var l=a.charCodeAt(0),u=a.charCodeAt(1),g=a.charCodeAt(2),h=a.charCodeAt(3),v=this.readData(4);return l===v[0]&&u===v[1]&&g===v[2]&&h===v[3]},s.prototype.readData=function(a){if(this.checkOffset(a),a===0)return[];var l=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},o.exports=s},{"../utils":32,"./DataReader":18}],18:[function(r,o,n){var i=r("../utils");function s(a){this.data=a,this.length=a.length,this.index=0,this.zero=0}s.prototype={checkOffset:function(a){this.checkIndex(this.index+a)},checkIndex:function(a){if(this.length<this.zero+a||a<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+a+"). Corrupted zip ?")},setIndex:function(a){this.checkIndex(a),this.index=a},skip:function(a){this.setIndex(this.index+a)},byteAt:function(){},readInt:function(a){var l,u=0;for(this.checkOffset(a),l=this.index+a-1;l>=this.index;l--)u=(u<<8)+this.byteAt(l);return this.index+=a,u},readString:function(a){return i.transformTo("string",this.readData(a))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var a=this.readInt(4);return new Date(Date.UTC(1980+(a>>25&127),(a>>21&15)-1,a>>16&31,a>>11&31,a>>5&63,(31&a)<<1))}},o.exports=s},{"../utils":32}],19:[function(r,o,n){var i=r("./Uint8ArrayReader");function s(a){i.call(this,a)}r("../utils").inherits(s,i),s.prototype.readData=function(a){this.checkOffset(a);var l=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},o.exports=s},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(r,o,n){var i=r("./DataReader");function s(a){i.call(this,a)}r("../utils").inherits(s,i),s.prototype.byteAt=function(a){return this.data.charCodeAt(this.zero+a)},s.prototype.lastIndexOfSignature=function(a){return this.data.lastIndexOf(a)-this.zero},s.prototype.readAndCheckSignature=function(a){return a===this.readData(4)},s.prototype.readData=function(a){this.checkOffset(a);var l=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},o.exports=s},{"../utils":32,"./DataReader":18}],21:[function(r,o,n){var i=r("./ArrayReader");function s(a){i.call(this,a)}r("../utils").inherits(s,i),s.prototype.readData=function(a){if(this.checkOffset(a),a===0)return new Uint8Array(0);var l=this.data.subarray(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},o.exports=s},{"../utils":32,"./ArrayReader":17}],22:[function(r,o,n){var i=r("../utils"),s=r("../support"),a=r("./ArrayReader"),l=r("./StringReader"),u=r("./NodeBufferReader"),g=r("./Uint8ArrayReader");o.exports=function(h){var v=i.getTypeOf(h);return i.checkSupport(v),v!=="string"||s.uint8array?v==="nodebuffer"?new u(h):s.uint8array?new g(i.transformTo("uint8array",h)):new a(i.transformTo("array",h)):new l(h)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(r,o,n){n.LOCAL_FILE_HEADER="PK",n.CENTRAL_FILE_HEADER="PK",n.CENTRAL_DIRECTORY_END="PK",n.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",n.ZIP64_CENTRAL_DIRECTORY_END="PK",n.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(r,o,n){var i=r("./GenericWorker"),s=r("../utils");function a(l){i.call(this,"ConvertWorker to "+l),this.destType=l}s.inherits(a,i),a.prototype.processChunk=function(l){this.push({data:s.transformTo(this.destType,l.data),meta:l.meta})},o.exports=a},{"../utils":32,"./GenericWorker":28}],25:[function(r,o,n){var i=r("./GenericWorker"),s=r("../crc32");function a(){i.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}r("../utils").inherits(a,i),a.prototype.processChunk=function(l){this.streamInfo.crc32=s(l.data,this.streamInfo.crc32||0),this.push(l)},o.exports=a},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(r,o,n){var i=r("../utils"),s=r("./GenericWorker");function a(l){s.call(this,"DataLengthProbe for "+l),this.propName=l,this.withStreamInfo(l,0)}i.inherits(a,s),a.prototype.processChunk=function(l){if(l){var u=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=u+l.data.length}s.prototype.processChunk.call(this,l)},o.exports=a},{"../utils":32,"./GenericWorker":28}],27:[function(r,o,n){var i=r("../utils"),s=r("./GenericWorker");function a(l){s.call(this,"DataWorker");var u=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,l.then(function(g){u.dataIsReady=!0,u.data=g,u.max=g&&g.length||0,u.type=i.getTypeOf(g),u.isPaused||u._tickAndRepeat()},function(g){u.error(g)})}i.inherits(a,s),a.prototype.cleanUp=function(){s.prototype.cleanUp.call(this),this.data=null},a.prototype.resume=function(){return!!s.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,i.delay(this._tickAndRepeat,[],this)),!0)},a.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(i.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},a.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var l=null,u=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":l=this.data.substring(this.index,u);break;case"uint8array":l=this.data.subarray(this.index,u);break;case"array":case"nodebuffer":l=this.data.slice(this.index,u)}return this.index=u,this.push({data:l,meta:{percent:this.max?this.index/this.max*100:0}})},o.exports=a},{"../utils":32,"./GenericWorker":28}],28:[function(r,o,n){function i(s){this.name=s||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}i.prototype={push:function(s){this.emit("data",s)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(s){this.emit("error",s)}return!0},error:function(s){return!this.isFinished&&(this.isPaused?this.generatedError=s:(this.isFinished=!0,this.emit("error",s),this.previous&&this.previous.error(s),this.cleanUp()),!0)},on:function(s,a){return this._listeners[s].push(a),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(s,a){if(this._listeners[s])for(var l=0;l<this._listeners[s].length;l++)this._listeners[s][l].call(this,a)},pipe:function(s){return s.registerPrevious(this)},registerPrevious:function(s){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=s.streamInfo,this.mergeStreamInfo(),this.previous=s;var a=this;return s.on("data",function(l){a.processChunk(l)}),s.on("end",function(){a.end()}),s.on("error",function(l){a.error(l)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var s=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),s=!0),this.previous&&this.previous.resume(),!s},flush:function(){},processChunk:function(s){this.push(s)},withStreamInfo:function(s,a){return this.extraStreamInfo[s]=a,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var s in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,s)&&(this.streamInfo[s]=this.extraStreamInfo[s])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var s="Worker "+this.name;return this.previous?this.previous+" -> "+s:s}},o.exports=i},{}],29:[function(r,o,n){var i=r("../utils"),s=r("./ConvertWorker"),a=r("./GenericWorker"),l=r("../base64"),u=r("../support"),g=r("../external"),h=null;if(u.nodestream)try{h=r("../nodejs/NodejsStreamOutputAdapter")}catch{}function v(_,f){return new g.Promise(function(m,d){var y=[],w=_._internalType,$=_._outputType,A=_._mimeType;_.on("data",function(I,E){y.push(I),f&&f(E)}).on("error",function(I){y=[],d(I)}).on("end",function(){try{var I=function(E,j,z){switch(E){case"blob":return i.newBlob(i.transformTo("arraybuffer",j),z);case"base64":return l.encode(j);default:return i.transformTo(E,j)}}($,function(E,j){var z,K=0,ae=null,T=0;for(z=0;z<j.length;z++)T+=j[z].length;switch(E){case"string":return j.join("");case"array":return Array.prototype.concat.apply([],j);case"uint8array":for(ae=new Uint8Array(T),z=0;z<j.length;z++)ae.set(j[z],K),K+=j[z].length;return ae;case"nodebuffer":return Buffer.concat(j);default:throw new Error("concat : unsupported type '"+E+"'")}}(w,y),A);m(I)}catch(E){d(E)}y=[]}).resume()})}function c(_,f,m){var d=f;switch(f){case"blob":case"arraybuffer":d="uint8array";break;case"base64":d="string"}try{this._internalType=d,this._outputType=f,this._mimeType=m,i.checkSupport(d),this._worker=_.pipe(new s(d)),_.lock()}catch(y){this._worker=new a("error"),this._worker.error(y)}}c.prototype={accumulate:function(_){return v(this,_)},on:function(_,f){var m=this;return _==="data"?this._worker.on(_,function(d){f.call(m,d.data,d.meta)}):this._worker.on(_,function(){i.delay(f,arguments,m)}),this},resume:function(){return i.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(_){if(i.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new h(this,{objectMode:this._outputType!=="nodebuffer"},_)}},o.exports=c},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(r,o,n){if(n.base64=!0,n.array=!0,n.string=!0,n.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",n.nodebuffer=typeof Buffer<"u",n.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")n.blob=!1;else{var i=new ArrayBuffer(0);try{n.blob=new Blob([i],{type:"application/zip"}).size===0}catch{try{var s=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);s.append(i),n.blob=s.getBlob("application/zip").size===0}catch{n.blob=!1}}}try{n.nodestream=!!r("readable-stream").Readable}catch{n.nodestream=!1}},{"readable-stream":16}],31:[function(r,o,n){for(var i=r("./utils"),s=r("./support"),a=r("./nodejsUtils"),l=r("./stream/GenericWorker"),u=new Array(256),g=0;g<256;g++)u[g]=252<=g?6:248<=g?5:240<=g?4:224<=g?3:192<=g?2:1;u[254]=u[254]=1;function h(){l.call(this,"utf-8 decode"),this.leftOver=null}function v(){l.call(this,"utf-8 encode")}n.utf8encode=function(c){return s.nodebuffer?a.newBufferFrom(c,"utf-8"):function(_){var f,m,d,y,w,$=_.length,A=0;for(y=0;y<$;y++)(64512&(m=_.charCodeAt(y)))==55296&&y+1<$&&(64512&(d=_.charCodeAt(y+1)))==56320&&(m=65536+(m-55296<<10)+(d-56320),y++),A+=m<128?1:m<2048?2:m<65536?3:4;for(f=s.uint8array?new Uint8Array(A):new Array(A),y=w=0;w<A;y++)(64512&(m=_.charCodeAt(y)))==55296&&y+1<$&&(64512&(d=_.charCodeAt(y+1)))==56320&&(m=65536+(m-55296<<10)+(d-56320),y++),m<128?f[w++]=m:(m<2048?f[w++]=192|m>>>6:(m<65536?f[w++]=224|m>>>12:(f[w++]=240|m>>>18,f[w++]=128|m>>>12&63),f[w++]=128|m>>>6&63),f[w++]=128|63&m);return f}(c)},n.utf8decode=function(c){return s.nodebuffer?i.transformTo("nodebuffer",c).toString("utf-8"):function(_){var f,m,d,y,w=_.length,$=new Array(2*w);for(f=m=0;f<w;)if((d=_[f++])<128)$[m++]=d;else if(4<(y=u[d]))$[m++]=65533,f+=y-1;else{for(d&=y===2?31:y===3?15:7;1<y&&f<w;)d=d<<6|63&_[f++],y--;1<y?$[m++]=65533:d<65536?$[m++]=d:(d-=65536,$[m++]=55296|d>>10&1023,$[m++]=56320|1023&d)}return $.length!==m&&($.subarray?$=$.subarray(0,m):$.length=m),i.applyFromCharCode($)}(c=i.transformTo(s.uint8array?"uint8array":"array",c))},i.inherits(h,l),h.prototype.processChunk=function(c){var _=i.transformTo(s.uint8array?"uint8array":"array",c.data);if(this.leftOver&&this.leftOver.length){if(s.uint8array){var f=_;(_=new Uint8Array(f.length+this.leftOver.length)).set(this.leftOver,0),_.set(f,this.leftOver.length)}else _=this.leftOver.concat(_);this.leftOver=null}var m=function(y,w){var $;for((w=w||y.length)>y.length&&(w=y.length),$=w-1;0<=$&&(192&y[$])==128;)$--;return $<0||$===0?w:$+u[y[$]]>w?$:w}(_),d=_;m!==_.length&&(s.uint8array?(d=_.subarray(0,m),this.leftOver=_.subarray(m,_.length)):(d=_.slice(0,m),this.leftOver=_.slice(m,_.length))),this.push({data:n.utf8decode(d),meta:c.meta})},h.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:n.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},n.Utf8DecodeWorker=h,i.inherits(v,l),v.prototype.processChunk=function(c){this.push({data:n.utf8encode(c.data),meta:c.meta})},n.Utf8EncodeWorker=v},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(r,o,n){var i=r("./support"),s=r("./base64"),a=r("./nodejsUtils"),l=r("./external");function u(f){return f}function g(f,m){for(var d=0;d<f.length;++d)m[d]=255&f.charCodeAt(d);return m}r("setimmediate"),n.newBlob=function(f,m){n.checkSupport("blob");try{return new Blob([f],{type:m})}catch{try{var d=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return d.append(f),d.getBlob(m)}catch{throw new Error("Bug : can't construct the Blob.")}}};var h={stringifyByChunk:function(f,m,d){var y=[],w=0,$=f.length;if($<=d)return String.fromCharCode.apply(null,f);for(;w<$;)m==="array"||m==="nodebuffer"?y.push(String.fromCharCode.apply(null,f.slice(w,Math.min(w+d,$)))):y.push(String.fromCharCode.apply(null,f.subarray(w,Math.min(w+d,$)))),w+=d;return y.join("")},stringifyByChar:function(f){for(var m="",d=0;d<f.length;d++)m+=String.fromCharCode(f[d]);return m},applyCanBeUsed:{uint8array:function(){try{return i.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return i.nodebuffer&&String.fromCharCode.apply(null,a.allocBuffer(1)).length===1}catch{return!1}}()}};function v(f){var m=65536,d=n.getTypeOf(f),y=!0;if(d==="uint8array"?y=h.applyCanBeUsed.uint8array:d==="nodebuffer"&&(y=h.applyCanBeUsed.nodebuffer),y)for(;1<m;)try{return h.stringifyByChunk(f,d,m)}catch{m=Math.floor(m/2)}return h.stringifyByChar(f)}function c(f,m){for(var d=0;d<f.length;d++)m[d]=f[d];return m}n.applyFromCharCode=v;var _={};_.string={string:u,array:function(f){return g(f,new Array(f.length))},arraybuffer:function(f){return _.string.uint8array(f).buffer},uint8array:function(f){return g(f,new Uint8Array(f.length))},nodebuffer:function(f){return g(f,a.allocBuffer(f.length))}},_.array={string:v,array:u,arraybuffer:function(f){return new Uint8Array(f).buffer},uint8array:function(f){return new Uint8Array(f)},nodebuffer:function(f){return a.newBufferFrom(f)}},_.arraybuffer={string:function(f){return v(new Uint8Array(f))},array:function(f){return c(new Uint8Array(f),new Array(f.byteLength))},arraybuffer:u,uint8array:function(f){return new Uint8Array(f)},nodebuffer:function(f){return a.newBufferFrom(new Uint8Array(f))}},_.uint8array={string:v,array:function(f){return c(f,new Array(f.length))},arraybuffer:function(f){return f.buffer},uint8array:u,nodebuffer:function(f){return a.newBufferFrom(f)}},_.nodebuffer={string:v,array:function(f){return c(f,new Array(f.length))},arraybuffer:function(f){return _.nodebuffer.uint8array(f).buffer},uint8array:function(f){return c(f,new Uint8Array(f.length))},nodebuffer:u},n.transformTo=function(f,m){if(m=m||"",!f)return m;n.checkSupport(f);var d=n.getTypeOf(m);return _[d][f](m)},n.resolve=function(f){for(var m=f.split("/"),d=[],y=0;y<m.length;y++){var w=m[y];w==="."||w===""&&y!==0&&y!==m.length-1||(w===".."?d.pop():d.push(w))}return d.join("/")},n.getTypeOf=function(f){return typeof f=="string"?"string":Object.prototype.toString.call(f)==="[object Array]"?"array":i.nodebuffer&&a.isBuffer(f)?"nodebuffer":i.uint8array&&f instanceof Uint8Array?"uint8array":i.arraybuffer&&f instanceof ArrayBuffer?"arraybuffer":void 0},n.checkSupport=function(f){if(!i[f.toLowerCase()])throw new Error(f+" is not supported by this platform")},n.MAX_VALUE_16BITS=65535,n.MAX_VALUE_32BITS=-1,n.pretty=function(f){var m,d,y="";for(d=0;d<(f||"").length;d++)y+="\\x"+((m=f.charCodeAt(d))<16?"0":"")+m.toString(16).toUpperCase();return y},n.delay=function(f,m,d){setImmediate(function(){f.apply(d||null,m||[])})},n.inherits=function(f,m){function d(){}d.prototype=m.prototype,f.prototype=new d},n.extend=function(){var f,m,d={};for(f=0;f<arguments.length;f++)for(m in arguments[f])Object.prototype.hasOwnProperty.call(arguments[f],m)&&d[m]===void 0&&(d[m]=arguments[f][m]);return d},n.prepareContent=function(f,m,d,y,w){return l.Promise.resolve(m).then(function($){return i.blob&&($ instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call($))!==-1)&&typeof FileReader<"u"?new l.Promise(function(A,I){var E=new FileReader;E.onload=function(j){A(j.target.result)},E.onerror=function(j){I(j.target.error)},E.readAsArrayBuffer($)}):$}).then(function($){var A=n.getTypeOf($);return A?(A==="arraybuffer"?$=n.transformTo("uint8array",$):A==="string"&&(w?$=s.decode($):d&&y!==!0&&($=function(I){return g(I,i.uint8array?new Uint8Array(I.length):new Array(I.length))}($))),$):l.Promise.reject(new Error("Can't read the data of '"+f+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(r,o,n){var i=r("./reader/readerFor"),s=r("./utils"),a=r("./signature"),l=r("./zipEntry"),u=r("./support");function g(h){this.files=[],this.loadOptions=h}g.prototype={checkSignature:function(h){if(!this.reader.readAndCheckSignature(h)){this.reader.index-=4;var v=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+s.pretty(v)+", expected "+s.pretty(h)+")")}},isSignature:function(h,v){var c=this.reader.index;this.reader.setIndex(h);var _=this.reader.readString(4)===v;return this.reader.setIndex(c),_},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var h=this.reader.readData(this.zipCommentLength),v=u.uint8array?"uint8array":"array",c=s.transformTo(v,h);this.zipComment=this.loadOptions.decodeFileName(c)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var h,v,c,_=this.zip64EndOfCentralSize-44;0<_;)h=this.reader.readInt(2),v=this.reader.readInt(4),c=this.reader.readData(v),this.zip64ExtensibleData[h]={id:h,length:v,value:c}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var h,v;for(h=0;h<this.files.length;h++)v=this.files[h],this.reader.setIndex(v.localHeaderOffset),this.checkSignature(a.LOCAL_FILE_HEADER),v.readLocalPart(this.reader),v.handleUTF8(),v.processAttributes()},readCentralDir:function(){var h;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(a.CENTRAL_FILE_HEADER);)(h=new l({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(h);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var h=this.reader.lastIndexOfSignature(a.CENTRAL_DIRECTORY_END);if(h<0)throw this.isSignature(0,a.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(h);var v=h;if(this.checkSignature(a.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===s.MAX_VALUE_16BITS||this.diskWithCentralDirStart===s.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===s.MAX_VALUE_16BITS||this.centralDirRecords===s.MAX_VALUE_16BITS||this.centralDirSize===s.MAX_VALUE_32BITS||this.centralDirOffset===s.MAX_VALUE_32BITS){if(this.zip64=!0,(h=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(h),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,a.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var c=this.centralDirOffset+this.centralDirSize;this.zip64&&(c+=20,c+=12+this.zip64EndOfCentralSize);var _=v-c;if(0<_)this.isSignature(v,a.CENTRAL_FILE_HEADER)||(this.reader.zero=_);else if(_<0)throw new Error("Corrupted zip: missing "+Math.abs(_)+" bytes.")},prepareReader:function(h){this.reader=i(h)},load:function(h){this.prepareReader(h),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},o.exports=g},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(r,o,n){var i=r("./reader/readerFor"),s=r("./utils"),a=r("./compressedObject"),l=r("./crc32"),u=r("./utf8"),g=r("./compressions"),h=r("./support");function v(c,_){this.options=c,this.loadOptions=_}v.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(c){var _,f;if(c.skip(22),this.fileNameLength=c.readInt(2),f=c.readInt(2),this.fileName=c.readData(this.fileNameLength),c.skip(f),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((_=function(m){for(var d in g)if(Object.prototype.hasOwnProperty.call(g,d)&&g[d].magic===m)return g[d];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+s.pretty(this.compressionMethod)+" unknown (inner file : "+s.transformTo("string",this.fileName)+")");this.decompressed=new a(this.compressedSize,this.uncompressedSize,this.crc32,_,c.readData(this.compressedSize))},readCentralPart:function(c){this.versionMadeBy=c.readInt(2),c.skip(2),this.bitFlag=c.readInt(2),this.compressionMethod=c.readString(2),this.date=c.readDate(),this.crc32=c.readInt(4),this.compressedSize=c.readInt(4),this.uncompressedSize=c.readInt(4);var _=c.readInt(2);if(this.extraFieldsLength=c.readInt(2),this.fileCommentLength=c.readInt(2),this.diskNumberStart=c.readInt(2),this.internalFileAttributes=c.readInt(2),this.externalFileAttributes=c.readInt(4),this.localHeaderOffset=c.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");c.skip(_),this.readExtraFields(c),this.parseZIP64ExtraField(c),this.fileComment=c.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var c=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),c==0&&(this.dosPermissions=63&this.externalFileAttributes),c==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var c=i(this.extraFields[1].value);this.uncompressedSize===s.MAX_VALUE_32BITS&&(this.uncompressedSize=c.readInt(8)),this.compressedSize===s.MAX_VALUE_32BITS&&(this.compressedSize=c.readInt(8)),this.localHeaderOffset===s.MAX_VALUE_32BITS&&(this.localHeaderOffset=c.readInt(8)),this.diskNumberStart===s.MAX_VALUE_32BITS&&(this.diskNumberStart=c.readInt(4))}},readExtraFields:function(c){var _,f,m,d=c.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});c.index+4<d;)_=c.readInt(2),f=c.readInt(2),m=c.readData(f),this.extraFields[_]={id:_,length:f,value:m};c.setIndex(d)},handleUTF8:function(){var c=h.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=u.utf8decode(this.fileName),this.fileCommentStr=u.utf8decode(this.fileComment);else{var _=this.findExtraFieldUnicodePath();if(_!==null)this.fileNameStr=_;else{var f=s.transformTo(c,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(f)}var m=this.findExtraFieldUnicodeComment();if(m!==null)this.fileCommentStr=m;else{var d=s.transformTo(c,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(d)}}},findExtraFieldUnicodePath:function(){var c=this.extraFields[28789];if(c){var _=i(c.value);return _.readInt(1)!==1||l(this.fileName)!==_.readInt(4)?null:u.utf8decode(_.readData(c.length-5))}return null},findExtraFieldUnicodeComment:function(){var c=this.extraFields[25461];if(c){var _=i(c.value);return _.readInt(1)!==1||l(this.fileComment)!==_.readInt(4)?null:u.utf8decode(_.readData(c.length-5))}return null}},o.exports=v},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(r,o,n){function i(_,f,m){this.name=_,this.dir=m.dir,this.date=m.date,this.comment=m.comment,this.unixPermissions=m.unixPermissions,this.dosPermissions=m.dosPermissions,this._data=f,this._dataBinary=m.binary,this.options={compression:m.compression,compressionOptions:m.compressionOptions}}var s=r("./stream/StreamHelper"),a=r("./stream/DataWorker"),l=r("./utf8"),u=r("./compressedObject"),g=r("./stream/GenericWorker");i.prototype={internalStream:function(_){var f=null,m="string";try{if(!_)throw new Error("No output type specified.");var d=(m=_.toLowerCase())==="string"||m==="text";m!=="binarystring"&&m!=="text"||(m="string"),f=this._decompressWorker();var y=!this._dataBinary;y&&!d&&(f=f.pipe(new l.Utf8EncodeWorker)),!y&&d&&(f=f.pipe(new l.Utf8DecodeWorker))}catch(w){(f=new g("error")).error(w)}return new s(f,m,"")},async:function(_,f){return this.internalStream(_).accumulate(f)},nodeStream:function(_,f){return this.internalStream(_||"nodebuffer").toNodejsStream(f)},_compressWorker:function(_,f){if(this._data instanceof u&&this._data.compression.magic===_.magic)return this._data.getCompressedWorker();var m=this._decompressWorker();return this._dataBinary||(m=m.pipe(new l.Utf8EncodeWorker)),u.createWorkerFrom(m,_,f)},_decompressWorker:function(){return this._data instanceof u?this._data.getContentWorker():this._data instanceof g?this._data:new a(this._data)}};for(var h=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],v=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},c=0;c<h.length;c++)i.prototype[h[c]]=v;o.exports=i},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(r,o,n){(function(i){var s,a,l=i.MutationObserver||i.WebKitMutationObserver;if(l){var u=0,g=new l(_),h=i.document.createTextNode("");g.observe(h,{characterData:!0}),s=function(){h.data=u=++u%2}}else if(i.setImmediate||i.MessageChannel===void 0)s="document"in i&&"onreadystatechange"in i.document.createElement("script")?function(){var f=i.document.createElement("script");f.onreadystatechange=function(){_(),f.onreadystatechange=null,f.parentNode.removeChild(f),f=null},i.document.documentElement.appendChild(f)}:function(){setTimeout(_,0)};else{var v=new i.MessageChannel;v.port1.onmessage=_,s=function(){v.port2.postMessage(0)}}var c=[];function _(){var f,m;a=!0;for(var d=c.length;d;){for(m=c,c=[],f=-1;++f<d;)m[f]();d=c.length}a=!1}o.exports=function(f){c.push(f)!==1||a||s()}}).call(this,typeof Er<"u"?Er:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(r,o,n){var i=r("immediate");function s(){}var a={},l=["REJECTED"],u=["FULFILLED"],g=["PENDING"];function h(d){if(typeof d!="function")throw new TypeError("resolver must be a function");this.state=g,this.queue=[],this.outcome=void 0,d!==s&&f(this,d)}function v(d,y,w){this.promise=d,typeof y=="function"&&(this.onFulfilled=y,this.callFulfilled=this.otherCallFulfilled),typeof w=="function"&&(this.onRejected=w,this.callRejected=this.otherCallRejected)}function c(d,y,w){i(function(){var $;try{$=y(w)}catch(A){return a.reject(d,A)}$===d?a.reject(d,new TypeError("Cannot resolve promise with itself")):a.resolve(d,$)})}function _(d){var y=d&&d.then;if(d&&(typeof d=="object"||typeof d=="function")&&typeof y=="function")return function(){y.apply(d,arguments)}}function f(d,y){var w=!1;function $(E){w||(w=!0,a.reject(d,E))}function A(E){w||(w=!0,a.resolve(d,E))}var I=m(function(){y(A,$)});I.status==="error"&&$(I.value)}function m(d,y){var w={};try{w.value=d(y),w.status="success"}catch($){w.status="error",w.value=$}return w}(o.exports=h).prototype.finally=function(d){if(typeof d!="function")return this;var y=this.constructor;return this.then(function(w){return y.resolve(d()).then(function(){return w})},function(w){return y.resolve(d()).then(function(){throw w})})},h.prototype.catch=function(d){return this.then(null,d)},h.prototype.then=function(d,y){if(typeof d!="function"&&this.state===u||typeof y!="function"&&this.state===l)return this;var w=new this.constructor(s);return this.state!==g?c(w,this.state===u?d:y,this.outcome):this.queue.push(new v(w,d,y)),w},v.prototype.callFulfilled=function(d){a.resolve(this.promise,d)},v.prototype.otherCallFulfilled=function(d){c(this.promise,this.onFulfilled,d)},v.prototype.callRejected=function(d){a.reject(this.promise,d)},v.prototype.otherCallRejected=function(d){c(this.promise,this.onRejected,d)},a.resolve=function(d,y){var w=m(_,y);if(w.status==="error")return a.reject(d,w.value);var $=w.value;if($)f(d,$);else{d.state=u,d.outcome=y;for(var A=-1,I=d.queue.length;++A<I;)d.queue[A].callFulfilled(y)}return d},a.reject=function(d,y){d.state=l,d.outcome=y;for(var w=-1,$=d.queue.length;++w<$;)d.queue[w].callRejected(y);return d},h.resolve=function(d){return d instanceof this?d:a.resolve(new this(s),d)},h.reject=function(d){var y=new this(s);return a.reject(y,d)},h.all=function(d){var y=this;if(Object.prototype.toString.call(d)!=="[object Array]")return this.reject(new TypeError("must be an array"));var w=d.length,$=!1;if(!w)return this.resolve([]);for(var A=new Array(w),I=0,E=-1,j=new this(s);++E<w;)z(d[E],E);return j;function z(K,ae){y.resolve(K).then(function(T){A[ae]=T,++I!==w||$||($=!0,a.resolve(j,A))},function(T){$||($=!0,a.reject(j,T))})}},h.race=function(d){var y=this;if(Object.prototype.toString.call(d)!=="[object Array]")return this.reject(new TypeError("must be an array"));var w=d.length,$=!1;if(!w)return this.resolve([]);for(var A=-1,I=new this(s);++A<w;)E=d[A],y.resolve(E).then(function(j){$||($=!0,a.resolve(I,j))},function(j){$||($=!0,a.reject(I,j))});var E;return I}},{immediate:36}],38:[function(r,o,n){var i={};(0,r("./lib/utils/common").assign)(i,r("./lib/deflate"),r("./lib/inflate"),r("./lib/zlib/constants")),o.exports=i},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(r,o,n){var i=r("./zlib/deflate"),s=r("./utils/common"),a=r("./utils/strings"),l=r("./zlib/messages"),u=r("./zlib/zstream"),g=Object.prototype.toString,h=0,v=-1,c=0,_=8;function f(d){if(!(this instanceof f))return new f(d);this.options=s.assign({level:v,method:_,chunkSize:16384,windowBits:15,memLevel:8,strategy:c,to:""},d||{});var y=this.options;y.raw&&0<y.windowBits?y.windowBits=-y.windowBits:y.gzip&&0<y.windowBits&&y.windowBits<16&&(y.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new u,this.strm.avail_out=0;var w=i.deflateInit2(this.strm,y.level,y.method,y.windowBits,y.memLevel,y.strategy);if(w!==h)throw new Error(l[w]);if(y.header&&i.deflateSetHeader(this.strm,y.header),y.dictionary){var $;if($=typeof y.dictionary=="string"?a.string2buf(y.dictionary):g.call(y.dictionary)==="[object ArrayBuffer]"?new Uint8Array(y.dictionary):y.dictionary,(w=i.deflateSetDictionary(this.strm,$))!==h)throw new Error(l[w]);this._dict_set=!0}}function m(d,y){var w=new f(y);if(w.push(d,!0),w.err)throw w.msg||l[w.err];return w.result}f.prototype.push=function(d,y){var w,$,A=this.strm,I=this.options.chunkSize;if(this.ended)return!1;$=y===~~y?y:y===!0?4:0,typeof d=="string"?A.input=a.string2buf(d):g.call(d)==="[object ArrayBuffer]"?A.input=new Uint8Array(d):A.input=d,A.next_in=0,A.avail_in=A.input.length;do{if(A.avail_out===0&&(A.output=new s.Buf8(I),A.next_out=0,A.avail_out=I),(w=i.deflate(A,$))!==1&&w!==h)return this.onEnd(w),!(this.ended=!0);A.avail_out!==0&&(A.avail_in!==0||$!==4&&$!==2)||(this.options.to==="string"?this.onData(a.buf2binstring(s.shrinkBuf(A.output,A.next_out))):this.onData(s.shrinkBuf(A.output,A.next_out)))}while((0<A.avail_in||A.avail_out===0)&&w!==1);return $===4?(w=i.deflateEnd(this.strm),this.onEnd(w),this.ended=!0,w===h):$!==2||(this.onEnd(h),!(A.avail_out=0))},f.prototype.onData=function(d){this.chunks.push(d)},f.prototype.onEnd=function(d){d===h&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=d,this.msg=this.strm.msg},n.Deflate=f,n.deflate=m,n.deflateRaw=function(d,y){return(y=y||{}).raw=!0,m(d,y)},n.gzip=function(d,y){return(y=y||{}).gzip=!0,m(d,y)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(r,o,n){var i=r("./zlib/inflate"),s=r("./utils/common"),a=r("./utils/strings"),l=r("./zlib/constants"),u=r("./zlib/messages"),g=r("./zlib/zstream"),h=r("./zlib/gzheader"),v=Object.prototype.toString;function c(f){if(!(this instanceof c))return new c(f);this.options=s.assign({chunkSize:16384,windowBits:0,to:""},f||{});var m=this.options;m.raw&&0<=m.windowBits&&m.windowBits<16&&(m.windowBits=-m.windowBits,m.windowBits===0&&(m.windowBits=-15)),!(0<=m.windowBits&&m.windowBits<16)||f&&f.windowBits||(m.windowBits+=32),15<m.windowBits&&m.windowBits<48&&!(15&m.windowBits)&&(m.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new g,this.strm.avail_out=0;var d=i.inflateInit2(this.strm,m.windowBits);if(d!==l.Z_OK)throw new Error(u[d]);this.header=new h,i.inflateGetHeader(this.strm,this.header)}function _(f,m){var d=new c(m);if(d.push(f,!0),d.err)throw d.msg||u[d.err];return d.result}c.prototype.push=function(f,m){var d,y,w,$,A,I,E=this.strm,j=this.options.chunkSize,z=this.options.dictionary,K=!1;if(this.ended)return!1;y=m===~~m?m:m===!0?l.Z_FINISH:l.Z_NO_FLUSH,typeof f=="string"?E.input=a.binstring2buf(f):v.call(f)==="[object ArrayBuffer]"?E.input=new Uint8Array(f):E.input=f,E.next_in=0,E.avail_in=E.input.length;do{if(E.avail_out===0&&(E.output=new s.Buf8(j),E.next_out=0,E.avail_out=j),(d=i.inflate(E,l.Z_NO_FLUSH))===l.Z_NEED_DICT&&z&&(I=typeof z=="string"?a.string2buf(z):v.call(z)==="[object ArrayBuffer]"?new Uint8Array(z):z,d=i.inflateSetDictionary(this.strm,I)),d===l.Z_BUF_ERROR&&K===!0&&(d=l.Z_OK,K=!1),d!==l.Z_STREAM_END&&d!==l.Z_OK)return this.onEnd(d),!(this.ended=!0);E.next_out&&(E.avail_out!==0&&d!==l.Z_STREAM_END&&(E.avail_in!==0||y!==l.Z_FINISH&&y!==l.Z_SYNC_FLUSH)||(this.options.to==="string"?(w=a.utf8border(E.output,E.next_out),$=E.next_out-w,A=a.buf2string(E.output,w),E.next_out=$,E.avail_out=j-$,$&&s.arraySet(E.output,E.output,w,$,0),this.onData(A)):this.onData(s.shrinkBuf(E.output,E.next_out)))),E.avail_in===0&&E.avail_out===0&&(K=!0)}while((0<E.avail_in||E.avail_out===0)&&d!==l.Z_STREAM_END);return d===l.Z_STREAM_END&&(y=l.Z_FINISH),y===l.Z_FINISH?(d=i.inflateEnd(this.strm),this.onEnd(d),this.ended=!0,d===l.Z_OK):y!==l.Z_SYNC_FLUSH||(this.onEnd(l.Z_OK),!(E.avail_out=0))},c.prototype.onData=function(f){this.chunks.push(f)},c.prototype.onEnd=function(f){f===l.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=f,this.msg=this.strm.msg},n.Inflate=c,n.inflate=_,n.inflateRaw=function(f,m){return(m=m||{}).raw=!0,_(f,m)},n.ungzip=_},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(r,o,n){var i=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";n.assign=function(l){for(var u=Array.prototype.slice.call(arguments,1);u.length;){var g=u.shift();if(g){if(typeof g!="object")throw new TypeError(g+"must be non-object");for(var h in g)g.hasOwnProperty(h)&&(l[h]=g[h])}}return l},n.shrinkBuf=function(l,u){return l.length===u?l:l.subarray?l.subarray(0,u):(l.length=u,l)};var s={arraySet:function(l,u,g,h,v){if(u.subarray&&l.subarray)l.set(u.subarray(g,g+h),v);else for(var c=0;c<h;c++)l[v+c]=u[g+c]},flattenChunks:function(l){var u,g,h,v,c,_;for(u=h=0,g=l.length;u<g;u++)h+=l[u].length;for(_=new Uint8Array(h),u=v=0,g=l.length;u<g;u++)c=l[u],_.set(c,v),v+=c.length;return _}},a={arraySet:function(l,u,g,h,v){for(var c=0;c<h;c++)l[v+c]=u[g+c]},flattenChunks:function(l){return[].concat.apply([],l)}};n.setTyped=function(l){l?(n.Buf8=Uint8Array,n.Buf16=Uint16Array,n.Buf32=Int32Array,n.assign(n,s)):(n.Buf8=Array,n.Buf16=Array,n.Buf32=Array,n.assign(n,a))},n.setTyped(i)},{}],42:[function(r,o,n){var i=r("./common"),s=!0,a=!0;try{String.fromCharCode.apply(null,[0])}catch{s=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{a=!1}for(var l=new i.Buf8(256),u=0;u<256;u++)l[u]=252<=u?6:248<=u?5:240<=u?4:224<=u?3:192<=u?2:1;function g(h,v){if(v<65537&&(h.subarray&&a||!h.subarray&&s))return String.fromCharCode.apply(null,i.shrinkBuf(h,v));for(var c="",_=0;_<v;_++)c+=String.fromCharCode(h[_]);return c}l[254]=l[254]=1,n.string2buf=function(h){var v,c,_,f,m,d=h.length,y=0;for(f=0;f<d;f++)(64512&(c=h.charCodeAt(f)))==55296&&f+1<d&&(64512&(_=h.charCodeAt(f+1)))==56320&&(c=65536+(c-55296<<10)+(_-56320),f++),y+=c<128?1:c<2048?2:c<65536?3:4;for(v=new i.Buf8(y),f=m=0;m<y;f++)(64512&(c=h.charCodeAt(f)))==55296&&f+1<d&&(64512&(_=h.charCodeAt(f+1)))==56320&&(c=65536+(c-55296<<10)+(_-56320),f++),c<128?v[m++]=c:(c<2048?v[m++]=192|c>>>6:(c<65536?v[m++]=224|c>>>12:(v[m++]=240|c>>>18,v[m++]=128|c>>>12&63),v[m++]=128|c>>>6&63),v[m++]=128|63&c);return v},n.buf2binstring=function(h){return g(h,h.length)},n.binstring2buf=function(h){for(var v=new i.Buf8(h.length),c=0,_=v.length;c<_;c++)v[c]=h.charCodeAt(c);return v},n.buf2string=function(h,v){var c,_,f,m,d=v||h.length,y=new Array(2*d);for(c=_=0;c<d;)if((f=h[c++])<128)y[_++]=f;else if(4<(m=l[f]))y[_++]=65533,c+=m-1;else{for(f&=m===2?31:m===3?15:7;1<m&&c<d;)f=f<<6|63&h[c++],m--;1<m?y[_++]=65533:f<65536?y[_++]=f:(f-=65536,y[_++]=55296|f>>10&1023,y[_++]=56320|1023&f)}return g(y,_)},n.utf8border=function(h,v){var c;for((v=v||h.length)>h.length&&(v=h.length),c=v-1;0<=c&&(192&h[c])==128;)c--;return c<0||c===0?v:c+l[h[c]]>v?c:v}},{"./common":41}],43:[function(r,o,n){o.exports=function(i,s,a,l){for(var u=65535&i|0,g=i>>>16&65535|0,h=0;a!==0;){for(a-=h=2e3<a?2e3:a;g=g+(u=u+s[l++]|0)|0,--h;);u%=65521,g%=65521}return u|g<<16|0}},{}],44:[function(r,o,n){o.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(r,o,n){var i=function(){for(var s,a=[],l=0;l<256;l++){s=l;for(var u=0;u<8;u++)s=1&s?3988292384^s>>>1:s>>>1;a[l]=s}return a}();o.exports=function(s,a,l,u){var g=i,h=u+l;s^=-1;for(var v=u;v<h;v++)s=s>>>8^g[255&(s^a[v])];return-1^s}},{}],46:[function(r,o,n){var i,s=r("../utils/common"),a=r("./trees"),l=r("./adler32"),u=r("./crc32"),g=r("./messages"),h=0,v=4,c=0,_=-2,f=-1,m=4,d=2,y=8,w=9,$=286,A=30,I=19,E=2*$+1,j=15,z=3,K=258,ae=K+z+1,T=42,Z=113,b=1,X=2,_e=3,ne=4;function pe(p,x){return p.msg=g[x],x}function J(p){return(p<<1)-(4<p?9:0)}function W(p){for(var x=p.length;0<=--x;)p[x]=0}function S(p){var x=p.state,V=x.pending;V>p.avail_out&&(V=p.avail_out),V!==0&&(s.arraySet(p.output,x.pending_buf,x.pending_out,V,p.next_out),p.next_out+=V,x.pending_out+=V,p.total_out+=V,p.avail_out-=V,x.pending-=V,x.pending===0&&(x.pending_out=0))}function N(p,x){a._tr_flush_block(p,0<=p.block_start?p.block_start:-1,p.strstart-p.block_start,x),p.block_start=p.strstart,S(p.strm)}function U(p,x){p.pending_buf[p.pending++]=x}function k(p,x){p.pending_buf[p.pending++]=x>>>8&255,p.pending_buf[p.pending++]=255&x}function C(p,x){var V,R,P=p.max_chain_length,M=p.strstart,ee=p.prev_length,re=p.nice_match,H=p.strstart>p.w_size-ae?p.strstart-(p.w_size-ae):0,ie=p.window,fe=p.w_mask,le=p.prev,ve=p.strstart+K,Te=ie[M+ee-1],Ce=ie[M+ee];p.prev_length>=p.good_match&&(P>>=2),re>p.lookahead&&(re=p.lookahead);do if(ie[(V=x)+ee]===Ce&&ie[V+ee-1]===Te&&ie[V]===ie[M]&&ie[++V]===ie[M+1]){M+=2,V++;do;while(ie[++M]===ie[++V]&&ie[++M]===ie[++V]&&ie[++M]===ie[++V]&&ie[++M]===ie[++V]&&ie[++M]===ie[++V]&&ie[++M]===ie[++V]&&ie[++M]===ie[++V]&&ie[++M]===ie[++V]&&M<ve);if(R=K-(ve-M),M=ve-K,ee<R){if(p.match_start=x,re<=(ee=R))break;Te=ie[M+ee-1],Ce=ie[M+ee]}}while((x=le[x&fe])>H&&--P!=0);return ee<=p.lookahead?ee:p.lookahead}function G(p){var x,V,R,P,M,ee,re,H,ie,fe,le=p.w_size;do{if(P=p.window_size-p.lookahead-p.strstart,p.strstart>=le+(le-ae)){for(s.arraySet(p.window,p.window,le,le,0),p.match_start-=le,p.strstart-=le,p.block_start-=le,x=V=p.hash_size;R=p.head[--x],p.head[x]=le<=R?R-le:0,--V;);for(x=V=le;R=p.prev[--x],p.prev[x]=le<=R?R-le:0,--V;);P+=le}if(p.strm.avail_in===0)break;if(ee=p.strm,re=p.window,H=p.strstart+p.lookahead,ie=P,fe=void 0,fe=ee.avail_in,ie<fe&&(fe=ie),V=fe===0?0:(ee.avail_in-=fe,s.arraySet(re,ee.input,ee.next_in,fe,H),ee.state.wrap===1?ee.adler=l(ee.adler,re,fe,H):ee.state.wrap===2&&(ee.adler=u(ee.adler,re,fe,H)),ee.next_in+=fe,ee.total_in+=fe,fe),p.lookahead+=V,p.lookahead+p.insert>=z)for(M=p.strstart-p.insert,p.ins_h=p.window[M],p.ins_h=(p.ins_h<<p.hash_shift^p.window[M+1])&p.hash_mask;p.insert&&(p.ins_h=(p.ins_h<<p.hash_shift^p.window[M+z-1])&p.hash_mask,p.prev[M&p.w_mask]=p.head[p.ins_h],p.head[p.ins_h]=M,M++,p.insert--,!(p.lookahead+p.insert<z)););}while(p.lookahead<ae&&p.strm.avail_in!==0)}function oe(p,x){for(var V,R;;){if(p.lookahead<ae){if(G(p),p.lookahead<ae&&x===h)return b;if(p.lookahead===0)break}if(V=0,p.lookahead>=z&&(p.ins_h=(p.ins_h<<p.hash_shift^p.window[p.strstart+z-1])&p.hash_mask,V=p.prev[p.strstart&p.w_mask]=p.head[p.ins_h],p.head[p.ins_h]=p.strstart),V!==0&&p.strstart-V<=p.w_size-ae&&(p.match_length=C(p,V)),p.match_length>=z)if(R=a._tr_tally(p,p.strstart-p.match_start,p.match_length-z),p.lookahead-=p.match_length,p.match_length<=p.max_lazy_match&&p.lookahead>=z){for(p.match_length--;p.strstart++,p.ins_h=(p.ins_h<<p.hash_shift^p.window[p.strstart+z-1])&p.hash_mask,V=p.prev[p.strstart&p.w_mask]=p.head[p.ins_h],p.head[p.ins_h]=p.strstart,--p.match_length!=0;);p.strstart++}else p.strstart+=p.match_length,p.match_length=0,p.ins_h=p.window[p.strstart],p.ins_h=(p.ins_h<<p.hash_shift^p.window[p.strstart+1])&p.hash_mask;else R=a._tr_tally(p,0,p.window[p.strstart]),p.lookahead--,p.strstart++;if(R&&(N(p,!1),p.strm.avail_out===0))return b}return p.insert=p.strstart<z-1?p.strstart:z-1,x===v?(N(p,!0),p.strm.avail_out===0?_e:ne):p.last_lit&&(N(p,!1),p.strm.avail_out===0)?b:X}function se(p,x){for(var V,R,P;;){if(p.lookahead<ae){if(G(p),p.lookahead<ae&&x===h)return b;if(p.lookahead===0)break}if(V=0,p.lookahead>=z&&(p.ins_h=(p.ins_h<<p.hash_shift^p.window[p.strstart+z-1])&p.hash_mask,V=p.prev[p.strstart&p.w_mask]=p.head[p.ins_h],p.head[p.ins_h]=p.strstart),p.prev_length=p.match_length,p.prev_match=p.match_start,p.match_length=z-1,V!==0&&p.prev_length<p.max_lazy_match&&p.strstart-V<=p.w_size-ae&&(p.match_length=C(p,V),p.match_length<=5&&(p.strategy===1||p.match_length===z&&4096<p.strstart-p.match_start)&&(p.match_length=z-1)),p.prev_length>=z&&p.match_length<=p.prev_length){for(P=p.strstart+p.lookahead-z,R=a._tr_tally(p,p.strstart-1-p.prev_match,p.prev_length-z),p.lookahead-=p.prev_length-1,p.prev_length-=2;++p.strstart<=P&&(p.ins_h=(p.ins_h<<p.hash_shift^p.window[p.strstart+z-1])&p.hash_mask,V=p.prev[p.strstart&p.w_mask]=p.head[p.ins_h],p.head[p.ins_h]=p.strstart),--p.prev_length!=0;);if(p.match_available=0,p.match_length=z-1,p.strstart++,R&&(N(p,!1),p.strm.avail_out===0))return b}else if(p.match_available){if((R=a._tr_tally(p,0,p.window[p.strstart-1]))&&N(p,!1),p.strstart++,p.lookahead--,p.strm.avail_out===0)return b}else p.match_available=1,p.strstart++,p.lookahead--}return p.match_available&&(R=a._tr_tally(p,0,p.window[p.strstart-1]),p.match_available=0),p.insert=p.strstart<z-1?p.strstart:z-1,x===v?(N(p,!0),p.strm.avail_out===0?_e:ne):p.last_lit&&(N(p,!1),p.strm.avail_out===0)?b:X}function de(p,x,V,R,P){this.good_length=p,this.max_lazy=x,this.nice_length=V,this.max_chain=R,this.func=P}function ye(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=y,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new s.Buf16(2*E),this.dyn_dtree=new s.Buf16(2*(2*A+1)),this.bl_tree=new s.Buf16(2*(2*I+1)),W(this.dyn_ltree),W(this.dyn_dtree),W(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new s.Buf16(j+1),this.heap=new s.Buf16(2*$+1),W(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new s.Buf16(2*$+1),W(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function B(p){var x;return p&&p.state?(p.total_in=p.total_out=0,p.data_type=d,(x=p.state).pending=0,x.pending_out=0,x.wrap<0&&(x.wrap=-x.wrap),x.status=x.wrap?T:Z,p.adler=x.wrap===2?0:1,x.last_flush=h,a._tr_init(x),c):pe(p,_)}function q(p){var x=B(p);return x===c&&function(V){V.window_size=2*V.w_size,W(V.head),V.max_lazy_match=i[V.level].max_lazy,V.good_match=i[V.level].good_length,V.nice_match=i[V.level].nice_length,V.max_chain_length=i[V.level].max_chain,V.strstart=0,V.block_start=0,V.lookahead=0,V.insert=0,V.match_length=V.prev_length=z-1,V.match_available=0,V.ins_h=0}(p.state),x}function te(p,x,V,R,P,M){if(!p)return _;var ee=1;if(x===f&&(x=6),R<0?(ee=0,R=-R):15<R&&(ee=2,R-=16),P<1||w<P||V!==y||R<8||15<R||x<0||9<x||M<0||m<M)return pe(p,_);R===8&&(R=9);var re=new ye;return(p.state=re).strm=p,re.wrap=ee,re.gzhead=null,re.w_bits=R,re.w_size=1<<re.w_bits,re.w_mask=re.w_size-1,re.hash_bits=P+7,re.hash_size=1<<re.hash_bits,re.hash_mask=re.hash_size-1,re.hash_shift=~~((re.hash_bits+z-1)/z),re.window=new s.Buf8(2*re.w_size),re.head=new s.Buf16(re.hash_size),re.prev=new s.Buf16(re.w_size),re.lit_bufsize=1<<P+6,re.pending_buf_size=4*re.lit_bufsize,re.pending_buf=new s.Buf8(re.pending_buf_size),re.d_buf=1*re.lit_bufsize,re.l_buf=3*re.lit_bufsize,re.level=x,re.strategy=M,re.method=V,q(p)}i=[new de(0,0,0,0,function(p,x){var V=65535;for(V>p.pending_buf_size-5&&(V=p.pending_buf_size-5);;){if(p.lookahead<=1){if(G(p),p.lookahead===0&&x===h)return b;if(p.lookahead===0)break}p.strstart+=p.lookahead,p.lookahead=0;var R=p.block_start+V;if((p.strstart===0||p.strstart>=R)&&(p.lookahead=p.strstart-R,p.strstart=R,N(p,!1),p.strm.avail_out===0)||p.strstart-p.block_start>=p.w_size-ae&&(N(p,!1),p.strm.avail_out===0))return b}return p.insert=0,x===v?(N(p,!0),p.strm.avail_out===0?_e:ne):(p.strstart>p.block_start&&(N(p,!1),p.strm.avail_out),b)}),new de(4,4,8,4,oe),new de(4,5,16,8,oe),new de(4,6,32,32,oe),new de(4,4,16,16,se),new de(8,16,32,32,se),new de(8,16,128,128,se),new de(8,32,128,256,se),new de(32,128,258,1024,se),new de(32,258,258,4096,se)],n.deflateInit=function(p,x){return te(p,x,y,15,8,0)},n.deflateInit2=te,n.deflateReset=q,n.deflateResetKeep=B,n.deflateSetHeader=function(p,x){return p&&p.state?p.state.wrap!==2?_:(p.state.gzhead=x,c):_},n.deflate=function(p,x){var V,R,P,M;if(!p||!p.state||5<x||x<0)return p?pe(p,_):_;if(R=p.state,!p.output||!p.input&&p.avail_in!==0||R.status===666&&x!==v)return pe(p,p.avail_out===0?-5:_);if(R.strm=p,V=R.last_flush,R.last_flush=x,R.status===T)if(R.wrap===2)p.adler=0,U(R,31),U(R,139),U(R,8),R.gzhead?(U(R,(R.gzhead.text?1:0)+(R.gzhead.hcrc?2:0)+(R.gzhead.extra?4:0)+(R.gzhead.name?8:0)+(R.gzhead.comment?16:0)),U(R,255&R.gzhead.time),U(R,R.gzhead.time>>8&255),U(R,R.gzhead.time>>16&255),U(R,R.gzhead.time>>24&255),U(R,R.level===9?2:2<=R.strategy||R.level<2?4:0),U(R,255&R.gzhead.os),R.gzhead.extra&&R.gzhead.extra.length&&(U(R,255&R.gzhead.extra.length),U(R,R.gzhead.extra.length>>8&255)),R.gzhead.hcrc&&(p.adler=u(p.adler,R.pending_buf,R.pending,0)),R.gzindex=0,R.status=69):(U(R,0),U(R,0),U(R,0),U(R,0),U(R,0),U(R,R.level===9?2:2<=R.strategy||R.level<2?4:0),U(R,3),R.status=Z);else{var ee=y+(R.w_bits-8<<4)<<8;ee|=(2<=R.strategy||R.level<2?0:R.level<6?1:R.level===6?2:3)<<6,R.strstart!==0&&(ee|=32),ee+=31-ee%31,R.status=Z,k(R,ee),R.strstart!==0&&(k(R,p.adler>>>16),k(R,65535&p.adler)),p.adler=1}if(R.status===69)if(R.gzhead.extra){for(P=R.pending;R.gzindex<(65535&R.gzhead.extra.length)&&(R.pending!==R.pending_buf_size||(R.gzhead.hcrc&&R.pending>P&&(p.adler=u(p.adler,R.pending_buf,R.pending-P,P)),S(p),P=R.pending,R.pending!==R.pending_buf_size));)U(R,255&R.gzhead.extra[R.gzindex]),R.gzindex++;R.gzhead.hcrc&&R.pending>P&&(p.adler=u(p.adler,R.pending_buf,R.pending-P,P)),R.gzindex===R.gzhead.extra.length&&(R.gzindex=0,R.status=73)}else R.status=73;if(R.status===73)if(R.gzhead.name){P=R.pending;do{if(R.pending===R.pending_buf_size&&(R.gzhead.hcrc&&R.pending>P&&(p.adler=u(p.adler,R.pending_buf,R.pending-P,P)),S(p),P=R.pending,R.pending===R.pending_buf_size)){M=1;break}M=R.gzindex<R.gzhead.name.length?255&R.gzhead.name.charCodeAt(R.gzindex++):0,U(R,M)}while(M!==0);R.gzhead.hcrc&&R.pending>P&&(p.adler=u(p.adler,R.pending_buf,R.pending-P,P)),M===0&&(R.gzindex=0,R.status=91)}else R.status=91;if(R.status===91)if(R.gzhead.comment){P=R.pending;do{if(R.pending===R.pending_buf_size&&(R.gzhead.hcrc&&R.pending>P&&(p.adler=u(p.adler,R.pending_buf,R.pending-P,P)),S(p),P=R.pending,R.pending===R.pending_buf_size)){M=1;break}M=R.gzindex<R.gzhead.comment.length?255&R.gzhead.comment.charCodeAt(R.gzindex++):0,U(R,M)}while(M!==0);R.gzhead.hcrc&&R.pending>P&&(p.adler=u(p.adler,R.pending_buf,R.pending-P,P)),M===0&&(R.status=103)}else R.status=103;if(R.status===103&&(R.gzhead.hcrc?(R.pending+2>R.pending_buf_size&&S(p),R.pending+2<=R.pending_buf_size&&(U(R,255&p.adler),U(R,p.adler>>8&255),p.adler=0,R.status=Z)):R.status=Z),R.pending!==0){if(S(p),p.avail_out===0)return R.last_flush=-1,c}else if(p.avail_in===0&&J(x)<=J(V)&&x!==v)return pe(p,-5);if(R.status===666&&p.avail_in!==0)return pe(p,-5);if(p.avail_in!==0||R.lookahead!==0||x!==h&&R.status!==666){var re=R.strategy===2?function(H,ie){for(var fe;;){if(H.lookahead===0&&(G(H),H.lookahead===0)){if(ie===h)return b;break}if(H.match_length=0,fe=a._tr_tally(H,0,H.window[H.strstart]),H.lookahead--,H.strstart++,fe&&(N(H,!1),H.strm.avail_out===0))return b}return H.insert=0,ie===v?(N(H,!0),H.strm.avail_out===0?_e:ne):H.last_lit&&(N(H,!1),H.strm.avail_out===0)?b:X}(R,x):R.strategy===3?function(H,ie){for(var fe,le,ve,Te,Ce=H.window;;){if(H.lookahead<=K){if(G(H),H.lookahead<=K&&ie===h)return b;if(H.lookahead===0)break}if(H.match_length=0,H.lookahead>=z&&0<H.strstart&&(le=Ce[ve=H.strstart-1])===Ce[++ve]&&le===Ce[++ve]&&le===Ce[++ve]){Te=H.strstart+K;do;while(le===Ce[++ve]&&le===Ce[++ve]&&le===Ce[++ve]&&le===Ce[++ve]&&le===Ce[++ve]&&le===Ce[++ve]&&le===Ce[++ve]&&le===Ce[++ve]&&ve<Te);H.match_length=K-(Te-ve),H.match_length>H.lookahead&&(H.match_length=H.lookahead)}if(H.match_length>=z?(fe=a._tr_tally(H,1,H.match_length-z),H.lookahead-=H.match_length,H.strstart+=H.match_length,H.match_length=0):(fe=a._tr_tally(H,0,H.window[H.strstart]),H.lookahead--,H.strstart++),fe&&(N(H,!1),H.strm.avail_out===0))return b}return H.insert=0,ie===v?(N(H,!0),H.strm.avail_out===0?_e:ne):H.last_lit&&(N(H,!1),H.strm.avail_out===0)?b:X}(R,x):i[R.level].func(R,x);if(re!==_e&&re!==ne||(R.status=666),re===b||re===_e)return p.avail_out===0&&(R.last_flush=-1),c;if(re===X&&(x===1?a._tr_align(R):x!==5&&(a._tr_stored_block(R,0,0,!1),x===3&&(W(R.head),R.lookahead===0&&(R.strstart=0,R.block_start=0,R.insert=0))),S(p),p.avail_out===0))return R.last_flush=-1,c}return x!==v?c:R.wrap<=0?1:(R.wrap===2?(U(R,255&p.adler),U(R,p.adler>>8&255),U(R,p.adler>>16&255),U(R,p.adler>>24&255),U(R,255&p.total_in),U(R,p.total_in>>8&255),U(R,p.total_in>>16&255),U(R,p.total_in>>24&255)):(k(R,p.adler>>>16),k(R,65535&p.adler)),S(p),0<R.wrap&&(R.wrap=-R.wrap),R.pending!==0?c:1)},n.deflateEnd=function(p){var x;return p&&p.state?(x=p.state.status)!==T&&x!==69&&x!==73&&x!==91&&x!==103&&x!==Z&&x!==666?pe(p,_):(p.state=null,x===Z?pe(p,-3):c):_},n.deflateSetDictionary=function(p,x){var V,R,P,M,ee,re,H,ie,fe=x.length;if(!p||!p.state||(M=(V=p.state).wrap)===2||M===1&&V.status!==T||V.lookahead)return _;for(M===1&&(p.adler=l(p.adler,x,fe,0)),V.wrap=0,fe>=V.w_size&&(M===0&&(W(V.head),V.strstart=0,V.block_start=0,V.insert=0),ie=new s.Buf8(V.w_size),s.arraySet(ie,x,fe-V.w_size,V.w_size,0),x=ie,fe=V.w_size),ee=p.avail_in,re=p.next_in,H=p.input,p.avail_in=fe,p.next_in=0,p.input=x,G(V);V.lookahead>=z;){for(R=V.strstart,P=V.lookahead-(z-1);V.ins_h=(V.ins_h<<V.hash_shift^V.window[R+z-1])&V.hash_mask,V.prev[R&V.w_mask]=V.head[V.ins_h],V.head[V.ins_h]=R,R++,--P;);V.strstart=R,V.lookahead=z-1,G(V)}return V.strstart+=V.lookahead,V.block_start=V.strstart,V.insert=V.lookahead,V.lookahead=0,V.match_length=V.prev_length=z-1,V.match_available=0,p.next_in=re,p.input=H,p.avail_in=ee,V.wrap=M,c},n.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(r,o,n){o.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(r,o,n){o.exports=function(i,s){var a,l,u,g,h,v,c,_,f,m,d,y,w,$,A,I,E,j,z,K,ae,T,Z,b,X;a=i.state,l=i.next_in,b=i.input,u=l+(i.avail_in-5),g=i.next_out,X=i.output,h=g-(s-i.avail_out),v=g+(i.avail_out-257),c=a.dmax,_=a.wsize,f=a.whave,m=a.wnext,d=a.window,y=a.hold,w=a.bits,$=a.lencode,A=a.distcode,I=(1<<a.lenbits)-1,E=(1<<a.distbits)-1;e:do{w<15&&(y+=b[l++]<<w,w+=8,y+=b[l++]<<w,w+=8),j=$[y&I];t:for(;;){if(y>>>=z=j>>>24,w-=z,(z=j>>>16&255)===0)X[g++]=65535&j;else{if(!(16&z)){if(!(64&z)){j=$[(65535&j)+(y&(1<<z)-1)];continue t}if(32&z){a.mode=12;break e}i.msg="invalid literal/length code",a.mode=30;break e}K=65535&j,(z&=15)&&(w<z&&(y+=b[l++]<<w,w+=8),K+=y&(1<<z)-1,y>>>=z,w-=z),w<15&&(y+=b[l++]<<w,w+=8,y+=b[l++]<<w,w+=8),j=A[y&E];r:for(;;){if(y>>>=z=j>>>24,w-=z,!(16&(z=j>>>16&255))){if(!(64&z)){j=A[(65535&j)+(y&(1<<z)-1)];continue r}i.msg="invalid distance code",a.mode=30;break e}if(ae=65535&j,w<(z&=15)&&(y+=b[l++]<<w,(w+=8)<z&&(y+=b[l++]<<w,w+=8)),c<(ae+=y&(1<<z)-1)){i.msg="invalid distance too far back",a.mode=30;break e}if(y>>>=z,w-=z,(z=g-h)<ae){if(f<(z=ae-z)&&a.sane){i.msg="invalid distance too far back",a.mode=30;break e}if(Z=d,(T=0)===m){if(T+=_-z,z<K){for(K-=z;X[g++]=d[T++],--z;);T=g-ae,Z=X}}else if(m<z){if(T+=_+m-z,(z-=m)<K){for(K-=z;X[g++]=d[T++],--z;);if(T=0,m<K){for(K-=z=m;X[g++]=d[T++],--z;);T=g-ae,Z=X}}}else if(T+=m-z,z<K){for(K-=z;X[g++]=d[T++],--z;);T=g-ae,Z=X}for(;2<K;)X[g++]=Z[T++],X[g++]=Z[T++],X[g++]=Z[T++],K-=3;K&&(X[g++]=Z[T++],1<K&&(X[g++]=Z[T++]))}else{for(T=g-ae;X[g++]=X[T++],X[g++]=X[T++],X[g++]=X[T++],2<(K-=3););K&&(X[g++]=X[T++],1<K&&(X[g++]=X[T++]))}break}}break}}while(l<u&&g<v);l-=K=w>>3,y&=(1<<(w-=K<<3))-1,i.next_in=l,i.next_out=g,i.avail_in=l<u?u-l+5:5-(l-u),i.avail_out=g<v?v-g+257:257-(g-v),a.hold=y,a.bits=w}},{}],49:[function(r,o,n){var i=r("../utils/common"),s=r("./adler32"),a=r("./crc32"),l=r("./inffast"),u=r("./inftrees"),g=1,h=2,v=0,c=-2,_=1,f=852,m=592;function d(T){return(T>>>24&255)+(T>>>8&65280)+((65280&T)<<8)+((255&T)<<24)}function y(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new i.Buf16(320),this.work=new i.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function w(T){var Z;return T&&T.state?(Z=T.state,T.total_in=T.total_out=Z.total=0,T.msg="",Z.wrap&&(T.adler=1&Z.wrap),Z.mode=_,Z.last=0,Z.havedict=0,Z.dmax=32768,Z.head=null,Z.hold=0,Z.bits=0,Z.lencode=Z.lendyn=new i.Buf32(f),Z.distcode=Z.distdyn=new i.Buf32(m),Z.sane=1,Z.back=-1,v):c}function $(T){var Z;return T&&T.state?((Z=T.state).wsize=0,Z.whave=0,Z.wnext=0,w(T)):c}function A(T,Z){var b,X;return T&&T.state?(X=T.state,Z<0?(b=0,Z=-Z):(b=1+(Z>>4),Z<48&&(Z&=15)),Z&&(Z<8||15<Z)?c:(X.window!==null&&X.wbits!==Z&&(X.window=null),X.wrap=b,X.wbits=Z,$(T))):c}function I(T,Z){var b,X;return T?(X=new y,(T.state=X).window=null,(b=A(T,Z))!==v&&(T.state=null),b):c}var E,j,z=!0;function K(T){if(z){var Z;for(E=new i.Buf32(512),j=new i.Buf32(32),Z=0;Z<144;)T.lens[Z++]=8;for(;Z<256;)T.lens[Z++]=9;for(;Z<280;)T.lens[Z++]=7;for(;Z<288;)T.lens[Z++]=8;for(u(g,T.lens,0,288,E,0,T.work,{bits:9}),Z=0;Z<32;)T.lens[Z++]=5;u(h,T.lens,0,32,j,0,T.work,{bits:5}),z=!1}T.lencode=E,T.lenbits=9,T.distcode=j,T.distbits=5}function ae(T,Z,b,X){var _e,ne=T.state;return ne.window===null&&(ne.wsize=1<<ne.wbits,ne.wnext=0,ne.whave=0,ne.window=new i.Buf8(ne.wsize)),X>=ne.wsize?(i.arraySet(ne.window,Z,b-ne.wsize,ne.wsize,0),ne.wnext=0,ne.whave=ne.wsize):(X<(_e=ne.wsize-ne.wnext)&&(_e=X),i.arraySet(ne.window,Z,b-X,_e,ne.wnext),(X-=_e)?(i.arraySet(ne.window,Z,b-X,X,0),ne.wnext=X,ne.whave=ne.wsize):(ne.wnext+=_e,ne.wnext===ne.wsize&&(ne.wnext=0),ne.whave<ne.wsize&&(ne.whave+=_e))),0}n.inflateReset=$,n.inflateReset2=A,n.inflateResetKeep=w,n.inflateInit=function(T){return I(T,15)},n.inflateInit2=I,n.inflate=function(T,Z){var b,X,_e,ne,pe,J,W,S,N,U,k,C,G,oe,se,de,ye,B,q,te,p,x,V,R,P=0,M=new i.Buf8(4),ee=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!T||!T.state||!T.output||!T.input&&T.avail_in!==0)return c;(b=T.state).mode===12&&(b.mode=13),pe=T.next_out,_e=T.output,W=T.avail_out,ne=T.next_in,X=T.input,J=T.avail_in,S=b.hold,N=b.bits,U=J,k=W,x=v;e:for(;;)switch(b.mode){case _:if(b.wrap===0){b.mode=13;break}for(;N<16;){if(J===0)break e;J--,S+=X[ne++]<<N,N+=8}if(2&b.wrap&&S===35615){M[b.check=0]=255&S,M[1]=S>>>8&255,b.check=a(b.check,M,2,0),N=S=0,b.mode=2;break}if(b.flags=0,b.head&&(b.head.done=!1),!(1&b.wrap)||(((255&S)<<8)+(S>>8))%31){T.msg="incorrect header check",b.mode=30;break}if((15&S)!=8){T.msg="unknown compression method",b.mode=30;break}if(N-=4,p=8+(15&(S>>>=4)),b.wbits===0)b.wbits=p;else if(p>b.wbits){T.msg="invalid window size",b.mode=30;break}b.dmax=1<<p,T.adler=b.check=1,b.mode=512&S?10:12,N=S=0;break;case 2:for(;N<16;){if(J===0)break e;J--,S+=X[ne++]<<N,N+=8}if(b.flags=S,(255&b.flags)!=8){T.msg="unknown compression method",b.mode=30;break}if(57344&b.flags){T.msg="unknown header flags set",b.mode=30;break}b.head&&(b.head.text=S>>8&1),512&b.flags&&(M[0]=255&S,M[1]=S>>>8&255,b.check=a(b.check,M,2,0)),N=S=0,b.mode=3;case 3:for(;N<32;){if(J===0)break e;J--,S+=X[ne++]<<N,N+=8}b.head&&(b.head.time=S),512&b.flags&&(M[0]=255&S,M[1]=S>>>8&255,M[2]=S>>>16&255,M[3]=S>>>24&255,b.check=a(b.check,M,4,0)),N=S=0,b.mode=4;case 4:for(;N<16;){if(J===0)break e;J--,S+=X[ne++]<<N,N+=8}b.head&&(b.head.xflags=255&S,b.head.os=S>>8),512&b.flags&&(M[0]=255&S,M[1]=S>>>8&255,b.check=a(b.check,M,2,0)),N=S=0,b.mode=5;case 5:if(1024&b.flags){for(;N<16;){if(J===0)break e;J--,S+=X[ne++]<<N,N+=8}b.length=S,b.head&&(b.head.extra_len=S),512&b.flags&&(M[0]=255&S,M[1]=S>>>8&255,b.check=a(b.check,M,2,0)),N=S=0}else b.head&&(b.head.extra=null);b.mode=6;case 6:if(1024&b.flags&&(J<(C=b.length)&&(C=J),C&&(b.head&&(p=b.head.extra_len-b.length,b.head.extra||(b.head.extra=new Array(b.head.extra_len)),i.arraySet(b.head.extra,X,ne,C,p)),512&b.flags&&(b.check=a(b.check,X,C,ne)),J-=C,ne+=C,b.length-=C),b.length))break e;b.length=0,b.mode=7;case 7:if(2048&b.flags){if(J===0)break e;for(C=0;p=X[ne+C++],b.head&&p&&b.length<65536&&(b.head.name+=String.fromCharCode(p)),p&&C<J;);if(512&b.flags&&(b.check=a(b.check,X,C,ne)),J-=C,ne+=C,p)break e}else b.head&&(b.head.name=null);b.length=0,b.mode=8;case 8:if(4096&b.flags){if(J===0)break e;for(C=0;p=X[ne+C++],b.head&&p&&b.length<65536&&(b.head.comment+=String.fromCharCode(p)),p&&C<J;);if(512&b.flags&&(b.check=a(b.check,X,C,ne)),J-=C,ne+=C,p)break e}else b.head&&(b.head.comment=null);b.mode=9;case 9:if(512&b.flags){for(;N<16;){if(J===0)break e;J--,S+=X[ne++]<<N,N+=8}if(S!==(65535&b.check)){T.msg="header crc mismatch",b.mode=30;break}N=S=0}b.head&&(b.head.hcrc=b.flags>>9&1,b.head.done=!0),T.adler=b.check=0,b.mode=12;break;case 10:for(;N<32;){if(J===0)break e;J--,S+=X[ne++]<<N,N+=8}T.adler=b.check=d(S),N=S=0,b.mode=11;case 11:if(b.havedict===0)return T.next_out=pe,T.avail_out=W,T.next_in=ne,T.avail_in=J,b.hold=S,b.bits=N,2;T.adler=b.check=1,b.mode=12;case 12:if(Z===5||Z===6)break e;case 13:if(b.last){S>>>=7&N,N-=7&N,b.mode=27;break}for(;N<3;){if(J===0)break e;J--,S+=X[ne++]<<N,N+=8}switch(b.last=1&S,N-=1,3&(S>>>=1)){case 0:b.mode=14;break;case 1:if(K(b),b.mode=20,Z!==6)break;S>>>=2,N-=2;break e;case 2:b.mode=17;break;case 3:T.msg="invalid block type",b.mode=30}S>>>=2,N-=2;break;case 14:for(S>>>=7&N,N-=7&N;N<32;){if(J===0)break e;J--,S+=X[ne++]<<N,N+=8}if((65535&S)!=(S>>>16^65535)){T.msg="invalid stored block lengths",b.mode=30;break}if(b.length=65535&S,N=S=0,b.mode=15,Z===6)break e;case 15:b.mode=16;case 16:if(C=b.length){if(J<C&&(C=J),W<C&&(C=W),C===0)break e;i.arraySet(_e,X,ne,C,pe),J-=C,ne+=C,W-=C,pe+=C,b.length-=C;break}b.mode=12;break;case 17:for(;N<14;){if(J===0)break e;J--,S+=X[ne++]<<N,N+=8}if(b.nlen=257+(31&S),S>>>=5,N-=5,b.ndist=1+(31&S),S>>>=5,N-=5,b.ncode=4+(15&S),S>>>=4,N-=4,286<b.nlen||30<b.ndist){T.msg="too many length or distance symbols",b.mode=30;break}b.have=0,b.mode=18;case 18:for(;b.have<b.ncode;){for(;N<3;){if(J===0)break e;J--,S+=X[ne++]<<N,N+=8}b.lens[ee[b.have++]]=7&S,S>>>=3,N-=3}for(;b.have<19;)b.lens[ee[b.have++]]=0;if(b.lencode=b.lendyn,b.lenbits=7,V={bits:b.lenbits},x=u(0,b.lens,0,19,b.lencode,0,b.work,V),b.lenbits=V.bits,x){T.msg="invalid code lengths set",b.mode=30;break}b.have=0,b.mode=19;case 19:for(;b.have<b.nlen+b.ndist;){for(;de=(P=b.lencode[S&(1<<b.lenbits)-1])>>>16&255,ye=65535&P,!((se=P>>>24)<=N);){if(J===0)break e;J--,S+=X[ne++]<<N,N+=8}if(ye<16)S>>>=se,N-=se,b.lens[b.have++]=ye;else{if(ye===16){for(R=se+2;N<R;){if(J===0)break e;J--,S+=X[ne++]<<N,N+=8}if(S>>>=se,N-=se,b.have===0){T.msg="invalid bit length repeat",b.mode=30;break}p=b.lens[b.have-1],C=3+(3&S),S>>>=2,N-=2}else if(ye===17){for(R=se+3;N<R;){if(J===0)break e;J--,S+=X[ne++]<<N,N+=8}N-=se,p=0,C=3+(7&(S>>>=se)),S>>>=3,N-=3}else{for(R=se+7;N<R;){if(J===0)break e;J--,S+=X[ne++]<<N,N+=8}N-=se,p=0,C=11+(127&(S>>>=se)),S>>>=7,N-=7}if(b.have+C>b.nlen+b.ndist){T.msg="invalid bit length repeat",b.mode=30;break}for(;C--;)b.lens[b.have++]=p}}if(b.mode===30)break;if(b.lens[256]===0){T.msg="invalid code -- missing end-of-block",b.mode=30;break}if(b.lenbits=9,V={bits:b.lenbits},x=u(g,b.lens,0,b.nlen,b.lencode,0,b.work,V),b.lenbits=V.bits,x){T.msg="invalid literal/lengths set",b.mode=30;break}if(b.distbits=6,b.distcode=b.distdyn,V={bits:b.distbits},x=u(h,b.lens,b.nlen,b.ndist,b.distcode,0,b.work,V),b.distbits=V.bits,x){T.msg="invalid distances set",b.mode=30;break}if(b.mode=20,Z===6)break e;case 20:b.mode=21;case 21:if(6<=J&&258<=W){T.next_out=pe,T.avail_out=W,T.next_in=ne,T.avail_in=J,b.hold=S,b.bits=N,l(T,k),pe=T.next_out,_e=T.output,W=T.avail_out,ne=T.next_in,X=T.input,J=T.avail_in,S=b.hold,N=b.bits,b.mode===12&&(b.back=-1);break}for(b.back=0;de=(P=b.lencode[S&(1<<b.lenbits)-1])>>>16&255,ye=65535&P,!((se=P>>>24)<=N);){if(J===0)break e;J--,S+=X[ne++]<<N,N+=8}if(de&&!(240&de)){for(B=se,q=de,te=ye;de=(P=b.lencode[te+((S&(1<<B+q)-1)>>B)])>>>16&255,ye=65535&P,!(B+(se=P>>>24)<=N);){if(J===0)break e;J--,S+=X[ne++]<<N,N+=8}S>>>=B,N-=B,b.back+=B}if(S>>>=se,N-=se,b.back+=se,b.length=ye,de===0){b.mode=26;break}if(32&de){b.back=-1,b.mode=12;break}if(64&de){T.msg="invalid literal/length code",b.mode=30;break}b.extra=15&de,b.mode=22;case 22:if(b.extra){for(R=b.extra;N<R;){if(J===0)break e;J--,S+=X[ne++]<<N,N+=8}b.length+=S&(1<<b.extra)-1,S>>>=b.extra,N-=b.extra,b.back+=b.extra}b.was=b.length,b.mode=23;case 23:for(;de=(P=b.distcode[S&(1<<b.distbits)-1])>>>16&255,ye=65535&P,!((se=P>>>24)<=N);){if(J===0)break e;J--,S+=X[ne++]<<N,N+=8}if(!(240&de)){for(B=se,q=de,te=ye;de=(P=b.distcode[te+((S&(1<<B+q)-1)>>B)])>>>16&255,ye=65535&P,!(B+(se=P>>>24)<=N);){if(J===0)break e;J--,S+=X[ne++]<<N,N+=8}S>>>=B,N-=B,b.back+=B}if(S>>>=se,N-=se,b.back+=se,64&de){T.msg="invalid distance code",b.mode=30;break}b.offset=ye,b.extra=15&de,b.mode=24;case 24:if(b.extra){for(R=b.extra;N<R;){if(J===0)break e;J--,S+=X[ne++]<<N,N+=8}b.offset+=S&(1<<b.extra)-1,S>>>=b.extra,N-=b.extra,b.back+=b.extra}if(b.offset>b.dmax){T.msg="invalid distance too far back",b.mode=30;break}b.mode=25;case 25:if(W===0)break e;if(C=k-W,b.offset>C){if((C=b.offset-C)>b.whave&&b.sane){T.msg="invalid distance too far back",b.mode=30;break}G=C>b.wnext?(C-=b.wnext,b.wsize-C):b.wnext-C,C>b.length&&(C=b.length),oe=b.window}else oe=_e,G=pe-b.offset,C=b.length;for(W<C&&(C=W),W-=C,b.length-=C;_e[pe++]=oe[G++],--C;);b.length===0&&(b.mode=21);break;case 26:if(W===0)break e;_e[pe++]=b.length,W--,b.mode=21;break;case 27:if(b.wrap){for(;N<32;){if(J===0)break e;J--,S|=X[ne++]<<N,N+=8}if(k-=W,T.total_out+=k,b.total+=k,k&&(T.adler=b.check=b.flags?a(b.check,_e,k,pe-k):s(b.check,_e,k,pe-k)),k=W,(b.flags?S:d(S))!==b.check){T.msg="incorrect data check",b.mode=30;break}N=S=0}b.mode=28;case 28:if(b.wrap&&b.flags){for(;N<32;){if(J===0)break e;J--,S+=X[ne++]<<N,N+=8}if(S!==(4294967295&b.total)){T.msg="incorrect length check",b.mode=30;break}N=S=0}b.mode=29;case 29:x=1;break e;case 30:x=-3;break e;case 31:return-4;case 32:default:return c}return T.next_out=pe,T.avail_out=W,T.next_in=ne,T.avail_in=J,b.hold=S,b.bits=N,(b.wsize||k!==T.avail_out&&b.mode<30&&(b.mode<27||Z!==4))&&ae(T,T.output,T.next_out,k-T.avail_out)?(b.mode=31,-4):(U-=T.avail_in,k-=T.avail_out,T.total_in+=U,T.total_out+=k,b.total+=k,b.wrap&&k&&(T.adler=b.check=b.flags?a(b.check,_e,k,T.next_out-k):s(b.check,_e,k,T.next_out-k)),T.data_type=b.bits+(b.last?64:0)+(b.mode===12?128:0)+(b.mode===20||b.mode===15?256:0),(U==0&&k===0||Z===4)&&x===v&&(x=-5),x)},n.inflateEnd=function(T){if(!T||!T.state)return c;var Z=T.state;return Z.window&&(Z.window=null),T.state=null,v},n.inflateGetHeader=function(T,Z){var b;return T&&T.state&&2&(b=T.state).wrap?((b.head=Z).done=!1,v):c},n.inflateSetDictionary=function(T,Z){var b,X=Z.length;return T&&T.state?(b=T.state).wrap!==0&&b.mode!==11?c:b.mode===11&&s(1,Z,X,0)!==b.check?-3:ae(T,Z,X,X)?(b.mode=31,-4):(b.havedict=1,v):c},n.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(r,o,n){var i=r("../utils/common"),s=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],a=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],l=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],u=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];o.exports=function(g,h,v,c,_,f,m,d){var y,w,$,A,I,E,j,z,K,ae=d.bits,T=0,Z=0,b=0,X=0,_e=0,ne=0,pe=0,J=0,W=0,S=0,N=null,U=0,k=new i.Buf16(16),C=new i.Buf16(16),G=null,oe=0;for(T=0;T<=15;T++)k[T]=0;for(Z=0;Z<c;Z++)k[h[v+Z]]++;for(_e=ae,X=15;1<=X&&k[X]===0;X--);if(X<_e&&(_e=X),X===0)return _[f++]=20971520,_[f++]=20971520,d.bits=1,0;for(b=1;b<X&&k[b]===0;b++);for(_e<b&&(_e=b),T=J=1;T<=15;T++)if(J<<=1,(J-=k[T])<0)return-1;if(0<J&&(g===0||X!==1))return-1;for(C[1]=0,T=1;T<15;T++)C[T+1]=C[T]+k[T];for(Z=0;Z<c;Z++)h[v+Z]!==0&&(m[C[h[v+Z]]++]=Z);if(E=g===0?(N=G=m,19):g===1?(N=s,U-=257,G=a,oe-=257,256):(N=l,G=u,-1),T=b,I=f,pe=Z=S=0,$=-1,A=(W=1<<(ne=_e))-1,g===1&&852<W||g===2&&592<W)return 1;for(;;){for(j=T-pe,K=m[Z]<E?(z=0,m[Z]):m[Z]>E?(z=G[oe+m[Z]],N[U+m[Z]]):(z=96,0),y=1<<T-pe,b=w=1<<ne;_[I+(S>>pe)+(w-=y)]=j<<24|z<<16|K|0,w!==0;);for(y=1<<T-1;S&y;)y>>=1;if(y!==0?(S&=y-1,S+=y):S=0,Z++,--k[T]==0){if(T===X)break;T=h[v+m[Z]]}if(_e<T&&(S&A)!==$){for(pe===0&&(pe=_e),I+=b,J=1<<(ne=T-pe);ne+pe<X&&!((J-=k[ne+pe])<=0);)ne++,J<<=1;if(W+=1<<ne,g===1&&852<W||g===2&&592<W)return 1;_[$=S&A]=_e<<24|ne<<16|I-f|0}}return S!==0&&(_[I+S]=T-pe<<24|64<<16|0),d.bits=_e,0}},{"../utils/common":41}],51:[function(r,o,n){o.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(r,o,n){var i=r("../utils/common"),s=0,a=1;function l(P){for(var M=P.length;0<=--M;)P[M]=0}var u=0,g=29,h=256,v=h+1+g,c=30,_=19,f=2*v+1,m=15,d=16,y=7,w=256,$=16,A=17,I=18,E=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],j=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],z=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],K=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],ae=new Array(2*(v+2));l(ae);var T=new Array(2*c);l(T);var Z=new Array(512);l(Z);var b=new Array(256);l(b);var X=new Array(g);l(X);var _e,ne,pe,J=new Array(c);function W(P,M,ee,re,H){this.static_tree=P,this.extra_bits=M,this.extra_base=ee,this.elems=re,this.max_length=H,this.has_stree=P&&P.length}function S(P,M){this.dyn_tree=P,this.max_code=0,this.stat_desc=M}function N(P){return P<256?Z[P]:Z[256+(P>>>7)]}function U(P,M){P.pending_buf[P.pending++]=255&M,P.pending_buf[P.pending++]=M>>>8&255}function k(P,M,ee){P.bi_valid>d-ee?(P.bi_buf|=M<<P.bi_valid&65535,U(P,P.bi_buf),P.bi_buf=M>>d-P.bi_valid,P.bi_valid+=ee-d):(P.bi_buf|=M<<P.bi_valid&65535,P.bi_valid+=ee)}function C(P,M,ee){k(P,ee[2*M],ee[2*M+1])}function G(P,M){for(var ee=0;ee|=1&P,P>>>=1,ee<<=1,0<--M;);return ee>>>1}function oe(P,M,ee){var re,H,ie=new Array(m+1),fe=0;for(re=1;re<=m;re++)ie[re]=fe=fe+ee[re-1]<<1;for(H=0;H<=M;H++){var le=P[2*H+1];le!==0&&(P[2*H]=G(ie[le]++,le))}}function se(P){var M;for(M=0;M<v;M++)P.dyn_ltree[2*M]=0;for(M=0;M<c;M++)P.dyn_dtree[2*M]=0;for(M=0;M<_;M++)P.bl_tree[2*M]=0;P.dyn_ltree[2*w]=1,P.opt_len=P.static_len=0,P.last_lit=P.matches=0}function de(P){8<P.bi_valid?U(P,P.bi_buf):0<P.bi_valid&&(P.pending_buf[P.pending++]=P.bi_buf),P.bi_buf=0,P.bi_valid=0}function ye(P,M,ee,re){var H=2*M,ie=2*ee;return P[H]<P[ie]||P[H]===P[ie]&&re[M]<=re[ee]}function B(P,M,ee){for(var re=P.heap[ee],H=ee<<1;H<=P.heap_len&&(H<P.heap_len&&ye(M,P.heap[H+1],P.heap[H],P.depth)&&H++,!ye(M,re,P.heap[H],P.depth));)P.heap[ee]=P.heap[H],ee=H,H<<=1;P.heap[ee]=re}function q(P,M,ee){var re,H,ie,fe,le=0;if(P.last_lit!==0)for(;re=P.pending_buf[P.d_buf+2*le]<<8|P.pending_buf[P.d_buf+2*le+1],H=P.pending_buf[P.l_buf+le],le++,re===0?C(P,H,M):(C(P,(ie=b[H])+h+1,M),(fe=E[ie])!==0&&k(P,H-=X[ie],fe),C(P,ie=N(--re),ee),(fe=j[ie])!==0&&k(P,re-=J[ie],fe)),le<P.last_lit;);C(P,w,M)}function te(P,M){var ee,re,H,ie=M.dyn_tree,fe=M.stat_desc.static_tree,le=M.stat_desc.has_stree,ve=M.stat_desc.elems,Te=-1;for(P.heap_len=0,P.heap_max=f,ee=0;ee<ve;ee++)ie[2*ee]!==0?(P.heap[++P.heap_len]=Te=ee,P.depth[ee]=0):ie[2*ee+1]=0;for(;P.heap_len<2;)ie[2*(H=P.heap[++P.heap_len]=Te<2?++Te:0)]=1,P.depth[H]=0,P.opt_len--,le&&(P.static_len-=fe[2*H+1]);for(M.max_code=Te,ee=P.heap_len>>1;1<=ee;ee--)B(P,ie,ee);for(H=ve;ee=P.heap[1],P.heap[1]=P.heap[P.heap_len--],B(P,ie,1),re=P.heap[1],P.heap[--P.heap_max]=ee,P.heap[--P.heap_max]=re,ie[2*H]=ie[2*ee]+ie[2*re],P.depth[H]=(P.depth[ee]>=P.depth[re]?P.depth[ee]:P.depth[re])+1,ie[2*ee+1]=ie[2*re+1]=H,P.heap[1]=H++,B(P,ie,1),2<=P.heap_len;);P.heap[--P.heap_max]=P.heap[1],function(Ce,Ue){var nt,it,zt,je,qt,yr,ct=Ue.dyn_tree,st=Ue.max_code,bn=Ue.stat_desc.static_tree,wn=Ue.stat_desc.has_stree,$n=Ue.stat_desc.extra_bits,Vr=Ue.stat_desc.extra_base,Ht=Ue.stat_desc.max_length,rr=0;for(je=0;je<=m;je++)Ce.bl_count[je]=0;for(ct[2*Ce.heap[Ce.heap_max]+1]=0,nt=Ce.heap_max+1;nt<f;nt++)Ht<(je=ct[2*ct[2*(it=Ce.heap[nt])+1]+1]+1)&&(je=Ht,rr++),ct[2*it+1]=je,st<it||(Ce.bl_count[je]++,qt=0,Vr<=it&&(qt=$n[it-Vr]),yr=ct[2*it],Ce.opt_len+=yr*(je+qt),wn&&(Ce.static_len+=yr*(bn[2*it+1]+qt)));if(rr!==0){do{for(je=Ht-1;Ce.bl_count[je]===0;)je--;Ce.bl_count[je]--,Ce.bl_count[je+1]+=2,Ce.bl_count[Ht]--,rr-=2}while(0<rr);for(je=Ht;je!==0;je--)for(it=Ce.bl_count[je];it!==0;)st<(zt=Ce.heap[--nt])||(ct[2*zt+1]!==je&&(Ce.opt_len+=(je-ct[2*zt+1])*ct[2*zt],ct[2*zt+1]=je),it--)}}(P,M),oe(ie,Te,P.bl_count)}function p(P,M,ee){var re,H,ie=-1,fe=M[1],le=0,ve=7,Te=4;for(fe===0&&(ve=138,Te=3),M[2*(ee+1)+1]=65535,re=0;re<=ee;re++)H=fe,fe=M[2*(re+1)+1],++le<ve&&H===fe||(le<Te?P.bl_tree[2*H]+=le:H!==0?(H!==ie&&P.bl_tree[2*H]++,P.bl_tree[2*$]++):le<=10?P.bl_tree[2*A]++:P.bl_tree[2*I]++,ie=H,Te=(le=0)===fe?(ve=138,3):H===fe?(ve=6,3):(ve=7,4))}function x(P,M,ee){var re,H,ie=-1,fe=M[1],le=0,ve=7,Te=4;for(fe===0&&(ve=138,Te=3),re=0;re<=ee;re++)if(H=fe,fe=M[2*(re+1)+1],!(++le<ve&&H===fe)){if(le<Te)for(;C(P,H,P.bl_tree),--le!=0;);else H!==0?(H!==ie&&(C(P,H,P.bl_tree),le--),C(P,$,P.bl_tree),k(P,le-3,2)):le<=10?(C(P,A,P.bl_tree),k(P,le-3,3)):(C(P,I,P.bl_tree),k(P,le-11,7));ie=H,Te=(le=0)===fe?(ve=138,3):H===fe?(ve=6,3):(ve=7,4)}}l(J);var V=!1;function R(P,M,ee,re){k(P,(u<<1)+(re?1:0),3),function(H,ie,fe,le){de(H),le&&(U(H,fe),U(H,~fe)),i.arraySet(H.pending_buf,H.window,ie,fe,H.pending),H.pending+=fe}(P,M,ee,!0)}n._tr_init=function(P){V||(function(){var M,ee,re,H,ie,fe=new Array(m+1);for(H=re=0;H<g-1;H++)for(X[H]=re,M=0;M<1<<E[H];M++)b[re++]=H;for(b[re-1]=H,H=ie=0;H<16;H++)for(J[H]=ie,M=0;M<1<<j[H];M++)Z[ie++]=H;for(ie>>=7;H<c;H++)for(J[H]=ie<<7,M=0;M<1<<j[H]-7;M++)Z[256+ie++]=H;for(ee=0;ee<=m;ee++)fe[ee]=0;for(M=0;M<=143;)ae[2*M+1]=8,M++,fe[8]++;for(;M<=255;)ae[2*M+1]=9,M++,fe[9]++;for(;M<=279;)ae[2*M+1]=7,M++,fe[7]++;for(;M<=287;)ae[2*M+1]=8,M++,fe[8]++;for(oe(ae,v+1,fe),M=0;M<c;M++)T[2*M+1]=5,T[2*M]=G(M,5);_e=new W(ae,E,h+1,v,m),ne=new W(T,j,0,c,m),pe=new W(new Array(0),z,0,_,y)}(),V=!0),P.l_desc=new S(P.dyn_ltree,_e),P.d_desc=new S(P.dyn_dtree,ne),P.bl_desc=new S(P.bl_tree,pe),P.bi_buf=0,P.bi_valid=0,se(P)},n._tr_stored_block=R,n._tr_flush_block=function(P,M,ee,re){var H,ie,fe=0;0<P.level?(P.strm.data_type===2&&(P.strm.data_type=function(le){var ve,Te=4093624447;for(ve=0;ve<=31;ve++,Te>>>=1)if(1&Te&&le.dyn_ltree[2*ve]!==0)return s;if(le.dyn_ltree[18]!==0||le.dyn_ltree[20]!==0||le.dyn_ltree[26]!==0)return a;for(ve=32;ve<h;ve++)if(le.dyn_ltree[2*ve]!==0)return a;return s}(P)),te(P,P.l_desc),te(P,P.d_desc),fe=function(le){var ve;for(p(le,le.dyn_ltree,le.l_desc.max_code),p(le,le.dyn_dtree,le.d_desc.max_code),te(le,le.bl_desc),ve=_-1;3<=ve&&le.bl_tree[2*K[ve]+1]===0;ve--);return le.opt_len+=3*(ve+1)+5+5+4,ve}(P),H=P.opt_len+3+7>>>3,(ie=P.static_len+3+7>>>3)<=H&&(H=ie)):H=ie=ee+5,ee+4<=H&&M!==-1?R(P,M,ee,re):P.strategy===4||ie===H?(k(P,2+(re?1:0),3),q(P,ae,T)):(k(P,4+(re?1:0),3),function(le,ve,Te,Ce){var Ue;for(k(le,ve-257,5),k(le,Te-1,5),k(le,Ce-4,4),Ue=0;Ue<Ce;Ue++)k(le,le.bl_tree[2*K[Ue]+1],3);x(le,le.dyn_ltree,ve-1),x(le,le.dyn_dtree,Te-1)}(P,P.l_desc.max_code+1,P.d_desc.max_code+1,fe+1),q(P,P.dyn_ltree,P.dyn_dtree)),se(P),re&&de(P)},n._tr_tally=function(P,M,ee){return P.pending_buf[P.d_buf+2*P.last_lit]=M>>>8&255,P.pending_buf[P.d_buf+2*P.last_lit+1]=255&M,P.pending_buf[P.l_buf+P.last_lit]=255&ee,P.last_lit++,M===0?P.dyn_ltree[2*ee]++:(P.matches++,M--,P.dyn_ltree[2*(b[ee]+h+1)]++,P.dyn_dtree[2*N(M)]++),P.last_lit===P.lit_bufsize-1},n._tr_align=function(P){k(P,2,3),C(P,w,ae),function(M){M.bi_valid===16?(U(M,M.bi_buf),M.bi_buf=0,M.bi_valid=0):8<=M.bi_valid&&(M.pending_buf[M.pending++]=255&M.bi_buf,M.bi_buf>>=8,M.bi_valid-=8)}(P)}},{"../utils/common":41}],53:[function(r,o,n){o.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(r,o,n){(function(i){(function(s,a){if(!s.setImmediate){var l,u,g,h,v=1,c={},_=!1,f=s.document,m=Object.getPrototypeOf&&Object.getPrototypeOf(s);m=m&&m.setTimeout?m:s,l={}.toString.call(s.process)==="[object process]"?function($){process.nextTick(function(){y($)})}:function(){if(s.postMessage&&!s.importScripts){var $=!0,A=s.onmessage;return s.onmessage=function(){$=!1},s.postMessage("","*"),s.onmessage=A,$}}()?(h="setImmediate$"+Math.random()+"$",s.addEventListener?s.addEventListener("message",w,!1):s.attachEvent("onmessage",w),function($){s.postMessage(h+$,"*")}):s.MessageChannel?((g=new MessageChannel).port1.onmessage=function($){y($.data)},function($){g.port2.postMessage($)}):f&&"onreadystatechange"in f.createElement("script")?(u=f.documentElement,function($){var A=f.createElement("script");A.onreadystatechange=function(){y($),A.onreadystatechange=null,u.removeChild(A),A=null},u.appendChild(A)}):function($){setTimeout(y,0,$)},m.setImmediate=function($){typeof $!="function"&&($=new Function(""+$));for(var A=new Array(arguments.length-1),I=0;I<A.length;I++)A[I]=arguments[I+1];var E={callback:$,args:A};return c[v]=E,l(v),v++},m.clearImmediate=d}function d($){delete c[$]}function y($){if(_)setTimeout(y,0,$);else{var A=c[$];if(A){_=!0;try{(function(I){var E=I.callback,j=I.args;switch(j.length){case 0:E();break;case 1:E(j[0]);break;case 2:E(j[0],j[1]);break;case 3:E(j[0],j[1],j[2]);break;default:E.apply(a,j)}})(A)}finally{d($),_=!1}}}}function w($){$.source===s&&typeof $.data=="string"&&$.data.indexOf(h)===0&&y(+$.data.slice(h.length))}})(typeof self>"u"?i===void 0?this:i:self)}).call(this,typeof Er<"u"?Er:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(_o);const Ir=Dn;var cn={},go={get exports(){return cn},set exports(t){cn=t}},Ys={},Ot={},Gt={},Fr={},Pe={},jr={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.regexpCode=t.getEsmExportName=t.getProperty=t.safeStringify=t.stringify=t.strConcat=t.addCodeArg=t.str=t._=t.nil=t._Code=t.Name=t.IDENTIFIER=t._CodeOrName=void 0;class e{}t._CodeOrName=e,t.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class r extends e{constructor(y){if(super(),!t.IDENTIFIER.test(y))throw new Error("CodeGen: name must be a valid identifier");this.str=y}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}t.Name=r;class o extends e{constructor(y){super(),this._items=typeof y=="string"?[y]:y}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const y=this._items[0];return y===""||y==='""'}get str(){var y;return(y=this._str)!==null&&y!==void 0?y:this._str=this._items.reduce((w,$)=>`${w}${$}`,"")}get names(){var y;return(y=this._names)!==null&&y!==void 0?y:this._names=this._items.reduce((w,$)=>($ instanceof r&&(w[$.str]=(w[$.str]||0)+1),w),{})}}t._Code=o,t.nil=new o("");function n(d,...y){const w=[d[0]];let $=0;for(;$<y.length;)a(w,y[$]),w.push(d[++$]);return new o(w)}t._=n;const i=new o("+");function s(d,...y){const w=[c(d[0])];let $=0;for(;$<y.length;)w.push(i),a(w,y[$]),w.push(i,c(d[++$]));return l(w),new o(w)}t.str=s;function a(d,y){y instanceof o?d.push(...y._items):y instanceof r?d.push(y):d.push(h(y))}t.addCodeArg=a;function l(d){let y=1;for(;y<d.length-1;){if(d[y]===i){const w=u(d[y-1],d[y+1]);if(w!==void 0){d.splice(y-1,3,w);continue}d[y++]="+"}y++}}function u(d,y){if(y==='""')return d;if(d==='""')return y;if(typeof d=="string")return y instanceof r||d[d.length-1]!=='"'?void 0:typeof y!="string"?`${d.slice(0,-1)}${y}"`:y[0]==='"'?d.slice(0,-1)+y.slice(1):void 0;if(typeof y=="string"&&y[0]==='"'&&!(d instanceof r))return`"${d}${y.slice(1)}`}function g(d,y){return y.emptyStr()?d:d.emptyStr()?y:s`${d}${y}`}t.strConcat=g;function h(d){return typeof d=="number"||typeof d=="boolean"||d===null?d:c(Array.isArray(d)?d.join(","):d)}function v(d){return new o(c(d))}t.stringify=v;function c(d){return JSON.stringify(d).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}t.safeStringify=c;function _(d){return typeof d=="string"&&t.IDENTIFIER.test(d)?new o(`.${d}`):n`[${d}]`}t.getProperty=_;function f(d){if(typeof d=="string"&&t.IDENTIFIER.test(d))return new o(`${d}`);throw new Error(`CodeGen: invalid export name: ${d}, use explicit $id name mapping`)}t.getEsmExportName=f;function m(d){return new o(d.toString())}t.regexpCode=m})(jr);var jn={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.ValueScope=t.ValueScopeName=t.Scope=t.varKinds=t.UsedValueState=void 0;const e=jr;class r extends Error{constructor(u){super(`CodeGen: "code" for ${u} not defined`),this.value=u.value}}var o;(function(l){l[l.Started=0]="Started",l[l.Completed=1]="Completed"})(o=t.UsedValueState||(t.UsedValueState={})),t.varKinds={const:new e.Name("const"),let:new e.Name("let"),var:new e.Name("var")};class n{constructor({prefixes:u,parent:g}={}){this._names={},this._prefixes=u,this._parent=g}toName(u){return u instanceof e.Name?u:this.name(u)}name(u){return new e.Name(this._newName(u))}_newName(u){const g=this._names[u]||this._nameGroup(u);return`${u}${g.index++}`}_nameGroup(u){var g,h;if(!((h=(g=this._parent)===null||g===void 0?void 0:g._prefixes)===null||h===void 0)&&h.has(u)||this._prefixes&&!this._prefixes.has(u))throw new Error(`CodeGen: prefix "${u}" is not allowed in this scope`);return this._names[u]={prefix:u,index:0}}}t.Scope=n;class i extends e.Name{constructor(u,g){super(g),this.prefix=u}setValue(u,{property:g,itemIndex:h}){this.value=u,this.scopePath=(0,e._)`.${new e.Name(g)}[${h}]`}}t.ValueScopeName=i;const s=(0,e._)`\n`;class a extends n{constructor(u){super(u),this._values={},this._scope=u.scope,this.opts={...u,_n:u.lines?s:e.nil}}get(){return this._scope}name(u){return new i(u,this._newName(u))}value(u,g){var h;if(g.ref===void 0)throw new Error("CodeGen: ref must be passed in value");const v=this.toName(u),{prefix:c}=v,_=(h=g.key)!==null&&h!==void 0?h:g.ref;let f=this._values[c];if(f){const y=f.get(_);if(y)return y}else f=this._values[c]=new Map;f.set(_,v);const m=this._scope[c]||(this._scope[c]=[]),d=m.length;return m[d]=g.ref,v.setValue(g,{property:c,itemIndex:d}),v}getValue(u,g){const h=this._values[u];if(h)return h.get(g)}scopeRefs(u,g=this._values){return this._reduceValues(g,h=>{if(h.scopePath===void 0)throw new Error(`CodeGen: name "${h}" has no value`);return(0,e._)`${u}${h.scopePath}`})}scopeCode(u=this._values,g,h){return this._reduceValues(u,v=>{if(v.value===void 0)throw new Error(`CodeGen: name "${v}" has no value`);return v.value.code},g,h)}_reduceValues(u,g,h={},v){let c=e.nil;for(const _ in u){const f=u[_];if(!f)continue;const m=h[_]=h[_]||new Map;f.forEach(d=>{if(m.has(d))return;m.set(d,o.Started);let y=g(d);if(y){const w=this.opts.es5?t.varKinds.var:t.varKinds.const;c=(0,e._)`${c}${w} ${d} = ${y};${this.opts._n}`}else if(y=v==null?void 0:v(d))c=(0,e._)`${c}${y}${this.opts._n}`;else throw new r(d);m.set(d,o.Completed)})}return c}}t.ValueScope=a})(jn);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.or=t.and=t.not=t.CodeGen=t.operators=t.varKinds=t.ValueScopeName=t.ValueScope=t.Scope=t.Name=t.regexpCode=t.stringify=t.getProperty=t.nil=t.strConcat=t.str=t._=void 0;const e=jr,r=jn;var o=jr;Object.defineProperty(t,"_",{enumerable:!0,get:function(){return o._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return o.str}}),Object.defineProperty(t,"strConcat",{enumerable:!0,get:function(){return o.strConcat}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return o.nil}}),Object.defineProperty(t,"getProperty",{enumerable:!0,get:function(){return o.getProperty}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return o.stringify}}),Object.defineProperty(t,"regexpCode",{enumerable:!0,get:function(){return o.regexpCode}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return o.Name}});var n=jn;Object.defineProperty(t,"Scope",{enumerable:!0,get:function(){return n.Scope}}),Object.defineProperty(t,"ValueScope",{enumerable:!0,get:function(){return n.ValueScope}}),Object.defineProperty(t,"ValueScopeName",{enumerable:!0,get:function(){return n.ValueScopeName}}),Object.defineProperty(t,"varKinds",{enumerable:!0,get:function(){return n.varKinds}}),t.operators={GT:new e._Code(">"),GTE:new e._Code(">="),LT:new e._Code("<"),LTE:new e._Code("<="),EQ:new e._Code("==="),NEQ:new e._Code("!=="),NOT:new e._Code("!"),OR:new e._Code("||"),AND:new e._Code("&&"),ADD:new e._Code("+")};class i{optimizeNodes(){return this}optimizeNames(k,C){return this}}class s extends i{constructor(k,C,G){super(),this.varKind=k,this.name=C,this.rhs=G}render({es5:k,_n:C}){const G=k?r.varKinds.var:this.varKind,oe=this.rhs===void 0?"":` = ${this.rhs}`;return`${G} ${this.name}${oe};`+C}optimizeNames(k,C){if(k[this.name.str])return this.rhs&&(this.rhs=b(this.rhs,k,C)),this}get names(){return this.rhs instanceof e._CodeOrName?this.rhs.names:{}}}class a extends i{constructor(k,C,G){super(),this.lhs=k,this.rhs=C,this.sideEffects=G}render({_n:k}){return`${this.lhs} = ${this.rhs};`+k}optimizeNames(k,C){if(!(this.lhs instanceof e.Name&&!k[this.lhs.str]&&!this.sideEffects))return this.rhs=b(this.rhs,k,C),this}get names(){const k=this.lhs instanceof e.Name?{}:{...this.lhs.names};return Z(k,this.rhs)}}class l extends a{constructor(k,C,G,oe){super(k,G,oe),this.op=C}render({_n:k}){return`${this.lhs} ${this.op}= ${this.rhs};`+k}}class u extends i{constructor(k){super(),this.label=k,this.names={}}render({_n:k}){return`${this.label}:`+k}}class g extends i{constructor(k){super(),this.label=k,this.names={}}render({_n:k}){return`break${this.label?` ${this.label}`:""};`+k}}class h extends i{constructor(k){super(),this.error=k}render({_n:k}){return`throw ${this.error};`+k}get names(){return this.error.names}}class v extends i{constructor(k){super(),this.code=k}render({_n:k}){return`${this.code};`+k}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(k,C){return this.code=b(this.code,k,C),this}get names(){return this.code instanceof e._CodeOrName?this.code.names:{}}}class c extends i{constructor(k=[]){super(),this.nodes=k}render(k){return this.nodes.reduce((C,G)=>C+G.render(k),"")}optimizeNodes(){const{nodes:k}=this;let C=k.length;for(;C--;){const G=k[C].optimizeNodes();Array.isArray(G)?k.splice(C,1,...G):G?k[C]=G:k.splice(C,1)}return k.length>0?this:void 0}optimizeNames(k,C){const{nodes:G}=this;let oe=G.length;for(;oe--;){const se=G[oe];se.optimizeNames(k,C)||(X(k,se.names),G.splice(oe,1))}return G.length>0?this:void 0}get names(){return this.nodes.reduce((k,C)=>T(k,C.names),{})}}class _ extends c{render(k){return"{"+k._n+super.render(k)+"}"+k._n}}class f extends c{}class m extends _{}m.kind="else";class d extends _{constructor(k,C){super(C),this.condition=k}render(k){let C=`if(${this.condition})`+super.render(k);return this.else&&(C+="else "+this.else.render(k)),C}optimizeNodes(){super.optimizeNodes();const k=this.condition;if(k===!0)return this.nodes;let C=this.else;if(C){const G=C.optimizeNodes();C=this.else=Array.isArray(G)?new m(G):G}if(C)return k===!1?C instanceof d?C:C.nodes:this.nodes.length?this:new d(_e(k),C instanceof d?[C]:C.nodes);if(!(k===!1||!this.nodes.length))return this}optimizeNames(k,C){var G;if(this.else=(G=this.else)===null||G===void 0?void 0:G.optimizeNames(k,C),!!(super.optimizeNames(k,C)||this.else))return this.condition=b(this.condition,k,C),this}get names(){const k=super.names;return Z(k,this.condition),this.else&&T(k,this.else.names),k}}d.kind="if";class y extends _{}y.kind="for";class w extends y{constructor(k){super(),this.iteration=k}render(k){return`for(${this.iteration})`+super.render(k)}optimizeNames(k,C){if(super.optimizeNames(k,C))return this.iteration=b(this.iteration,k,C),this}get names(){return T(super.names,this.iteration.names)}}class $ extends y{constructor(k,C,G,oe){super(),this.varKind=k,this.name=C,this.from=G,this.to=oe}render(k){const C=k.es5?r.varKinds.var:this.varKind,{name:G,from:oe,to:se}=this;return`for(${C} ${G}=${oe}; ${G}<${se}; ${G}++)`+super.render(k)}get names(){const k=Z(super.names,this.from);return Z(k,this.to)}}class A extends y{constructor(k,C,G,oe){super(),this.loop=k,this.varKind=C,this.name=G,this.iterable=oe}render(k){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(k)}optimizeNames(k,C){if(super.optimizeNames(k,C))return this.iterable=b(this.iterable,k,C),this}get names(){return T(super.names,this.iterable.names)}}class I extends _{constructor(k,C,G){super(),this.name=k,this.args=C,this.async=G}render(k){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(k)}}I.kind="func";class E extends c{render(k){return"return "+super.render(k)}}E.kind="return";class j extends _{render(k){let C="try"+super.render(k);return this.catch&&(C+=this.catch.render(k)),this.finally&&(C+=this.finally.render(k)),C}optimizeNodes(){var k,C;return super.optimizeNodes(),(k=this.catch)===null||k===void 0||k.optimizeNodes(),(C=this.finally)===null||C===void 0||C.optimizeNodes(),this}optimizeNames(k,C){var G,oe;return super.optimizeNames(k,C),(G=this.catch)===null||G===void 0||G.optimizeNames(k,C),(oe=this.finally)===null||oe===void 0||oe.optimizeNames(k,C),this}get names(){const k=super.names;return this.catch&&T(k,this.catch.names),this.finally&&T(k,this.finally.names),k}}class z extends _{constructor(k){super(),this.error=k}render(k){return`catch(${this.error})`+super.render(k)}}z.kind="catch";class K extends _{render(k){return"finally"+super.render(k)}}K.kind="finally";class ae{constructor(k,C={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...C,_n:C.lines?`
`:""},this._extScope=k,this._scope=new r.Scope({parent:k}),this._nodes=[new f]}toString(){return this._root.render(this.opts)}name(k){return this._scope.name(k)}scopeName(k){return this._extScope.name(k)}scopeValue(k,C){const G=this._extScope.value(k,C);return(this._values[G.prefix]||(this._values[G.prefix]=new Set)).add(G),G}getScopeValue(k,C){return this._extScope.getValue(k,C)}scopeRefs(k){return this._extScope.scopeRefs(k,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(k,C,G,oe){const se=this._scope.toName(C);return G!==void 0&&oe&&(this._constants[se.str]=G),this._leafNode(new s(k,se,G)),se}const(k,C,G){return this._def(r.varKinds.const,k,C,G)}let(k,C,G){return this._def(r.varKinds.let,k,C,G)}var(k,C,G){return this._def(r.varKinds.var,k,C,G)}assign(k,C,G){return this._leafNode(new a(k,C,G))}add(k,C){return this._leafNode(new l(k,t.operators.ADD,C))}code(k){return typeof k=="function"?k():k!==e.nil&&this._leafNode(new v(k)),this}object(...k){const C=["{"];for(const[G,oe]of k)C.length>1&&C.push(","),C.push(G),(G!==oe||this.opts.es5)&&(C.push(":"),(0,e.addCodeArg)(C,oe));return C.push("}"),new e._Code(C)}if(k,C,G){if(this._blockNode(new d(k)),C&&G)this.code(C).else().code(G).endIf();else if(C)this.code(C).endIf();else if(G)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(k){return this._elseNode(new d(k))}else(){return this._elseNode(new m)}endIf(){return this._endBlockNode(d,m)}_for(k,C){return this._blockNode(k),C&&this.code(C).endFor(),this}for(k,C){return this._for(new w(k),C)}forRange(k,C,G,oe,se=this.opts.es5?r.varKinds.var:r.varKinds.let){const de=this._scope.toName(k);return this._for(new $(se,de,C,G),()=>oe(de))}forOf(k,C,G,oe=r.varKinds.const){const se=this._scope.toName(k);if(this.opts.es5){const de=C instanceof e.Name?C:this.var("_arr",C);return this.forRange("_i",0,(0,e._)`${de}.length`,ye=>{this.var(se,(0,e._)`${de}[${ye}]`),G(se)})}return this._for(new A("of",oe,se,C),()=>G(se))}forIn(k,C,G,oe=this.opts.es5?r.varKinds.var:r.varKinds.const){if(this.opts.ownProperties)return this.forOf(k,(0,e._)`Object.keys(${C})`,G);const se=this._scope.toName(k);return this._for(new A("in",oe,se,C),()=>G(se))}endFor(){return this._endBlockNode(y)}label(k){return this._leafNode(new u(k))}break(k){return this._leafNode(new g(k))}return(k){const C=new E;if(this._blockNode(C),this.code(k),C.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(E)}try(k,C,G){if(!C&&!G)throw new Error('CodeGen: "try" without "catch" and "finally"');const oe=new j;if(this._blockNode(oe),this.code(k),C){const se=this.name("e");this._currNode=oe.catch=new z(se),C(se)}return G&&(this._currNode=oe.finally=new K,this.code(G)),this._endBlockNode(z,K)}throw(k){return this._leafNode(new h(k))}block(k,C){return this._blockStarts.push(this._nodes.length),k&&this.code(k).endBlock(C),this}endBlock(k){const C=this._blockStarts.pop();if(C===void 0)throw new Error("CodeGen: not in self-balancing block");const G=this._nodes.length-C;if(G<0||k!==void 0&&G!==k)throw new Error(`CodeGen: wrong number of nodes: ${G} vs ${k} expected`);return this._nodes.length=C,this}func(k,C=e.nil,G,oe){return this._blockNode(new I(k,C,G)),oe&&this.code(oe).endFunc(),this}endFunc(){return this._endBlockNode(I)}optimize(k=1){for(;k-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(k){return this._currNode.nodes.push(k),this}_blockNode(k){this._currNode.nodes.push(k),this._nodes.push(k)}_endBlockNode(k,C){const G=this._currNode;if(G instanceof k||C&&G instanceof C)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${C?`${k.kind}/${C.kind}`:k.kind}"`)}_elseNode(k){const C=this._currNode;if(!(C instanceof d))throw new Error('CodeGen: "else" without "if"');return this._currNode=C.else=k,this}get _root(){return this._nodes[0]}get _currNode(){const k=this._nodes;return k[k.length-1]}set _currNode(k){const C=this._nodes;C[C.length-1]=k}}t.CodeGen=ae;function T(U,k){for(const C in k)U[C]=(U[C]||0)+(k[C]||0);return U}function Z(U,k){return k instanceof e._CodeOrName?T(U,k.names):U}function b(U,k,C){if(U instanceof e.Name)return G(U);if(!oe(U))return U;return new e._Code(U._items.reduce((se,de)=>(de instanceof e.Name&&(de=G(de)),de instanceof e._Code?se.push(...de._items):se.push(de),se),[]));function G(se){const de=C[se.str];return de===void 0||k[se.str]!==1?se:(delete k[se.str],de)}function oe(se){return se instanceof e._Code&&se._items.some(de=>de instanceof e.Name&&k[de.str]===1&&C[de.str]!==void 0)}}function X(U,k){for(const C in k)U[C]=(U[C]||0)-(k[C]||0)}function _e(U){return typeof U=="boolean"||typeof U=="number"||U===null?!U:(0,e._)`!${N(U)}`}t.not=_e;const ne=S(t.operators.AND);function pe(...U){return U.reduce(ne)}t.and=pe;const J=S(t.operators.OR);function W(...U){return U.reduce(J)}t.or=W;function S(U){return(k,C)=>k===e.nil?C:C===e.nil?k:(0,e._)`${N(k)} ${U} ${N(C)}`}function N(U){return U instanceof e.Name?U:(0,e._)`(${U})`}})(Pe);var Ne={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.checkStrictMode=t.getErrorPath=t.Type=t.useFunc=t.setEvaluated=t.evaluatedPropsToName=t.mergeEvaluated=t.eachItem=t.unescapeJsonPointer=t.escapeJsonPointer=t.escapeFragment=t.unescapeFragment=t.schemaRefOrVal=t.schemaHasRulesButRef=t.schemaHasRules=t.checkUnknownRules=t.alwaysValidSchema=t.toHash=void 0;const e=Pe,r=jr;function o(I){const E={};for(const j of I)E[j]=!0;return E}t.toHash=o;function n(I,E){return typeof E=="boolean"?E:Object.keys(E).length===0?!0:(i(I,E),!s(E,I.self.RULES.all))}t.alwaysValidSchema=n;function i(I,E=I.schema){const{opts:j,self:z}=I;if(!j.strictSchema||typeof E=="boolean")return;const K=z.RULES.keywords;for(const ae in E)K[ae]||A(I,`unknown keyword: "${ae}"`)}t.checkUnknownRules=i;function s(I,E){if(typeof I=="boolean")return!I;for(const j in I)if(E[j])return!0;return!1}t.schemaHasRules=s;function a(I,E){if(typeof I=="boolean")return!I;for(const j in I)if(j!=="$ref"&&E.all[j])return!0;return!1}t.schemaHasRulesButRef=a;function l({topSchemaRef:I,schemaPath:E},j,z,K){if(!K){if(typeof j=="number"||typeof j=="boolean")return j;if(typeof j=="string")return(0,e._)`${j}`}return(0,e._)`${I}${E}${(0,e.getProperty)(z)}`}t.schemaRefOrVal=l;function u(I){return v(decodeURIComponent(I))}t.unescapeFragment=u;function g(I){return encodeURIComponent(h(I))}t.escapeFragment=g;function h(I){return typeof I=="number"?`${I}`:I.replace(/~/g,"~0").replace(/\//g,"~1")}t.escapeJsonPointer=h;function v(I){return I.replace(/~1/g,"/").replace(/~0/g,"~")}t.unescapeJsonPointer=v;function c(I,E){if(Array.isArray(I))for(const j of I)E(j);else E(I)}t.eachItem=c;function _({mergeNames:I,mergeToName:E,mergeValues:j,resultToName:z}){return(K,ae,T,Z)=>{const b=T===void 0?ae:T instanceof e.Name?(ae instanceof e.Name?I(K,ae,T):E(K,ae,T),T):ae instanceof e.Name?(E(K,T,ae),ae):j(ae,T);return Z===e.Name&&!(b instanceof e.Name)?z(K,b):b}}t.mergeEvaluated={props:_({mergeNames:(I,E,j)=>I.if((0,e._)`${j} !== true && ${E} !== undefined`,()=>{I.if((0,e._)`${E} === true`,()=>I.assign(j,!0),()=>I.assign(j,(0,e._)`${j} || {}`).code((0,e._)`Object.assign(${j}, ${E})`))}),mergeToName:(I,E,j)=>I.if((0,e._)`${j} !== true`,()=>{E===!0?I.assign(j,!0):(I.assign(j,(0,e._)`${j} || {}`),m(I,j,E))}),mergeValues:(I,E)=>I===!0?!0:{...I,...E},resultToName:f}),items:_({mergeNames:(I,E,j)=>I.if((0,e._)`${j} !== true && ${E} !== undefined`,()=>I.assign(j,(0,e._)`${E} === true ? true : ${j} > ${E} ? ${j} : ${E}`)),mergeToName:(I,E,j)=>I.if((0,e._)`${j} !== true`,()=>I.assign(j,E===!0?!0:(0,e._)`${j} > ${E} ? ${j} : ${E}`)),mergeValues:(I,E)=>I===!0?!0:Math.max(I,E),resultToName:(I,E)=>I.var("items",E)})};function f(I,E){if(E===!0)return I.var("props",!0);const j=I.var("props",(0,e._)`{}`);return E!==void 0&&m(I,j,E),j}t.evaluatedPropsToName=f;function m(I,E,j){Object.keys(j).forEach(z=>I.assign((0,e._)`${E}${(0,e.getProperty)(z)}`,!0))}t.setEvaluated=m;const d={};function y(I,E){return I.scopeValue("func",{ref:E,code:d[E.code]||(d[E.code]=new r._Code(E.code))})}t.useFunc=y;var w;(function(I){I[I.Num=0]="Num",I[I.Str=1]="Str"})(w=t.Type||(t.Type={}));function $(I,E,j){if(I instanceof e.Name){const z=E===w.Num;return j?z?(0,e._)`"[" + ${I} + "]"`:(0,e._)`"['" + ${I} + "']"`:z?(0,e._)`"/" + ${I}`:(0,e._)`"/" + ${I}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return j?(0,e.getProperty)(I).toString():"/"+h(I)}t.getErrorPath=$;function A(I,E,j=I.opts.strictSchema){if(j){if(E=`strict mode: ${E}`,j===!0)throw new Error(E);I.self.logger.warn(E)}}t.checkStrictMode=A})(Ne);var Zr={},Xi;function Kt(){if(Xi)return Zr;Xi=1,Object.defineProperty(Zr,"__esModule",{value:!0});const t=Pe,e={data:new t.Name("data"),valCxt:new t.Name("valCxt"),instancePath:new t.Name("instancePath"),parentData:new t.Name("parentData"),parentDataProperty:new t.Name("parentDataProperty"),rootData:new t.Name("rootData"),dynamicAnchors:new t.Name("dynamicAnchors"),vErrors:new t.Name("vErrors"),errors:new t.Name("errors"),this:new t.Name("this"),self:new t.Name("self"),scope:new t.Name("scope"),json:new t.Name("json"),jsonPos:new t.Name("jsonPos"),jsonLen:new t.Name("jsonLen"),jsonPart:new t.Name("jsonPart")};return Zr.default=e,Zr}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.extendErrors=t.resetErrorsCount=t.reportExtraError=t.reportError=t.keyword$DataError=t.keywordError=void 0;const e=Pe,r=Ne,o=Kt();t.keywordError={message:({keyword:m})=>(0,e.str)`must pass "${m}" keyword validation`},t.keyword$DataError={message:({keyword:m,schemaType:d})=>d?(0,e.str)`"${m}" keyword must be ${d} ($data)`:(0,e.str)`"${m}" keyword is invalid ($data)`};function n(m,d=t.keywordError,y,w){const{it:$}=m,{gen:A,compositeRule:I,allErrors:E}=$,j=h(m,d,y);w??(I||E)?l(A,j):u($,(0,e._)`[${j}]`)}t.reportError=n;function i(m,d=t.keywordError,y){const{it:w}=m,{gen:$,compositeRule:A,allErrors:I}=w,E=h(m,d,y);l($,E),A||I||u(w,o.default.vErrors)}t.reportExtraError=i;function s(m,d){m.assign(o.default.errors,d),m.if((0,e._)`${o.default.vErrors} !== null`,()=>m.if(d,()=>m.assign((0,e._)`${o.default.vErrors}.length`,d),()=>m.assign(o.default.vErrors,null)))}t.resetErrorsCount=s;function a({gen:m,keyword:d,schemaValue:y,data:w,errsCount:$,it:A}){if($===void 0)throw new Error("ajv implementation error");const I=m.name("err");m.forRange("i",$,o.default.errors,E=>{m.const(I,(0,e._)`${o.default.vErrors}[${E}]`),m.if((0,e._)`${I}.instancePath === undefined`,()=>m.assign((0,e._)`${I}.instancePath`,(0,e.strConcat)(o.default.instancePath,A.errorPath))),m.assign((0,e._)`${I}.schemaPath`,(0,e.str)`${A.errSchemaPath}/${d}`),A.opts.verbose&&(m.assign((0,e._)`${I}.schema`,y),m.assign((0,e._)`${I}.data`,w))})}t.extendErrors=a;function l(m,d){const y=m.const("err",d);m.if((0,e._)`${o.default.vErrors} === null`,()=>m.assign(o.default.vErrors,(0,e._)`[${y}]`),(0,e._)`${o.default.vErrors}.push(${y})`),m.code((0,e._)`${o.default.errors}++`)}function u(m,d){const{gen:y,validateName:w,schemaEnv:$}=m;$.$async?y.throw((0,e._)`new ${m.ValidationError}(${d})`):(y.assign((0,e._)`${w}.errors`,d),y.return(!1))}const g={keyword:new e.Name("keyword"),schemaPath:new e.Name("schemaPath"),params:new e.Name("params"),propertyName:new e.Name("propertyName"),message:new e.Name("message"),schema:new e.Name("schema"),parentSchema:new e.Name("parentSchema")};function h(m,d,y){const{createErrors:w}=m.it;return w===!1?(0,e._)`{}`:v(m,d,y)}function v(m,d,y={}){const{gen:w,it:$}=m,A=[c($,y),_(m,y)];return f(m,d,A),w.object(...A)}function c({errorPath:m},{instancePath:d}){const y=d?(0,e.str)`${m}${(0,r.getErrorPath)(d,r.Type.Str)}`:m;return[o.default.instancePath,(0,e.strConcat)(o.default.instancePath,y)]}function _({keyword:m,it:{errSchemaPath:d}},{schemaPath:y,parentSchema:w}){let $=w?d:(0,e.str)`${d}/${m}`;return y&&($=(0,e.str)`${$}${(0,r.getErrorPath)(y,r.Type.Str)}`),[g.schemaPath,$]}function f(m,{params:d,message:y},w){const{keyword:$,data:A,schemaValue:I,it:E}=m,{opts:j,propertyName:z,topSchemaRef:K,schemaPath:ae}=E;w.push([g.keyword,$],[g.params,typeof d=="function"?d(m):d||(0,e._)`{}`]),j.messages&&w.push([g.message,typeof y=="function"?y(m):y]),j.verbose&&w.push([g.schema,I],[g.parentSchema,(0,e._)`${K}${ae}`],[o.default.data,A]),z&&w.push([g.propertyName,z])}})(Fr);var es;function vo(){if(es)return Gt;es=1,Object.defineProperty(Gt,"__esModule",{value:!0}),Gt.boolOrEmptySchema=Gt.topBoolOrEmptySchema=void 0;const t=Fr,e=Pe,r=Kt(),o={message:"boolean schema is false"};function n(a){const{gen:l,schema:u,validateName:g}=a;u===!1?s(a,!1):typeof u=="object"&&u.$async===!0?l.return(r.default.data):(l.assign((0,e._)`${g}.errors`,null),l.return(!0))}Gt.topBoolOrEmptySchema=n;function i(a,l){const{gen:u,schema:g}=a;g===!1?(u.var(l,!1),s(a)):u.var(l,!0)}Gt.boolOrEmptySchema=i;function s(a,l){const{gen:u,data:g}=a,h={gen:u,keyword:"false schema",data:g,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:a};(0,t.reportError)(h,o,void 0,l)}return Gt}var zr={},er={};Object.defineProperty(er,"__esModule",{value:!0});er.getRules=er.isJSONType=void 0;const yo=["string","number","integer","boolean","null","object","array"],bo=new Set(yo);function wo(t){return typeof t=="string"&&bo.has(t)}er.isJSONType=wo;function $o(){const t={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...t,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},t.number,t.string,t.array,t.object],post:{rules:[]},all:{},keywords:{}}}er.getRules=$o;var Rt={},ts;function Xs(){if(ts)return Rt;ts=1,Object.defineProperty(Rt,"__esModule",{value:!0}),Rt.shouldUseRule=Rt.shouldUseGroup=Rt.schemaHasRulesForType=void 0;function t({schema:o,self:n},i){const s=n.RULES.types[i];return s&&s!==!0&&e(o,s)}Rt.schemaHasRulesForType=t;function e(o,n){return n.rules.some(i=>r(o,i))}Rt.shouldUseGroup=e;function r(o,n){var i;return o[n.keyword]!==void 0||((i=n.definition.implements)===null||i===void 0?void 0:i.some(s=>o[s]!==void 0))}return Rt.shouldUseRule=r,Rt}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.reportTypeError=t.checkDataTypes=t.checkDataType=t.coerceAndCheckDataType=t.getJSONTypes=t.getSchemaTypes=t.DataType=void 0;const e=er,r=Xs(),o=Fr,n=Pe,i=Ne;var s;(function(w){w[w.Correct=0]="Correct",w[w.Wrong=1]="Wrong"})(s=t.DataType||(t.DataType={}));function a(w){const $=l(w.type);if($.includes("null")){if(w.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!$.length&&w.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');w.nullable===!0&&$.push("null")}return $}t.getSchemaTypes=a;function l(w){const $=Array.isArray(w)?w:w?[w]:[];if($.every(e.isJSONType))return $;throw new Error("type must be JSONType or JSONType[]: "+$.join(","))}t.getJSONTypes=l;function u(w,$){const{gen:A,data:I,opts:E}=w,j=h($,E.coerceTypes),z=$.length>0&&!(j.length===0&&$.length===1&&(0,r.schemaHasRulesForType)(w,$[0]));if(z){const K=f($,I,E.strictNumbers,s.Wrong);A.if(K,()=>{j.length?v(w,$,j):d(w)})}return z}t.coerceAndCheckDataType=u;const g=new Set(["string","number","integer","boolean","null"]);function h(w,$){return $?w.filter(A=>g.has(A)||$==="array"&&A==="array"):[]}function v(w,$,A){const{gen:I,data:E,opts:j}=w,z=I.let("dataType",(0,n._)`typeof ${E}`),K=I.let("coerced",(0,n._)`undefined`);j.coerceTypes==="array"&&I.if((0,n._)`${z} == 'object' && Array.isArray(${E}) && ${E}.length == 1`,()=>I.assign(E,(0,n._)`${E}[0]`).assign(z,(0,n._)`typeof ${E}`).if(f($,E,j.strictNumbers),()=>I.assign(K,E))),I.if((0,n._)`${K} !== undefined`);for(const T of A)(g.has(T)||T==="array"&&j.coerceTypes==="array")&&ae(T);I.else(),d(w),I.endIf(),I.if((0,n._)`${K} !== undefined`,()=>{I.assign(E,K),c(w,K)});function ae(T){switch(T){case"string":I.elseIf((0,n._)`${z} == "number" || ${z} == "boolean"`).assign(K,(0,n._)`"" + ${E}`).elseIf((0,n._)`${E} === null`).assign(K,(0,n._)`""`);return;case"number":I.elseIf((0,n._)`${z} == "boolean" || ${E} === null
              || (${z} == "string" && ${E} && ${E} == +${E})`).assign(K,(0,n._)`+${E}`);return;case"integer":I.elseIf((0,n._)`${z} === "boolean" || ${E} === null
              || (${z} === "string" && ${E} && ${E} == +${E} && !(${E} % 1))`).assign(K,(0,n._)`+${E}`);return;case"boolean":I.elseIf((0,n._)`${E} === "false" || ${E} === 0 || ${E} === null`).assign(K,!1).elseIf((0,n._)`${E} === "true" || ${E} === 1`).assign(K,!0);return;case"null":I.elseIf((0,n._)`${E} === "" || ${E} === 0 || ${E} === false`),I.assign(K,null);return;case"array":I.elseIf((0,n._)`${z} === "string" || ${z} === "number"
              || ${z} === "boolean" || ${E} === null`).assign(K,(0,n._)`[${E}]`)}}}function c({gen:w,parentData:$,parentDataProperty:A},I){w.if((0,n._)`${$} !== undefined`,()=>w.assign((0,n._)`${$}[${A}]`,I))}function _(w,$,A,I=s.Correct){const E=I===s.Correct?n.operators.EQ:n.operators.NEQ;let j;switch(w){case"null":return(0,n._)`${$} ${E} null`;case"array":j=(0,n._)`Array.isArray(${$})`;break;case"object":j=(0,n._)`${$} && typeof ${$} == "object" && !Array.isArray(${$})`;break;case"integer":j=z((0,n._)`!(${$} % 1) && !isNaN(${$})`);break;case"number":j=z();break;default:return(0,n._)`typeof ${$} ${E} ${w}`}return I===s.Correct?j:(0,n.not)(j);function z(K=n.nil){return(0,n.and)((0,n._)`typeof ${$} == "number"`,K,A?(0,n._)`isFinite(${$})`:n.nil)}}t.checkDataType=_;function f(w,$,A,I){if(w.length===1)return _(w[0],$,A,I);let E;const j=(0,i.toHash)(w);if(j.array&&j.object){const z=(0,n._)`typeof ${$} != "object"`;E=j.null?z:(0,n._)`!${$} || ${z}`,delete j.null,delete j.array,delete j.object}else E=n.nil;j.number&&delete j.integer;for(const z in j)E=(0,n.and)(E,_(z,$,A,I));return E}t.checkDataTypes=f;const m={message:({schema:w})=>`must be ${w}`,params:({schema:w,schemaValue:$})=>typeof w=="string"?(0,n._)`{type: ${w}}`:(0,n._)`{type: ${$}}`};function d(w){const $=y(w);(0,o.reportError)($,m)}t.reportTypeError=d;function y(w){const{gen:$,data:A,schema:I}=w,E=(0,i.schemaRefOrVal)(w,I,"type");return{gen:$,keyword:"type",data:A,schema:I.type,schemaCode:E,schemaValue:E,parentSchema:I,params:{},it:w}}})(zr);var kr={},rs;function ko(){if(rs)return kr;rs=1,Object.defineProperty(kr,"__esModule",{value:!0}),kr.assignDefaults=void 0;const t=Pe,e=Ne;function r(n,i){const{properties:s,items:a}=n.schema;if(i==="object"&&s)for(const l in s)o(n,l,s[l].default);else i==="array"&&Array.isArray(a)&&a.forEach((l,u)=>o(n,u,l.default))}kr.assignDefaults=r;function o(n,i,s){const{gen:a,compositeRule:l,data:u,opts:g}=n;if(s===void 0)return;const h=(0,t._)`${u}${(0,t.getProperty)(i)}`;if(l){(0,e.checkStrictMode)(n,`default is ignored for: ${h}`);return}let v=(0,t._)`${h} === undefined`;g.useDefaults==="empty"&&(v=(0,t._)`${v} || ${h} === null || ${h} === ""`),a.if(v,(0,t._)`${h} = ${(0,t.stringify)(s)}`)}return kr}var mt={},Ie={};Object.defineProperty(Ie,"__esModule",{value:!0});Ie.validateUnion=Ie.validateArray=Ie.usePattern=Ie.callValidateCode=Ie.schemaProperties=Ie.allSchemaProperties=Ie.noPropertyInData=Ie.propertyInData=Ie.isOwnProperty=Ie.hasPropFunc=Ie.reportMissingProp=Ie.checkMissingProp=Ie.checkReportMissingProp=void 0;const Be=Pe,qn=Ne,Ft=Kt(),Ao=Ne;function Eo(t,e){const{gen:r,data:o,it:n}=t;r.if(Wn(r,o,e,n.opts.ownProperties),()=>{t.setParams({missingProperty:(0,Be._)`${e}`},!0),t.error()})}Ie.checkReportMissingProp=Eo;function So({gen:t,data:e,it:{opts:r}},o,n){return(0,Be.or)(...o.map(i=>(0,Be.and)(Wn(t,e,i,r.ownProperties),(0,Be._)`${n} = ${i}`)))}Ie.checkMissingProp=So;function Co(t,e){t.setParams({missingProperty:e},!0),t.error()}Ie.reportMissingProp=Co;function ea(t){return t.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,Be._)`Object.prototype.hasOwnProperty`})}Ie.hasPropFunc=ea;function Hn(t,e,r){return(0,Be._)`${ea(t)}.call(${e}, ${r})`}Ie.isOwnProperty=Hn;function Io(t,e,r,o){const n=(0,Be._)`${e}${(0,Be.getProperty)(r)} !== undefined`;return o?(0,Be._)`${n} && ${Hn(t,e,r)}`:n}Ie.propertyInData=Io;function Wn(t,e,r,o){const n=(0,Be._)`${e}${(0,Be.getProperty)(r)} === undefined`;return o?(0,Be.or)(n,(0,Be.not)(Hn(t,e,r))):n}Ie.noPropertyInData=Wn;function ta(t){return t?Object.keys(t).filter(e=>e!=="__proto__"):[]}Ie.allSchemaProperties=ta;function Po(t,e){return ta(e).filter(r=>!(0,qn.alwaysValidSchema)(t,e[r]))}Ie.schemaProperties=Po;function Oo({schemaCode:t,data:e,it:{gen:r,topSchemaRef:o,schemaPath:n,errorPath:i},it:s},a,l,u){const g=u?(0,Be._)`${t}, ${e}, ${o}${n}`:e,h=[[Ft.default.instancePath,(0,Be.strConcat)(Ft.default.instancePath,i)],[Ft.default.parentData,s.parentData],[Ft.default.parentDataProperty,s.parentDataProperty],[Ft.default.rootData,Ft.default.rootData]];s.opts.dynamicRef&&h.push([Ft.default.dynamicAnchors,Ft.default.dynamicAnchors]);const v=(0,Be._)`${g}, ${r.object(...h)}`;return l!==Be.nil?(0,Be._)`${a}.call(${l}, ${v})`:(0,Be._)`${a}(${v})`}Ie.callValidateCode=Oo;const Ro=(0,Be._)`new RegExp`;function No({gen:t,it:{opts:e}},r){const o=e.unicodeRegExp?"u":"",{regExp:n}=e.code,i=n(r,o);return t.scopeValue("pattern",{key:i.toString(),ref:i,code:(0,Be._)`${n.code==="new RegExp"?Ro:(0,Ao.useFunc)(t,n)}(${r}, ${o})`})}Ie.usePattern=No;function To(t){const{gen:e,data:r,keyword:o,it:n}=t,i=e.name("valid");if(n.allErrors){const a=e.let("valid",!0);return s(()=>e.assign(a,!1)),a}return e.var(i,!0),s(()=>e.break()),i;function s(a){const l=e.const("len",(0,Be._)`${r}.length`);e.forRange("i",0,l,u=>{t.subschema({keyword:o,dataProp:u,dataPropType:qn.Type.Num},i),e.if((0,Be.not)(i),a)})}}Ie.validateArray=To;function Do(t){const{gen:e,schema:r,keyword:o,it:n}=t;if(!Array.isArray(r))throw new Error("ajv implementation error");if(r.some(l=>(0,qn.alwaysValidSchema)(n,l))&&!n.opts.unevaluated)return;const s=e.let("valid",!1),a=e.name("_valid");e.block(()=>r.forEach((l,u)=>{const g=t.subschema({keyword:o,schemaProp:u,compositeRule:!0},a);e.assign(s,(0,Be._)`${s} || ${a}`),t.mergeValidEvaluated(g,a)||e.if((0,Be.not)(s))})),t.result(s,()=>t.reset(),()=>t.error(!0))}Ie.validateUnion=Do;var ns;function jo(){if(ns)return mt;ns=1,Object.defineProperty(mt,"__esModule",{value:!0}),mt.validateKeywordUsage=mt.validSchemaType=mt.funcKeywordCode=mt.macroKeywordCode=void 0;const t=Pe,e=Kt(),r=Ie,o=Fr;function n(v,c){const{gen:_,keyword:f,schema:m,parentSchema:d,it:y}=v,w=c.macro.call(y.self,m,d,y),$=u(_,f,w);y.opts.validateSchema!==!1&&y.self.validateSchema(w,!0);const A=_.name("valid");v.subschema({schema:w,schemaPath:t.nil,errSchemaPath:`${y.errSchemaPath}/${f}`,topSchemaRef:$,compositeRule:!0},A),v.pass(A,()=>v.error(!0))}mt.macroKeywordCode=n;function i(v,c){var _;const{gen:f,keyword:m,schema:d,parentSchema:y,$data:w,it:$}=v;l($,c);const A=!w&&c.compile?c.compile.call($.self,d,y,$):c.validate,I=u(f,m,A),E=f.let("valid");v.block$data(E,j),v.ok((_=c.valid)!==null&&_!==void 0?_:E);function j(){if(c.errors===!1)ae(),c.modifying&&s(v),T(()=>v.error());else{const Z=c.async?z():K();c.modifying&&s(v),T(()=>a(v,Z))}}function z(){const Z=f.let("ruleErrs",null);return f.try(()=>ae((0,t._)`await `),b=>f.assign(E,!1).if((0,t._)`${b} instanceof ${$.ValidationError}`,()=>f.assign(Z,(0,t._)`${b}.errors`),()=>f.throw(b))),Z}function K(){const Z=(0,t._)`${I}.errors`;return f.assign(Z,null),ae(t.nil),Z}function ae(Z=c.async?(0,t._)`await `:t.nil){const b=$.opts.passContext?e.default.this:e.default.self,X=!("compile"in c&&!w||c.schema===!1);f.assign(E,(0,t._)`${Z}${(0,r.callValidateCode)(v,I,b,X)}`,c.modifying)}function T(Z){var b;f.if((0,t.not)((b=c.valid)!==null&&b!==void 0?b:E),Z)}}mt.funcKeywordCode=i;function s(v){const{gen:c,data:_,it:f}=v;c.if(f.parentData,()=>c.assign(_,(0,t._)`${f.parentData}[${f.parentDataProperty}]`))}function a(v,c){const{gen:_}=v;_.if((0,t._)`Array.isArray(${c})`,()=>{_.assign(e.default.vErrors,(0,t._)`${e.default.vErrors} === null ? ${c} : ${e.default.vErrors}.concat(${c})`).assign(e.default.errors,(0,t._)`${e.default.vErrors}.length`),(0,o.extendErrors)(v)},()=>v.error())}function l({schemaEnv:v},c){if(c.async&&!v.$async)throw new Error("async keyword in sync schema")}function u(v,c,_){if(_===void 0)throw new Error(`keyword "${c}" failed to compile`);return v.scopeValue("keyword",typeof _=="function"?{ref:_}:{ref:_,code:(0,t.stringify)(_)})}function g(v,c,_=!1){return!c.length||c.some(f=>f==="array"?Array.isArray(v):f==="object"?v&&typeof v=="object"&&!Array.isArray(v):typeof v==f||_&&typeof v>"u")}mt.validSchemaType=g;function h({schema:v,opts:c,self:_,errSchemaPath:f},m,d){if(Array.isArray(m.keyword)?!m.keyword.includes(d):m.keyword!==d)throw new Error("ajv implementation error");const y=m.dependencies;if(y!=null&&y.some(w=>!Object.prototype.hasOwnProperty.call(v,w)))throw new Error(`parent schema must have dependencies of ${d}: ${y.join(",")}`);if(m.validateSchema&&!m.validateSchema(v[d])){const $=`keyword "${d}" value is invalid at path "${f}": `+_.errorsText(m.validateSchema.errors);if(c.validateSchema==="log")_.logger.error($);else throw new Error($)}}return mt.validateKeywordUsage=h,mt}var Nt={},is;function zo(){if(is)return Nt;is=1,Object.defineProperty(Nt,"__esModule",{value:!0}),Nt.extendSubschemaMode=Nt.extendSubschemaData=Nt.getSubschema=void 0;const t=Pe,e=Ne;function r(i,{keyword:s,schemaProp:a,schema:l,schemaPath:u,errSchemaPath:g,topSchemaRef:h}){if(s!==void 0&&l!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(s!==void 0){const v=i.schema[s];return a===void 0?{schema:v,schemaPath:(0,t._)`${i.schemaPath}${(0,t.getProperty)(s)}`,errSchemaPath:`${i.errSchemaPath}/${s}`}:{schema:v[a],schemaPath:(0,t._)`${i.schemaPath}${(0,t.getProperty)(s)}${(0,t.getProperty)(a)}`,errSchemaPath:`${i.errSchemaPath}/${s}/${(0,e.escapeFragment)(a)}`}}if(l!==void 0){if(u===void 0||g===void 0||h===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:l,schemaPath:u,topSchemaRef:h,errSchemaPath:g}}throw new Error('either "keyword" or "schema" must be passed')}Nt.getSubschema=r;function o(i,s,{dataProp:a,dataPropType:l,data:u,dataTypes:g,propertyName:h}){if(u!==void 0&&a!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:v}=s;if(a!==void 0){const{errorPath:_,dataPathArr:f,opts:m}=s,d=v.let("data",(0,t._)`${s.data}${(0,t.getProperty)(a)}`,!0);c(d),i.errorPath=(0,t.str)`${_}${(0,e.getErrorPath)(a,l,m.jsPropertySyntax)}`,i.parentDataProperty=(0,t._)`${a}`,i.dataPathArr=[...f,i.parentDataProperty]}if(u!==void 0){const _=u instanceof t.Name?u:v.let("data",u,!0);c(_),h!==void 0&&(i.propertyName=h)}g&&(i.dataTypes=g);function c(_){i.data=_,i.dataLevel=s.dataLevel+1,i.dataTypes=[],s.definedProperties=new Set,i.parentData=s.data,i.dataNames=[...s.dataNames,_]}}Nt.extendSubschemaData=o;function n(i,{jtdDiscriminator:s,jtdMetadata:a,compositeRule:l,createErrors:u,allErrors:g}){l!==void 0&&(i.compositeRule=l),u!==void 0&&(i.createErrors=u),g!==void 0&&(i.allErrors=g),i.jtdDiscriminator=s,i.jtdMetadata=a}return Nt.extendSubschemaMode=n,Nt}var Qe={},ra=function t(e,r){if(e===r)return!0;if(e&&r&&typeof e=="object"&&typeof r=="object"){if(e.constructor!==r.constructor)return!1;var o,n,i;if(Array.isArray(e)){if(o=e.length,o!=r.length)return!1;for(n=o;n--!==0;)if(!t(e[n],r[n]))return!1;return!0}if(e.constructor===RegExp)return e.source===r.source&&e.flags===r.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===r.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===r.toString();if(i=Object.keys(e),o=i.length,o!==Object.keys(r).length)return!1;for(n=o;n--!==0;)if(!Object.prototype.hasOwnProperty.call(r,i[n]))return!1;for(n=o;n--!==0;){var s=i[n];if(!t(e[s],r[s]))return!1}return!0}return e!==e&&r!==r},zn={},Uo={get exports(){return zn},set exports(t){zn=t}},Lt=Uo.exports=function(t,e,r){typeof e=="function"&&(r=e,e={}),r=e.cb||r;var o=typeof r=="function"?r:r.pre||function(){},n=r.post||function(){};rn(e,o,n,t,"",t)};Lt.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0};Lt.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0};Lt.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0};Lt.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function rn(t,e,r,o,n,i,s,a,l,u){if(o&&typeof o=="object"&&!Array.isArray(o)){e(o,n,i,s,a,l,u);for(var g in o){var h=o[g];if(Array.isArray(h)){if(g in Lt.arrayKeywords)for(var v=0;v<h.length;v++)rn(t,e,r,h[v],n+"/"+g+"/"+v,i,n,g,o,v)}else if(g in Lt.propsKeywords){if(h&&typeof h=="object")for(var c in h)rn(t,e,r,h[c],n+"/"+g+"/"+Fo(c),i,n,g,o,c)}else(g in Lt.keywords||t.allKeys&&!(g in Lt.skipKeywords))&&rn(t,e,r,h,n+"/"+g,i,n,g,o)}r(o,n,i,s,a,l,u)}}function Fo(t){return t.replace(/~/g,"~0").replace(/\//g,"~1")}Object.defineProperty(Qe,"__esModule",{value:!0});Qe.getSchemaRefs=Qe.resolveUrl=Qe.normalizeId=Qe._getFullPath=Qe.getFullPath=Qe.inlineRef=void 0;const Bo=Ne,Mo=ra,Lo=zn,Vo=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function xo(t,e=!0){return typeof t=="boolean"?!0:e===!0?!Un(t):e?na(t)<=e:!1}Qe.inlineRef=xo;const Ko=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function Un(t){for(const e in t){if(Ko.has(e))return!0;const r=t[e];if(Array.isArray(r)&&r.some(Un)||typeof r=="object"&&Un(r))return!0}return!1}function na(t){let e=0;for(const r in t){if(r==="$ref")return 1/0;if(e++,!Vo.has(r)&&(typeof t[r]=="object"&&(0,Bo.eachItem)(t[r],o=>e+=na(o)),e===1/0))return 1/0}return e}function ia(t,e="",r){r!==!1&&(e=fr(e));const o=t.parse(e);return sa(t,o)}Qe.getFullPath=ia;function sa(t,e){return t.serialize(e).split("#")[0]+"#"}Qe._getFullPath=sa;const qo=/#\/?$/;function fr(t){return t?t.replace(qo,""):""}Qe.normalizeId=fr;function Ho(t,e,r){return r=fr(r),t.resolve(e,r)}Qe.resolveUrl=Ho;const Wo=/^[a-z_][-a-z0-9._]*$/i;function Zo(t,e){if(typeof t=="boolean")return{};const{schemaId:r,uriResolver:o}=this.opts,n=fr(t[r]||e),i={"":n},s=ia(o,n,!1),a={},l=new Set;return Lo(t,{allKeys:!0},(h,v,c,_)=>{if(_===void 0)return;const f=s+v;let m=i[_];typeof h[r]=="string"&&(m=d.call(this,h[r])),y.call(this,h.$anchor),y.call(this,h.$dynamicAnchor),i[v]=m;function d(w){const $=this.opts.uriResolver.resolve;if(w=fr(m?$(m,w):w),l.has(w))throw g(w);l.add(w);let A=this.refs[w];return typeof A=="string"&&(A=this.refs[A]),typeof A=="object"?u(h,A.schema,w):w!==fr(f)&&(w[0]==="#"?(u(h,a[w],w),a[w]=h):this.refs[w]=f),w}function y(w){if(typeof w=="string"){if(!Wo.test(w))throw new Error(`invalid anchor "${w}"`);d.call(this,`#${w}`)}}}),a;function u(h,v,c){if(v!==void 0&&!Mo(h,v))throw g(c)}function g(h){return new Error(`reference "${h}" resolves to more than one schema`)}}Qe.getSchemaRefs=Zo;var ss;function _n(){if(ss)return Ot;ss=1,Object.defineProperty(Ot,"__esModule",{value:!0}),Ot.getData=Ot.KeywordCxt=Ot.validateFunctionCode=void 0;const t=vo(),e=zr,r=Xs(),o=zr,n=ko(),i=jo(),s=zo(),a=Pe,l=Kt(),u=Qe,g=Ne,h=Fr;function v(B){if(A(B)&&(E(B),$(B))){m(B);return}c(B,()=>(0,t.topBoolOrEmptySchema)(B))}Ot.validateFunctionCode=v;function c({gen:B,validateName:q,schema:te,schemaEnv:p,opts:x},V){x.code.es5?B.func(q,(0,a._)`${l.default.data}, ${l.default.valCxt}`,p.$async,()=>{B.code((0,a._)`"use strict"; ${y(te,x)}`),f(B,x),B.code(V)}):B.func(q,(0,a._)`${l.default.data}, ${_(x)}`,p.$async,()=>B.code(y(te,x)).code(V))}function _(B){return(0,a._)`{${l.default.instancePath}="", ${l.default.parentData}, ${l.default.parentDataProperty}, ${l.default.rootData}=${l.default.data}${B.dynamicRef?(0,a._)`, ${l.default.dynamicAnchors}={}`:a.nil}}={}`}function f(B,q){B.if(l.default.valCxt,()=>{B.var(l.default.instancePath,(0,a._)`${l.default.valCxt}.${l.default.instancePath}`),B.var(l.default.parentData,(0,a._)`${l.default.valCxt}.${l.default.parentData}`),B.var(l.default.parentDataProperty,(0,a._)`${l.default.valCxt}.${l.default.parentDataProperty}`),B.var(l.default.rootData,(0,a._)`${l.default.valCxt}.${l.default.rootData}`),q.dynamicRef&&B.var(l.default.dynamicAnchors,(0,a._)`${l.default.valCxt}.${l.default.dynamicAnchors}`)},()=>{B.var(l.default.instancePath,(0,a._)`""`),B.var(l.default.parentData,(0,a._)`undefined`),B.var(l.default.parentDataProperty,(0,a._)`undefined`),B.var(l.default.rootData,l.default.data),q.dynamicRef&&B.var(l.default.dynamicAnchors,(0,a._)`{}`)})}function m(B){const{schema:q,opts:te,gen:p}=B;c(B,()=>{te.$comment&&q.$comment&&Z(B),K(B),p.let(l.default.vErrors,null),p.let(l.default.errors,0),te.unevaluated&&d(B),j(B),b(B)})}function d(B){const{gen:q,validateName:te}=B;B.evaluated=q.const("evaluated",(0,a._)`${te}.evaluated`),q.if((0,a._)`${B.evaluated}.dynamicProps`,()=>q.assign((0,a._)`${B.evaluated}.props`,(0,a._)`undefined`)),q.if((0,a._)`${B.evaluated}.dynamicItems`,()=>q.assign((0,a._)`${B.evaluated}.items`,(0,a._)`undefined`))}function y(B,q){const te=typeof B=="object"&&B[q.schemaId];return te&&(q.code.source||q.code.process)?(0,a._)`/*# sourceURL=${te} */`:a.nil}function w(B,q){if(A(B)&&(E(B),$(B))){I(B,q);return}(0,t.boolOrEmptySchema)(B,q)}function $({schema:B,self:q}){if(typeof B=="boolean")return!B;for(const te in B)if(q.RULES.all[te])return!0;return!1}function A(B){return typeof B.schema!="boolean"}function I(B,q){const{schema:te,gen:p,opts:x}=B;x.$comment&&te.$comment&&Z(B),ae(B),T(B);const V=p.const("_errs",l.default.errors);j(B,V),p.var(q,(0,a._)`${V} === ${l.default.errors}`)}function E(B){(0,g.checkUnknownRules)(B),z(B)}function j(B,q){if(B.opts.jtd)return _e(B,[],!1,q);const te=(0,e.getSchemaTypes)(B.schema),p=(0,e.coerceAndCheckDataType)(B,te);_e(B,te,!p,q)}function z(B){const{schema:q,errSchemaPath:te,opts:p,self:x}=B;q.$ref&&p.ignoreKeywordsWithRef&&(0,g.schemaHasRulesButRef)(q,x.RULES)&&x.logger.warn(`$ref: keywords ignored in schema at path "${te}"`)}function K(B){const{schema:q,opts:te}=B;q.default!==void 0&&te.useDefaults&&te.strictSchema&&(0,g.checkStrictMode)(B,"default is ignored in the schema root")}function ae(B){const q=B.schema[B.opts.schemaId];q&&(B.baseId=(0,u.resolveUrl)(B.opts.uriResolver,B.baseId,q))}function T(B){if(B.schema.$async&&!B.schemaEnv.$async)throw new Error("async schema in sync schema")}function Z({gen:B,schemaEnv:q,schema:te,errSchemaPath:p,opts:x}){const V=te.$comment;if(x.$comment===!0)B.code((0,a._)`${l.default.self}.logger.log(${V})`);else if(typeof x.$comment=="function"){const R=(0,a.str)`${p}/$comment`,P=B.scopeValue("root",{ref:q.root});B.code((0,a._)`${l.default.self}.opts.$comment(${V}, ${R}, ${P}.schema)`)}}function b(B){const{gen:q,schemaEnv:te,validateName:p,ValidationError:x,opts:V}=B;te.$async?q.if((0,a._)`${l.default.errors} === 0`,()=>q.return(l.default.data),()=>q.throw((0,a._)`new ${x}(${l.default.vErrors})`)):(q.assign((0,a._)`${p}.errors`,l.default.vErrors),V.unevaluated&&X(B),q.return((0,a._)`${l.default.errors} === 0`))}function X({gen:B,evaluated:q,props:te,items:p}){te instanceof a.Name&&B.assign((0,a._)`${q}.props`,te),p instanceof a.Name&&B.assign((0,a._)`${q}.items`,p)}function _e(B,q,te,p){const{gen:x,schema:V,data:R,allErrors:P,opts:M,self:ee}=B,{RULES:re}=ee;if(V.$ref&&(M.ignoreKeywordsWithRef||!(0,g.schemaHasRulesButRef)(V,re))){x.block(()=>oe(B,"$ref",re.all.$ref.definition));return}M.jtd||pe(B,q),x.block(()=>{for(const ie of re.rules)H(ie);H(re.post)});function H(ie){(0,r.shouldUseGroup)(V,ie)&&(ie.type?(x.if((0,o.checkDataType)(ie.type,R,M.strictNumbers)),ne(B,ie),q.length===1&&q[0]===ie.type&&te&&(x.else(),(0,o.reportTypeError)(B)),x.endIf()):ne(B,ie),P||x.if((0,a._)`${l.default.errors} === ${p||0}`))}}function ne(B,q){const{gen:te,schema:p,opts:{useDefaults:x}}=B;x&&(0,n.assignDefaults)(B,q.type),te.block(()=>{for(const V of q.rules)(0,r.shouldUseRule)(p,V)&&oe(B,V.keyword,V.definition,q.type)})}function pe(B,q){B.schemaEnv.meta||!B.opts.strictTypes||(J(B,q),B.opts.allowUnionTypes||W(B,q),S(B,B.dataTypes))}function J(B,q){if(q.length){if(!B.dataTypes.length){B.dataTypes=q;return}q.forEach(te=>{U(B.dataTypes,te)||C(B,`type "${te}" not allowed by context "${B.dataTypes.join(",")}"`)}),k(B,q)}}function W(B,q){q.length>1&&!(q.length===2&&q.includes("null"))&&C(B,"use allowUnionTypes to allow union type keyword")}function S(B,q){const te=B.self.RULES.all;for(const p in te){const x=te[p];if(typeof x=="object"&&(0,r.shouldUseRule)(B.schema,x)){const{type:V}=x.definition;V.length&&!V.some(R=>N(q,R))&&C(B,`missing type "${V.join(",")}" for keyword "${p}"`)}}}function N(B,q){return B.includes(q)||q==="number"&&B.includes("integer")}function U(B,q){return B.includes(q)||q==="integer"&&B.includes("number")}function k(B,q){const te=[];for(const p of B.dataTypes)U(q,p)?te.push(p):q.includes("integer")&&p==="number"&&te.push("integer");B.dataTypes=te}function C(B,q){const te=B.schemaEnv.baseId+B.errSchemaPath;q+=` at "${te}" (strictTypes)`,(0,g.checkStrictMode)(B,q,B.opts.strictTypes)}class G{constructor(q,te,p){if((0,i.validateKeywordUsage)(q,te,p),this.gen=q.gen,this.allErrors=q.allErrors,this.keyword=p,this.data=q.data,this.schema=q.schema[p],this.$data=te.$data&&q.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,g.schemaRefOrVal)(q,this.schema,p,this.$data),this.schemaType=te.schemaType,this.parentSchema=q.schema,this.params={},this.it=q,this.def=te,this.$data)this.schemaCode=q.gen.const("vSchema",ye(this.$data,q));else if(this.schemaCode=this.schemaValue,!(0,i.validSchemaType)(this.schema,te.schemaType,te.allowUndefined))throw new Error(`${p} value must be ${JSON.stringify(te.schemaType)}`);("code"in te?te.trackErrors:te.errors!==!1)&&(this.errsCount=q.gen.const("_errs",l.default.errors))}result(q,te,p){this.failResult((0,a.not)(q),te,p)}failResult(q,te,p){this.gen.if(q),p?p():this.error(),te?(this.gen.else(),te(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(q,te){this.failResult((0,a.not)(q),void 0,te)}fail(q){if(q===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(q),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(q){if(!this.$data)return this.fail(q);const{schemaCode:te}=this;this.fail((0,a._)`${te} !== undefined && (${(0,a.or)(this.invalid$data(),q)})`)}error(q,te,p){if(te){this.setParams(te),this._error(q,p),this.setParams({});return}this._error(q,p)}_error(q,te){(q?h.reportExtraError:h.reportError)(this,this.def.error,te)}$dataError(){(0,h.reportError)(this,this.def.$dataError||h.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,h.resetErrorsCount)(this.gen,this.errsCount)}ok(q){this.allErrors||this.gen.if(q)}setParams(q,te){te?Object.assign(this.params,q):this.params=q}block$data(q,te,p=a.nil){this.gen.block(()=>{this.check$data(q,p),te()})}check$data(q=a.nil,te=a.nil){if(!this.$data)return;const{gen:p,schemaCode:x,schemaType:V,def:R}=this;p.if((0,a.or)((0,a._)`${x} === undefined`,te)),q!==a.nil&&p.assign(q,!0),(V.length||R.validateSchema)&&(p.elseIf(this.invalid$data()),this.$dataError(),q!==a.nil&&p.assign(q,!1)),p.else()}invalid$data(){const{gen:q,schemaCode:te,schemaType:p,def:x,it:V}=this;return(0,a.or)(R(),P());function R(){if(p.length){if(!(te instanceof a.Name))throw new Error("ajv implementation error");const M=Array.isArray(p)?p:[p];return(0,a._)`${(0,o.checkDataTypes)(M,te,V.opts.strictNumbers,o.DataType.Wrong)}`}return a.nil}function P(){if(x.validateSchema){const M=q.scopeValue("validate$data",{ref:x.validateSchema});return(0,a._)`!${M}(${te})`}return a.nil}}subschema(q,te){const p=(0,s.getSubschema)(this.it,q);(0,s.extendSubschemaData)(p,this.it,q),(0,s.extendSubschemaMode)(p,q);const x={...this.it,...p,items:void 0,props:void 0};return w(x,te),x}mergeEvaluated(q,te){const{it:p,gen:x}=this;p.opts.unevaluated&&(p.props!==!0&&q.props!==void 0&&(p.props=g.mergeEvaluated.props(x,q.props,p.props,te)),p.items!==!0&&q.items!==void 0&&(p.items=g.mergeEvaluated.items(x,q.items,p.items,te)))}mergeValidEvaluated(q,te){const{it:p,gen:x}=this;if(p.opts.unevaluated&&(p.props!==!0||p.items!==!0))return x.if(te,()=>this.mergeEvaluated(q,a.Name)),!0}}Ot.KeywordCxt=G;function oe(B,q,te,p){const x=new G(B,te,q);"code"in te?te.code(x,p):x.$data&&te.validate?(0,i.funcKeywordCode)(x,te):"macro"in te?(0,i.macroKeywordCode)(x,te):(te.compile||te.validate)&&(0,i.funcKeywordCode)(x,te)}const se=/^\/(?:[^~]|~0|~1)*$/,de=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function ye(B,{dataLevel:q,dataNames:te,dataPathArr:p}){let x,V;if(B==="")return l.default.rootData;if(B[0]==="/"){if(!se.test(B))throw new Error(`Invalid JSON-pointer: ${B}`);x=B,V=l.default.rootData}else{const ee=de.exec(B);if(!ee)throw new Error(`Invalid JSON-pointer: ${B}`);const re=+ee[1];if(x=ee[2],x==="#"){if(re>=q)throw new Error(M("property/index",re));return p[q-re]}if(re>q)throw new Error(M("data",re));if(V=te[q-re],!x)return V}let R=V;const P=x.split("/");for(const ee of P)ee&&(V=(0,a._)`${V}${(0,a.getProperty)((0,g.unescapeJsonPointer)(ee))}`,R=(0,a._)`${R} && ${V}`);return R;function M(ee,re){return`Cannot access ${ee} ${re} levels up, current level is ${q}`}}return Ot.getData=ye,Ot}var Br={};Object.defineProperty(Br,"__esModule",{value:!0});class Go extends Error{constructor(e){super("validation failed"),this.errors=e,this.ajv=this.validation=!0}}Br.default=Go;var Mr={};Object.defineProperty(Mr,"__esModule",{value:!0});const En=Qe;class Jo extends Error{constructor(e,r,o,n){super(n||`can't resolve reference ${o} from id ${r}`),this.missingRef=(0,En.resolveUrl)(e,r,o),this.missingSchema=(0,En.normalizeId)((0,En.getFullPath)(e,this.missingRef))}}Mr.default=Jo;var rt={};Object.defineProperty(rt,"__esModule",{value:!0});rt.resolveSchema=rt.getCompilingSchema=rt.resolveRef=rt.compileSchema=rt.SchemaEnv=void 0;const _t=Pe,Qo=Br,Jt=Kt(),wt=Qe,as=Ne,Yo=_n();class gn{constructor(e){var r;this.refs={},this.dynamicAnchors={};let o;typeof e.schema=="object"&&(o=e.schema),this.schema=e.schema,this.schemaId=e.schemaId,this.root=e.root||this,this.baseId=(r=e.baseId)!==null&&r!==void 0?r:(0,wt.normalizeId)(o==null?void 0:o[e.schemaId||"$id"]),this.schemaPath=e.schemaPath,this.localRefs=e.localRefs,this.meta=e.meta,this.$async=o==null?void 0:o.$async,this.refs={}}}rt.SchemaEnv=gn;function Zn(t){const e=aa.call(this,t);if(e)return e;const r=(0,wt.getFullPath)(this.opts.uriResolver,t.root.baseId),{es5:o,lines:n}=this.opts.code,{ownProperties:i}=this.opts,s=new _t.CodeGen(this.scope,{es5:o,lines:n,ownProperties:i});let a;t.$async&&(a=s.scopeValue("Error",{ref:Qo.default,code:(0,_t._)`require("ajv/dist/runtime/validation_error").default`}));const l=s.scopeName("validate");t.validateName=l;const u={gen:s,allErrors:this.opts.allErrors,data:Jt.default.data,parentData:Jt.default.parentData,parentDataProperty:Jt.default.parentDataProperty,dataNames:[Jt.default.data],dataPathArr:[_t.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:s.scopeValue("schema",this.opts.code.source===!0?{ref:t.schema,code:(0,_t.stringify)(t.schema)}:{ref:t.schema}),validateName:l,ValidationError:a,schema:t.schema,schemaEnv:t,rootId:r,baseId:t.baseId||r,schemaPath:_t.nil,errSchemaPath:t.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,_t._)`""`,opts:this.opts,self:this};let g;try{this._compilations.add(t),(0,Yo.validateFunctionCode)(u),s.optimize(this.opts.code.optimize);const h=s.toString();g=`${s.scopeRefs(Jt.default.scope)}return ${h}`,this.opts.code.process&&(g=this.opts.code.process(g,t));const c=new Function(`${Jt.default.self}`,`${Jt.default.scope}`,g)(this,this.scope.get());if(this.scope.value(l,{ref:c}),c.errors=null,c.schema=t.schema,c.schemaEnv=t,t.$async&&(c.$async=!0),this.opts.code.source===!0&&(c.source={validateName:l,validateCode:h,scopeValues:s._values}),this.opts.unevaluated){const{props:_,items:f}=u;c.evaluated={props:_ instanceof _t.Name?void 0:_,items:f instanceof _t.Name?void 0:f,dynamicProps:_ instanceof _t.Name,dynamicItems:f instanceof _t.Name},c.source&&(c.source.evaluated=(0,_t.stringify)(c.evaluated))}return t.validate=c,t}catch(h){throw delete t.validate,delete t.validateName,g&&this.logger.error("Error compiling schema, function code:",g),h}finally{this._compilations.delete(t)}}rt.compileSchema=Zn;function Xo(t,e,r){var o;r=(0,wt.resolveUrl)(this.opts.uriResolver,e,r);const n=t.refs[r];if(n)return n;let i=rl.call(this,t,r);if(i===void 0){const s=(o=t.localRefs)===null||o===void 0?void 0:o[r],{schemaId:a}=this.opts;s&&(i=new gn({schema:s,schemaId:a,root:t,baseId:e}))}if(i!==void 0)return t.refs[r]=el.call(this,i)}rt.resolveRef=Xo;function el(t){return(0,wt.inlineRef)(t.schema,this.opts.inlineRefs)?t.schema:t.validate?t:Zn.call(this,t)}function aa(t){for(const e of this._compilations)if(tl(e,t))return e}rt.getCompilingSchema=aa;function tl(t,e){return t.schema===e.schema&&t.root===e.root&&t.baseId===e.baseId}function rl(t,e){let r;for(;typeof(r=this.refs[e])=="string";)e=r;return r||this.schemas[e]||vn.call(this,t,e)}function vn(t,e){const r=this.opts.uriResolver.parse(e),o=(0,wt._getFullPath)(this.opts.uriResolver,r);let n=(0,wt.getFullPath)(this.opts.uriResolver,t.baseId,void 0);if(Object.keys(t.schema).length>0&&o===n)return Sn.call(this,r,t);const i=(0,wt.normalizeId)(o),s=this.refs[i]||this.schemas[i];if(typeof s=="string"){const a=vn.call(this,t,s);return typeof(a==null?void 0:a.schema)!="object"?void 0:Sn.call(this,r,a)}if(typeof(s==null?void 0:s.schema)=="object"){if(s.validate||Zn.call(this,s),i===(0,wt.normalizeId)(e)){const{schema:a}=s,{schemaId:l}=this.opts,u=a[l];return u&&(n=(0,wt.resolveUrl)(this.opts.uriResolver,n,u)),new gn({schema:a,schemaId:l,root:t,baseId:n})}return Sn.call(this,r,s)}}rt.resolveSchema=vn;const nl=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function Sn(t,{baseId:e,schema:r,root:o}){var n;if(((n=t.fragment)===null||n===void 0?void 0:n[0])!=="/")return;for(const a of t.fragment.slice(1).split("/")){if(typeof r=="boolean")return;const l=r[(0,as.unescapeFragment)(a)];if(l===void 0)return;r=l;const u=typeof r=="object"&&r[this.opts.schemaId];!nl.has(a)&&u&&(e=(0,wt.resolveUrl)(this.opts.uriResolver,e,u))}let i;if(typeof r!="boolean"&&r.$ref&&!(0,as.schemaHasRulesButRef)(r,this.RULES)){const a=(0,wt.resolveUrl)(this.opts.uriResolver,e,r.$ref);i=vn.call(this,o,a)}const{schemaId:s}=this.opts;if(i=i||new gn({schema:r,schemaId:s,root:o,baseId:e}),i.schema!==i.root.schema)return i}const il="https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",sl="Meta-schema for $data reference (JSON AnySchema extension proposal)",al="object",ol=["$data"],ll={$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},cl=!1,ul={$id:il,description:sl,type:al,required:ol,properties:ll,additionalProperties:cl};var Gn={},un={},fl={get exports(){return un},set exports(t){un=t}};/** @license URI.js v4.4.1 (c) 2011 Gary Court. License: http://github.com/garycourt/uri-js */(function(t,e){(function(r,o){o(e)})(Er,function(r){function o(){for(var D=arguments.length,O=Array(D),F=0;F<D;F++)O[F]=arguments[F];if(O.length>1){O[0]=O[0].slice(0,-1);for(var Y=O.length-1,Q=1;Q<Y;++Q)O[Q]=O[Q].slice(1,-1);return O[Y]=O[Y].slice(1),O.join("")}else return O[0]}function n(D){return"(?:"+D+")"}function i(D){return D===void 0?"undefined":D===null?"null":Object.prototype.toString.call(D).split(" ").pop().split("]").shift().toLowerCase()}function s(D){return D.toUpperCase()}function a(D){return D!=null?D instanceof Array?D:typeof D.length!="number"||D.split||D.setInterval||D.call?[D]:Array.prototype.slice.call(D):[]}function l(D,O){var F=D;if(O)for(var Y in O)F[Y]=O[Y];return F}function u(D){var O="[A-Za-z]",F="[0-9]",Y=o(F,"[A-Fa-f]"),Q=n(n("%[EFef]"+Y+"%"+Y+Y+"%"+Y+Y)+"|"+n("%[89A-Fa-f]"+Y+"%"+Y+Y)+"|"+n("%"+Y+Y)),be="[\\:\\/\\?\\#\\[\\]\\@]",we="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",Re=o(be,we),Fe=D?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]",Ke=D?"[\\uE000-\\uF8FF]":"[]",Oe=o(O,F,"[\\-\\.\\_\\~]",Fe);n(O+o(O,F,"[\\+\\-\\.]")+"*"),n(n(Q+"|"+o(Oe,we,"[\\:]"))+"*");var ze=n(n("25[0-5]")+"|"+n("2[0-4]"+F)+"|"+n("1"+F+F)+"|"+n("0?[1-9]"+F)+"|0?0?"+F),qe=n(ze+"\\."+ze+"\\."+ze+"\\."+ze),Ae=n(Y+"{1,4}"),Me=n(n(Ae+"\\:"+Ae)+"|"+qe),Ze=n(n(Ae+"\\:")+"{6}"+Me),Le=n("\\:\\:"+n(Ae+"\\:")+"{5}"+Me),Ut=n(n(Ae)+"?\\:\\:"+n(Ae+"\\:")+"{4}"+Me),Et=n(n(n(Ae+"\\:")+"{0,1}"+Ae)+"?\\:\\:"+n(Ae+"\\:")+"{3}"+Me),St=n(n(n(Ae+"\\:")+"{0,2}"+Ae)+"?\\:\\:"+n(Ae+"\\:")+"{2}"+Me),ir=n(n(n(Ae+"\\:")+"{0,3}"+Ae)+"?\\:\\:"+Ae+"\\:"+Me),Wt=n(n(n(Ae+"\\:")+"{0,4}"+Ae)+"?\\:\\:"+Me),ut=n(n(n(Ae+"\\:")+"{0,5}"+Ae)+"?\\:\\:"+Ae),Ct=n(n(n(Ae+"\\:")+"{0,6}"+Ae)+"?\\:\\:"),Zt=n([Ze,Le,Ut,Et,St,ir,Wt,ut,Ct].join("|")),Pt=n(n(Oe+"|"+Q)+"+");n("[vV]"+Y+"+\\."+o(Oe,we,"[\\:]")+"+"),n(n(Q+"|"+o(Oe,we))+"*");var br=n(Q+"|"+o(Oe,we,"[\\:\\@]"));return n(n(Q+"|"+o(Oe,we,"[\\@]"))+"+"),n(n(br+"|"+o("[\\/\\?]",Ke))+"*"),{NOT_SCHEME:new RegExp(o("[^]",O,F,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(o("[^\\%\\:]",Oe,we),"g"),NOT_HOST:new RegExp(o("[^\\%\\[\\]\\:]",Oe,we),"g"),NOT_PATH:new RegExp(o("[^\\%\\/\\:\\@]",Oe,we),"g"),NOT_PATH_NOSCHEME:new RegExp(o("[^\\%\\/\\@]",Oe,we),"g"),NOT_QUERY:new RegExp(o("[^\\%]",Oe,we,"[\\:\\@\\/\\?]",Ke),"g"),NOT_FRAGMENT:new RegExp(o("[^\\%]",Oe,we,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(o("[^]",Oe,we),"g"),UNRESERVED:new RegExp(Oe,"g"),OTHER_CHARS:new RegExp(o("[^\\%]",Oe,Re),"g"),PCT_ENCODED:new RegExp(Q,"g"),IPV4ADDRESS:new RegExp("^("+qe+")$"),IPV6ADDRESS:new RegExp("^\\[?("+Zt+")"+n(n("\\%25|\\%(?!"+Y+"{2})")+"("+Pt+")")+"?\\]?$")}}var g=u(!1),h=u(!0),v=function(){function D(O,F){var Y=[],Q=!0,be=!1,we=void 0;try{for(var Re=O[Symbol.iterator](),Fe;!(Q=(Fe=Re.next()).done)&&(Y.push(Fe.value),!(F&&Y.length===F));Q=!0);}catch(Ke){be=!0,we=Ke}finally{try{!Q&&Re.return&&Re.return()}finally{if(be)throw we}}return Y}return function(O,F){if(Array.isArray(O))return O;if(Symbol.iterator in Object(O))return D(O,F);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),c=function(D){if(Array.isArray(D)){for(var O=0,F=Array(D.length);O<D.length;O++)F[O]=D[O];return F}else return Array.from(D)},_=2147483647,f=36,m=1,d=26,y=38,w=700,$=72,A=128,I="-",E=/^xn--/,j=/[^\0-\x7E]/,z=/[\x2E\u3002\uFF0E\uFF61]/g,K={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},ae=f-m,T=Math.floor,Z=String.fromCharCode;function b(D){throw new RangeError(K[D])}function X(D,O){for(var F=[],Y=D.length;Y--;)F[Y]=O(D[Y]);return F}function _e(D,O){var F=D.split("@"),Y="";F.length>1&&(Y=F[0]+"@",D=F[1]),D=D.replace(z,".");var Q=D.split("."),be=X(Q,O).join(".");return Y+be}function ne(D){for(var O=[],F=0,Y=D.length;F<Y;){var Q=D.charCodeAt(F++);if(Q>=55296&&Q<=56319&&F<Y){var be=D.charCodeAt(F++);(be&64512)==56320?O.push(((Q&1023)<<10)+(be&1023)+65536):(O.push(Q),F--)}else O.push(Q)}return O}var pe=function(O){return String.fromCodePoint.apply(String,c(O))},J=function(O){return O-48<10?O-22:O-65<26?O-65:O-97<26?O-97:f},W=function(O,F){return O+22+75*(O<26)-((F!=0)<<5)},S=function(O,F,Y){var Q=0;for(O=Y?T(O/w):O>>1,O+=T(O/F);O>ae*d>>1;Q+=f)O=T(O/ae);return T(Q+(ae+1)*O/(O+y))},N=function(O){var F=[],Y=O.length,Q=0,be=A,we=$,Re=O.lastIndexOf(I);Re<0&&(Re=0);for(var Fe=0;Fe<Re;++Fe)O.charCodeAt(Fe)>=128&&b("not-basic"),F.push(O.charCodeAt(Fe));for(var Ke=Re>0?Re+1:0;Ke<Y;){for(var Oe=Q,ze=1,qe=f;;qe+=f){Ke>=Y&&b("invalid-input");var Ae=J(O.charCodeAt(Ke++));(Ae>=f||Ae>T((_-Q)/ze))&&b("overflow"),Q+=Ae*ze;var Me=qe<=we?m:qe>=we+d?d:qe-we;if(Ae<Me)break;var Ze=f-Me;ze>T(_/Ze)&&b("overflow"),ze*=Ze}var Le=F.length+1;we=S(Q-Oe,Le,Oe==0),T(Q/Le)>_-be&&b("overflow"),be+=T(Q/Le),Q%=Le,F.splice(Q++,0,be)}return String.fromCodePoint.apply(String,F)},U=function(O){var F=[];O=ne(O);var Y=O.length,Q=A,be=0,we=$,Re=!0,Fe=!1,Ke=void 0;try{for(var Oe=O[Symbol.iterator](),ze;!(Re=(ze=Oe.next()).done);Re=!0){var qe=ze.value;qe<128&&F.push(Z(qe))}}catch(wr){Fe=!0,Ke=wr}finally{try{!Re&&Oe.return&&Oe.return()}finally{if(Fe)throw Ke}}var Ae=F.length,Me=Ae;for(Ae&&F.push(I);Me<Y;){var Ze=_,Le=!0,Ut=!1,Et=void 0;try{for(var St=O[Symbol.iterator](),ir;!(Le=(ir=St.next()).done);Le=!0){var Wt=ir.value;Wt>=Q&&Wt<Ze&&(Ze=Wt)}}catch(wr){Ut=!0,Et=wr}finally{try{!Le&&St.return&&St.return()}finally{if(Ut)throw Et}}var ut=Me+1;Ze-Q>T((_-be)/ut)&&b("overflow"),be+=(Ze-Q)*ut,Q=Ze;var Ct=!0,Zt=!1,Pt=void 0;try{for(var br=O[Symbol.iterator](),Ni;!(Ct=(Ni=br.next()).done);Ct=!0){var Ti=Ni.value;if(Ti<Q&&++be>_&&b("overflow"),Ti==Q){for(var xr=be,Kr=f;;Kr+=f){var qr=Kr<=we?m:Kr>=we+d?d:Kr-we;if(xr<qr)break;var Di=xr-qr,ji=f-qr;F.push(Z(W(qr+Di%ji,0))),xr=T(Di/ji)}F.push(Z(W(xr,0))),we=S(be,ut,Me==Ae),be=0,++Me}}}catch(wr){Zt=!0,Pt=wr}finally{try{!Ct&&br.return&&br.return()}finally{if(Zt)throw Pt}}++be,++Q}return F.join("")},k=function(O){return _e(O,function(F){return E.test(F)?N(F.slice(4).toLowerCase()):F})},C=function(O){return _e(O,function(F){return j.test(F)?"xn--"+U(F):F})},G={version:"2.1.0",ucs2:{decode:ne,encode:pe},decode:N,encode:U,toASCII:C,toUnicode:k},oe={};function se(D){var O=D.charCodeAt(0),F=void 0;return O<16?F="%0"+O.toString(16).toUpperCase():O<128?F="%"+O.toString(16).toUpperCase():O<2048?F="%"+(O>>6|192).toString(16).toUpperCase()+"%"+(O&63|128).toString(16).toUpperCase():F="%"+(O>>12|224).toString(16).toUpperCase()+"%"+(O>>6&63|128).toString(16).toUpperCase()+"%"+(O&63|128).toString(16).toUpperCase(),F}function de(D){for(var O="",F=0,Y=D.length;F<Y;){var Q=parseInt(D.substr(F+1,2),16);if(Q<128)O+=String.fromCharCode(Q),F+=3;else if(Q>=194&&Q<224){if(Y-F>=6){var be=parseInt(D.substr(F+4,2),16);O+=String.fromCharCode((Q&31)<<6|be&63)}else O+=D.substr(F,6);F+=6}else if(Q>=224){if(Y-F>=9){var we=parseInt(D.substr(F+4,2),16),Re=parseInt(D.substr(F+7,2),16);O+=String.fromCharCode((Q&15)<<12|(we&63)<<6|Re&63)}else O+=D.substr(F,9);F+=9}else O+=D.substr(F,3),F+=3}return O}function ye(D,O){function F(Y){var Q=de(Y);return Q.match(O.UNRESERVED)?Q:Y}return D.scheme&&(D.scheme=String(D.scheme).replace(O.PCT_ENCODED,F).toLowerCase().replace(O.NOT_SCHEME,"")),D.userinfo!==void 0&&(D.userinfo=String(D.userinfo).replace(O.PCT_ENCODED,F).replace(O.NOT_USERINFO,se).replace(O.PCT_ENCODED,s)),D.host!==void 0&&(D.host=String(D.host).replace(O.PCT_ENCODED,F).toLowerCase().replace(O.NOT_HOST,se).replace(O.PCT_ENCODED,s)),D.path!==void 0&&(D.path=String(D.path).replace(O.PCT_ENCODED,F).replace(D.scheme?O.NOT_PATH:O.NOT_PATH_NOSCHEME,se).replace(O.PCT_ENCODED,s)),D.query!==void 0&&(D.query=String(D.query).replace(O.PCT_ENCODED,F).replace(O.NOT_QUERY,se).replace(O.PCT_ENCODED,s)),D.fragment!==void 0&&(D.fragment=String(D.fragment).replace(O.PCT_ENCODED,F).replace(O.NOT_FRAGMENT,se).replace(O.PCT_ENCODED,s)),D}function B(D){return D.replace(/^0*(.*)/,"$1")||"0"}function q(D,O){var F=D.match(O.IPV4ADDRESS)||[],Y=v(F,2),Q=Y[1];return Q?Q.split(".").map(B).join("."):D}function te(D,O){var F=D.match(O.IPV6ADDRESS)||[],Y=v(F,3),Q=Y[1],be=Y[2];if(Q){for(var we=Q.toLowerCase().split("::").reverse(),Re=v(we,2),Fe=Re[0],Ke=Re[1],Oe=Ke?Ke.split(":").map(B):[],ze=Fe.split(":").map(B),qe=O.IPV4ADDRESS.test(ze[ze.length-1]),Ae=qe?7:8,Me=ze.length-Ae,Ze=Array(Ae),Le=0;Le<Ae;++Le)Ze[Le]=Oe[Le]||ze[Me+Le]||"";qe&&(Ze[Ae-1]=q(Ze[Ae-1],O));var Ut=Ze.reduce(function(ut,Ct,Zt){if(!Ct||Ct==="0"){var Pt=ut[ut.length-1];Pt&&Pt.index+Pt.length===Zt?Pt.length++:ut.push({index:Zt,length:1})}return ut},[]),Et=Ut.sort(function(ut,Ct){return Ct.length-ut.length})[0],St=void 0;if(Et&&Et.length>1){var ir=Ze.slice(0,Et.index),Wt=Ze.slice(Et.index+Et.length);St=ir.join(":")+"::"+Wt.join(":")}else St=Ze.join(":");return be&&(St+="%"+be),St}else return D}var p=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,x="".match(/(){0}/)[1]===void 0;function V(D){var O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},F={},Y=O.iri!==!1?h:g;O.reference==="suffix"&&(D=(O.scheme?O.scheme+":":"")+"//"+D);var Q=D.match(p);if(Q){x?(F.scheme=Q[1],F.userinfo=Q[3],F.host=Q[4],F.port=parseInt(Q[5],10),F.path=Q[6]||"",F.query=Q[7],F.fragment=Q[8],isNaN(F.port)&&(F.port=Q[5])):(F.scheme=Q[1]||void 0,F.userinfo=D.indexOf("@")!==-1?Q[3]:void 0,F.host=D.indexOf("//")!==-1?Q[4]:void 0,F.port=parseInt(Q[5],10),F.path=Q[6]||"",F.query=D.indexOf("?")!==-1?Q[7]:void 0,F.fragment=D.indexOf("#")!==-1?Q[8]:void 0,isNaN(F.port)&&(F.port=D.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?Q[4]:void 0)),F.host&&(F.host=te(q(F.host,Y),Y)),F.scheme===void 0&&F.userinfo===void 0&&F.host===void 0&&F.port===void 0&&!F.path&&F.query===void 0?F.reference="same-document":F.scheme===void 0?F.reference="relative":F.fragment===void 0?F.reference="absolute":F.reference="uri",O.reference&&O.reference!=="suffix"&&O.reference!==F.reference&&(F.error=F.error||"URI is not a "+O.reference+" reference.");var be=oe[(O.scheme||F.scheme||"").toLowerCase()];if(!O.unicodeSupport&&(!be||!be.unicodeSupport)){if(F.host&&(O.domainHost||be&&be.domainHost))try{F.host=G.toASCII(F.host.replace(Y.PCT_ENCODED,de).toLowerCase())}catch(we){F.error=F.error||"Host's domain name can not be converted to ASCII via punycode: "+we}ye(F,g)}else ye(F,Y);be&&be.parse&&be.parse(F,O)}else F.error=F.error||"URI can not be parsed.";return F}function R(D,O){var F=O.iri!==!1?h:g,Y=[];return D.userinfo!==void 0&&(Y.push(D.userinfo),Y.push("@")),D.host!==void 0&&Y.push(te(q(String(D.host),F),F).replace(F.IPV6ADDRESS,function(Q,be,we){return"["+be+(we?"%25"+we:"")+"]"})),(typeof D.port=="number"||typeof D.port=="string")&&(Y.push(":"),Y.push(String(D.port))),Y.length?Y.join(""):void 0}var P=/^\.\.?\//,M=/^\/\.(\/|$)/,ee=/^\/\.\.(\/|$)/,re=/^\/?(?:.|\n)*?(?=\/|$)/;function H(D){for(var O=[];D.length;)if(D.match(P))D=D.replace(P,"");else if(D.match(M))D=D.replace(M,"/");else if(D.match(ee))D=D.replace(ee,"/"),O.pop();else if(D==="."||D==="..")D="";else{var F=D.match(re);if(F){var Y=F[0];D=D.slice(Y.length),O.push(Y)}else throw new Error("Unexpected dot segment condition")}return O.join("")}function ie(D){var O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},F=O.iri?h:g,Y=[],Q=oe[(O.scheme||D.scheme||"").toLowerCase()];if(Q&&Q.serialize&&Q.serialize(D,O),D.host&&!F.IPV6ADDRESS.test(D.host)){if(O.domainHost||Q&&Q.domainHost)try{D.host=O.iri?G.toUnicode(D.host):G.toASCII(D.host.replace(F.PCT_ENCODED,de).toLowerCase())}catch(Re){D.error=D.error||"Host's domain name can not be converted to "+(O.iri?"Unicode":"ASCII")+" via punycode: "+Re}}ye(D,F),O.reference!=="suffix"&&D.scheme&&(Y.push(D.scheme),Y.push(":"));var be=R(D,O);if(be!==void 0&&(O.reference!=="suffix"&&Y.push("//"),Y.push(be),D.path&&D.path.charAt(0)!=="/"&&Y.push("/")),D.path!==void 0){var we=D.path;!O.absolutePath&&(!Q||!Q.absolutePath)&&(we=H(we)),be===void 0&&(we=we.replace(/^\/\//,"/%2F")),Y.push(we)}return D.query!==void 0&&(Y.push("?"),Y.push(D.query)),D.fragment!==void 0&&(Y.push("#"),Y.push(D.fragment)),Y.join("")}function fe(D,O){var F=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},Y=arguments[3],Q={};return Y||(D=V(ie(D,F),F),O=V(ie(O,F),F)),F=F||{},!F.tolerant&&O.scheme?(Q.scheme=O.scheme,Q.userinfo=O.userinfo,Q.host=O.host,Q.port=O.port,Q.path=H(O.path||""),Q.query=O.query):(O.userinfo!==void 0||O.host!==void 0||O.port!==void 0?(Q.userinfo=O.userinfo,Q.host=O.host,Q.port=O.port,Q.path=H(O.path||""),Q.query=O.query):(O.path?(O.path.charAt(0)==="/"?Q.path=H(O.path):((D.userinfo!==void 0||D.host!==void 0||D.port!==void 0)&&!D.path?Q.path="/"+O.path:D.path?Q.path=D.path.slice(0,D.path.lastIndexOf("/")+1)+O.path:Q.path=O.path,Q.path=H(Q.path)),Q.query=O.query):(Q.path=D.path,O.query!==void 0?Q.query=O.query:Q.query=D.query),Q.userinfo=D.userinfo,Q.host=D.host,Q.port=D.port),Q.scheme=D.scheme),Q.fragment=O.fragment,Q}function le(D,O,F){var Y=l({scheme:"null"},F);return ie(fe(V(D,Y),V(O,Y),Y,!0),Y)}function ve(D,O){return typeof D=="string"?D=ie(V(D,O),O):i(D)==="object"&&(D=V(ie(D,O),O)),D}function Te(D,O,F){return typeof D=="string"?D=ie(V(D,F),F):i(D)==="object"&&(D=ie(D,F)),typeof O=="string"?O=ie(V(O,F),F):i(O)==="object"&&(O=ie(O,F)),D===O}function Ce(D,O){return D&&D.toString().replace(!O||!O.iri?g.ESCAPE:h.ESCAPE,se)}function Ue(D,O){return D&&D.toString().replace(!O||!O.iri?g.PCT_ENCODED:h.PCT_ENCODED,de)}var nt={scheme:"http",domainHost:!0,parse:function(O,F){return O.host||(O.error=O.error||"HTTP URIs must have a host."),O},serialize:function(O,F){var Y=String(O.scheme).toLowerCase()==="https";return(O.port===(Y?443:80)||O.port==="")&&(O.port=void 0),O.path||(O.path="/"),O}},it={scheme:"https",domainHost:nt.domainHost,parse:nt.parse,serialize:nt.serialize};function zt(D){return typeof D.secure=="boolean"?D.secure:String(D.scheme).toLowerCase()==="wss"}var je={scheme:"ws",domainHost:!0,parse:function(O,F){var Y=O;return Y.secure=zt(Y),Y.resourceName=(Y.path||"/")+(Y.query?"?"+Y.query:""),Y.path=void 0,Y.query=void 0,Y},serialize:function(O,F){if((O.port===(zt(O)?443:80)||O.port==="")&&(O.port=void 0),typeof O.secure=="boolean"&&(O.scheme=O.secure?"wss":"ws",O.secure=void 0),O.resourceName){var Y=O.resourceName.split("?"),Q=v(Y,2),be=Q[0],we=Q[1];O.path=be&&be!=="/"?be:void 0,O.query=we,O.resourceName=void 0}return O.fragment=void 0,O}},qt={scheme:"wss",domainHost:je.domainHost,parse:je.parse,serialize:je.serialize},yr={},ct="[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]",st="[0-9A-Fa-f]",bn=n(n("%[EFef]"+st+"%"+st+st+"%"+st+st)+"|"+n("%[89A-Fa-f]"+st+"%"+st+st)+"|"+n("%"+st+st)),wn="[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]",$n="[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",Vr=o($n,'[\\"\\\\]'),Ht="[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]",rr=new RegExp(ct,"g"),nr=new RegExp(bn,"g"),ya=new RegExp(o("[^]",wn,"[\\.]",'[\\"]',Vr),"g"),Ii=new RegExp(o("[^]",ct,Ht),"g"),ba=Ii;function kn(D){var O=de(D);return O.match(rr)?O:D}var Pi={scheme:"mailto",parse:function(O,F){var Y=O,Q=Y.to=Y.path?Y.path.split(","):[];if(Y.path=void 0,Y.query){for(var be=!1,we={},Re=Y.query.split("&"),Fe=0,Ke=Re.length;Fe<Ke;++Fe){var Oe=Re[Fe].split("=");switch(Oe[0]){case"to":for(var ze=Oe[1].split(","),qe=0,Ae=ze.length;qe<Ae;++qe)Q.push(ze[qe]);break;case"subject":Y.subject=Ue(Oe[1],F);break;case"body":Y.body=Ue(Oe[1],F);break;default:be=!0,we[Ue(Oe[0],F)]=Ue(Oe[1],F);break}}be&&(Y.headers=we)}Y.query=void 0;for(var Me=0,Ze=Q.length;Me<Ze;++Me){var Le=Q[Me].split("@");if(Le[0]=Ue(Le[0]),F.unicodeSupport)Le[1]=Ue(Le[1],F).toLowerCase();else try{Le[1]=G.toASCII(Ue(Le[1],F).toLowerCase())}catch(Ut){Y.error=Y.error||"Email address's domain name can not be converted to ASCII via punycode: "+Ut}Q[Me]=Le.join("@")}return Y},serialize:function(O,F){var Y=O,Q=a(O.to);if(Q){for(var be=0,we=Q.length;be<we;++be){var Re=String(Q[be]),Fe=Re.lastIndexOf("@"),Ke=Re.slice(0,Fe).replace(nr,kn).replace(nr,s).replace(ya,se),Oe=Re.slice(Fe+1);try{Oe=F.iri?G.toUnicode(Oe):G.toASCII(Ue(Oe,F).toLowerCase())}catch(Me){Y.error=Y.error||"Email address's domain name can not be converted to "+(F.iri?"Unicode":"ASCII")+" via punycode: "+Me}Q[be]=Ke+"@"+Oe}Y.path=Q.join(",")}var ze=O.headers=O.headers||{};O.subject&&(ze.subject=O.subject),O.body&&(ze.body=O.body);var qe=[];for(var Ae in ze)ze[Ae]!==yr[Ae]&&qe.push(Ae.replace(nr,kn).replace(nr,s).replace(Ii,se)+"="+ze[Ae].replace(nr,kn).replace(nr,s).replace(ba,se));return qe.length&&(Y.query=qe.join("&")),Y}},wa=/^([^\:]+)\:(.*)/,Oi={scheme:"urn",parse:function(O,F){var Y=O.path&&O.path.match(wa),Q=O;if(Y){var be=F.scheme||Q.scheme||"urn",we=Y[1].toLowerCase(),Re=Y[2],Fe=be+":"+(F.nid||we),Ke=oe[Fe];Q.nid=we,Q.nss=Re,Q.path=void 0,Ke&&(Q=Ke.parse(Q,F))}else Q.error=Q.error||"URN can not be parsed.";return Q},serialize:function(O,F){var Y=F.scheme||O.scheme||"urn",Q=O.nid,be=Y+":"+(F.nid||Q),we=oe[be];we&&(O=we.serialize(O,F));var Re=O,Fe=O.nss;return Re.path=(Q||F.nid)+":"+Fe,Re}},$a=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,Ri={scheme:"urn:uuid",parse:function(O,F){var Y=O;return Y.uuid=Y.nss,Y.nss=void 0,!F.tolerant&&(!Y.uuid||!Y.uuid.match($a))&&(Y.error=Y.error||"UUID is not valid."),Y},serialize:function(O,F){var Y=O;return Y.nss=(O.uuid||"").toLowerCase(),Y}};oe[nt.scheme]=nt,oe[it.scheme]=it,oe[je.scheme]=je,oe[qt.scheme]=qt,oe[Pi.scheme]=Pi,oe[Oi.scheme]=Oi,oe[Ri.scheme]=Ri,r.SCHEMES=oe,r.pctEncChar=se,r.pctDecChars=de,r.parse=V,r.removeDotSegments=H,r.serialize=ie,r.resolveComponents=fe,r.resolve=le,r.normalize=ve,r.equal=Te,r.escapeComponent=Ce,r.unescapeComponent=Ue,Object.defineProperty(r,"__esModule",{value:!0})})})(fl,un);Object.defineProperty(Gn,"__esModule",{value:!0});const oa=un;oa.code='require("ajv/dist/runtime/uri").default';Gn.default=oa;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=void 0;var e=_n();Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return e.KeywordCxt}});var r=Pe;Object.defineProperty(t,"_",{enumerable:!0,get:function(){return r._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return r.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return r.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return r.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return r.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return r.CodeGen}});const o=Br,n=Mr,i=er,s=rt,a=Pe,l=Qe,u=zr,g=Ne,h=ul,v=Gn,c=(W,S)=>new RegExp(W,S);c.code="new RegExp";const _=["removeAdditional","useDefaults","coerceTypes"],f=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),m={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},d={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},y=200;function w(W){var S,N,U,k,C,G,oe,se,de,ye,B,q,te,p,x,V,R,P,M,ee,re,H,ie,fe,le;const ve=W.strict,Te=(S=W.code)===null||S===void 0?void 0:S.optimize,Ce=Te===!0||Te===void 0?1:Te||0,Ue=(U=(N=W.code)===null||N===void 0?void 0:N.regExp)!==null&&U!==void 0?U:c,nt=(k=W.uriResolver)!==null&&k!==void 0?k:v.default;return{strictSchema:(G=(C=W.strictSchema)!==null&&C!==void 0?C:ve)!==null&&G!==void 0?G:!0,strictNumbers:(se=(oe=W.strictNumbers)!==null&&oe!==void 0?oe:ve)!==null&&se!==void 0?se:!0,strictTypes:(ye=(de=W.strictTypes)!==null&&de!==void 0?de:ve)!==null&&ye!==void 0?ye:"log",strictTuples:(q=(B=W.strictTuples)!==null&&B!==void 0?B:ve)!==null&&q!==void 0?q:"log",strictRequired:(p=(te=W.strictRequired)!==null&&te!==void 0?te:ve)!==null&&p!==void 0?p:!1,code:W.code?{...W.code,optimize:Ce,regExp:Ue}:{optimize:Ce,regExp:Ue},loopRequired:(x=W.loopRequired)!==null&&x!==void 0?x:y,loopEnum:(V=W.loopEnum)!==null&&V!==void 0?V:y,meta:(R=W.meta)!==null&&R!==void 0?R:!0,messages:(P=W.messages)!==null&&P!==void 0?P:!0,inlineRefs:(M=W.inlineRefs)!==null&&M!==void 0?M:!0,schemaId:(ee=W.schemaId)!==null&&ee!==void 0?ee:"$id",addUsedSchema:(re=W.addUsedSchema)!==null&&re!==void 0?re:!0,validateSchema:(H=W.validateSchema)!==null&&H!==void 0?H:!0,validateFormats:(ie=W.validateFormats)!==null&&ie!==void 0?ie:!0,unicodeRegExp:(fe=W.unicodeRegExp)!==null&&fe!==void 0?fe:!0,int32range:(le=W.int32range)!==null&&le!==void 0?le:!0,uriResolver:nt}}class ${constructor(S={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,S=this.opts={...S,...w(S)};const{es5:N,lines:U}=this.opts.code;this.scope=new a.ValueScope({scope:{},prefixes:f,es5:N,lines:U}),this.logger=T(S.logger);const k=S.validateFormats;S.validateFormats=!1,this.RULES=(0,i.getRules)(),A.call(this,m,S,"NOT SUPPORTED"),A.call(this,d,S,"DEPRECATED","warn"),this._metaOpts=K.call(this),S.formats&&j.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),S.keywords&&z.call(this,S.keywords),typeof S.meta=="object"&&this.addMetaSchema(S.meta),E.call(this),S.validateFormats=k}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:S,meta:N,schemaId:U}=this.opts;let k=h;U==="id"&&(k={...h},k.id=k.$id,delete k.$id),N&&S&&this.addMetaSchema(k,k[U],!1)}defaultMeta(){const{meta:S,schemaId:N}=this.opts;return this.opts.defaultMeta=typeof S=="object"?S[N]||S:void 0}validate(S,N){let U;if(typeof S=="string"){if(U=this.getSchema(S),!U)throw new Error(`no schema with key or ref "${S}"`)}else U=this.compile(S);const k=U(N);return"$async"in U||(this.errors=U.errors),k}compile(S,N){const U=this._addSchema(S,N);return U.validate||this._compileSchemaEnv(U)}compileAsync(S,N){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");const{loadSchema:U}=this.opts;return k.call(this,S,N);async function k(ye,B){await C.call(this,ye.$schema);const q=this._addSchema(ye,B);return q.validate||G.call(this,q)}async function C(ye){ye&&!this.getSchema(ye)&&await k.call(this,{$ref:ye},!0)}async function G(ye){try{return this._compileSchemaEnv(ye)}catch(B){if(!(B instanceof n.default))throw B;return oe.call(this,B),await se.call(this,B.missingSchema),G.call(this,ye)}}function oe({missingSchema:ye,missingRef:B}){if(this.refs[ye])throw new Error(`AnySchema ${ye} is loaded but ${B} cannot be resolved`)}async function se(ye){const B=await de.call(this,ye);this.refs[ye]||await C.call(this,B.$schema),this.refs[ye]||this.addSchema(B,ye,N)}async function de(ye){const B=this._loading[ye];if(B)return B;try{return await(this._loading[ye]=U(ye))}finally{delete this._loading[ye]}}}addSchema(S,N,U,k=this.opts.validateSchema){if(Array.isArray(S)){for(const G of S)this.addSchema(G,void 0,U,k);return this}let C;if(typeof S=="object"){const{schemaId:G}=this.opts;if(C=S[G],C!==void 0&&typeof C!="string")throw new Error(`schema ${G} must be string`)}return N=(0,l.normalizeId)(N||C),this._checkUnique(N),this.schemas[N]=this._addSchema(S,U,N,k,!0),this}addMetaSchema(S,N,U=this.opts.validateSchema){return this.addSchema(S,N,!0,U),this}validateSchema(S,N){if(typeof S=="boolean")return!0;let U;if(U=S.$schema,U!==void 0&&typeof U!="string")throw new Error("$schema must be a string");if(U=U||this.opts.defaultMeta||this.defaultMeta(),!U)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const k=this.validate(U,S);if(!k&&N){const C="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(C);else throw new Error(C)}return k}getSchema(S){let N;for(;typeof(N=I.call(this,S))=="string";)S=N;if(N===void 0){const{schemaId:U}=this.opts,k=new s.SchemaEnv({schema:{},schemaId:U});if(N=s.resolveSchema.call(this,k,S),!N)return;this.refs[S]=N}return N.validate||this._compileSchemaEnv(N)}removeSchema(S){if(S instanceof RegExp)return this._removeAllSchemas(this.schemas,S),this._removeAllSchemas(this.refs,S),this;switch(typeof S){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const N=I.call(this,S);return typeof N=="object"&&this._cache.delete(N.schema),delete this.schemas[S],delete this.refs[S],this}case"object":{const N=S;this._cache.delete(N);let U=S[this.opts.schemaId];return U&&(U=(0,l.normalizeId)(U),delete this.schemas[U],delete this.refs[U]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(S){for(const N of S)this.addKeyword(N);return this}addKeyword(S,N){let U;if(typeof S=="string")U=S,typeof N=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),N.keyword=U);else if(typeof S=="object"&&N===void 0){if(N=S,U=N.keyword,Array.isArray(U)&&!U.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(b.call(this,U,N),!N)return(0,g.eachItem)(U,C=>X.call(this,C)),this;ne.call(this,N);const k={...N,type:(0,u.getJSONTypes)(N.type),schemaType:(0,u.getJSONTypes)(N.schemaType)};return(0,g.eachItem)(U,k.type.length===0?C=>X.call(this,C,k):C=>k.type.forEach(G=>X.call(this,C,k,G))),this}getKeyword(S){const N=this.RULES.all[S];return typeof N=="object"?N.definition:!!N}removeKeyword(S){const{RULES:N}=this;delete N.keywords[S],delete N.all[S];for(const U of N.rules){const k=U.rules.findIndex(C=>C.keyword===S);k>=0&&U.rules.splice(k,1)}return this}addFormat(S,N){return typeof N=="string"&&(N=new RegExp(N)),this.formats[S]=N,this}errorsText(S=this.errors,{separator:N=", ",dataVar:U="data"}={}){return!S||S.length===0?"No errors":S.map(k=>`${U}${k.instancePath} ${k.message}`).reduce((k,C)=>k+N+C)}$dataMetaSchema(S,N){const U=this.RULES.all;S=JSON.parse(JSON.stringify(S));for(const k of N){const C=k.split("/").slice(1);let G=S;for(const oe of C)G=G[oe];for(const oe in U){const se=U[oe];if(typeof se!="object")continue;const{$data:de}=se.definition,ye=G[oe];de&&ye&&(G[oe]=J(ye))}}return S}_removeAllSchemas(S,N){for(const U in S){const k=S[U];(!N||N.test(U))&&(typeof k=="string"?delete S[U]:k&&!k.meta&&(this._cache.delete(k.schema),delete S[U]))}}_addSchema(S,N,U,k=this.opts.validateSchema,C=this.opts.addUsedSchema){let G;const{schemaId:oe}=this.opts;if(typeof S=="object")G=S[oe];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof S!="boolean")throw new Error("schema must be object or boolean")}let se=this._cache.get(S);if(se!==void 0)return se;U=(0,l.normalizeId)(G||U);const de=l.getSchemaRefs.call(this,S,U);return se=new s.SchemaEnv({schema:S,schemaId:oe,meta:N,baseId:U,localRefs:de}),this._cache.set(se.schema,se),C&&!U.startsWith("#")&&(U&&this._checkUnique(U),this.refs[U]=se),k&&this.validateSchema(S,!0),se}_checkUnique(S){if(this.schemas[S]||this.refs[S])throw new Error(`schema with key or id "${S}" already exists`)}_compileSchemaEnv(S){if(S.meta?this._compileMetaSchema(S):s.compileSchema.call(this,S),!S.validate)throw new Error("ajv implementation error");return S.validate}_compileMetaSchema(S){const N=this.opts;this.opts=this._metaOpts;try{s.compileSchema.call(this,S)}finally{this.opts=N}}}t.default=$,$.ValidationError=o.default,$.MissingRefError=n.default;function A(W,S,N,U="error"){for(const k in W){const C=k;C in S&&this.logger[U](`${N}: option ${k}. ${W[C]}`)}}function I(W){return W=(0,l.normalizeId)(W),this.schemas[W]||this.refs[W]}function E(){const W=this.opts.schemas;if(W)if(Array.isArray(W))this.addSchema(W);else for(const S in W)this.addSchema(W[S],S)}function j(){for(const W in this.opts.formats){const S=this.opts.formats[W];S&&this.addFormat(W,S)}}function z(W){if(Array.isArray(W)){this.addVocabulary(W);return}this.logger.warn("keywords option as map is deprecated, pass array");for(const S in W){const N=W[S];N.keyword||(N.keyword=S),this.addKeyword(N)}}function K(){const W={...this.opts};for(const S of _)delete W[S];return W}const ae={log(){},warn(){},error(){}};function T(W){if(W===!1)return ae;if(W===void 0)return console;if(W.log&&W.warn&&W.error)return W;throw new Error("logger must implement log, warn and error methods")}const Z=/^[a-z_$][a-z0-9_$:-]*$/i;function b(W,S){const{RULES:N}=this;if((0,g.eachItem)(W,U=>{if(N.keywords[U])throw new Error(`Keyword ${U} is already defined`);if(!Z.test(U))throw new Error(`Keyword ${U} has invalid name`)}),!!S&&S.$data&&!("code"in S||"validate"in S))throw new Error('$data keyword must have "code" or "validate" function')}function X(W,S,N){var U;const k=S==null?void 0:S.post;if(N&&k)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:C}=this;let G=k?C.post:C.rules.find(({type:se})=>se===N);if(G||(G={type:N,rules:[]},C.rules.push(G)),C.keywords[W]=!0,!S)return;const oe={keyword:W,definition:{...S,type:(0,u.getJSONTypes)(S.type),schemaType:(0,u.getJSONTypes)(S.schemaType)}};S.before?_e.call(this,G,oe,S.before):G.rules.push(oe),C.all[W]=oe,(U=S.implements)===null||U===void 0||U.forEach(se=>this.addKeyword(se))}function _e(W,S,N){const U=W.rules.findIndex(k=>k.keyword===N);U>=0?W.rules.splice(U,0,S):(W.rules.push(S),this.logger.warn(`rule ${N} is not defined`))}function ne(W){let{metaSchema:S}=W;S!==void 0&&(W.$data&&this.opts.$data&&(S=J(S)),W.validateSchema=this.compile(S,!0))}const pe={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function J(W){return{anyOf:[W,pe]}}})(Ys);var Jn={},Qn={},Yn={};Object.defineProperty(Yn,"__esModule",{value:!0});const dl={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};Yn.default=dl;var tr={};Object.defineProperty(tr,"__esModule",{value:!0});tr.callRef=tr.getValidate=void 0;const hl=Mr,os=Ie,tt=Pe,or=Kt(),ls=rt,Gr=Ne,pl={keyword:"$ref",schemaType:"string",code(t){const{gen:e,schema:r,it:o}=t,{baseId:n,schemaEnv:i,validateName:s,opts:a,self:l}=o,{root:u}=i;if((r==="#"||r==="#/")&&n===u.baseId)return h();const g=ls.resolveRef.call(l,u,n,r);if(g===void 0)throw new hl.default(o.opts.uriResolver,n,r);if(g instanceof ls.SchemaEnv)return v(g);return c(g);function h(){if(i===u)return nn(t,s,i,i.$async);const _=e.scopeValue("root",{ref:u});return nn(t,(0,tt._)`${_}.validate`,u,u.$async)}function v(_){const f=la(t,_);nn(t,f,_,_.$async)}function c(_){const f=e.scopeValue("schema",a.code.source===!0?{ref:_,code:(0,tt.stringify)(_)}:{ref:_}),m=e.name("valid"),d=t.subschema({schema:_,dataTypes:[],schemaPath:tt.nil,topSchemaRef:f,errSchemaPath:r},m);t.mergeEvaluated(d),t.ok(m)}}};function la(t,e){const{gen:r}=t;return e.validate?r.scopeValue("validate",{ref:e.validate}):(0,tt._)`${r.scopeValue("wrapper",{ref:e})}.validate`}tr.getValidate=la;function nn(t,e,r,o){const{gen:n,it:i}=t,{allErrors:s,schemaEnv:a,opts:l}=i,u=l.passContext?or.default.this:tt.nil;o?g():h();function g(){if(!a.$async)throw new Error("async schema referenced by sync schema");const _=n.let("valid");n.try(()=>{n.code((0,tt._)`await ${(0,os.callValidateCode)(t,e,u)}`),c(e),s||n.assign(_,!0)},f=>{n.if((0,tt._)`!(${f} instanceof ${i.ValidationError})`,()=>n.throw(f)),v(f),s||n.assign(_,!1)}),t.ok(_)}function h(){t.result((0,os.callValidateCode)(t,e,u),()=>c(e),()=>v(e))}function v(_){const f=(0,tt._)`${_}.errors`;n.assign(or.default.vErrors,(0,tt._)`${or.default.vErrors} === null ? ${f} : ${or.default.vErrors}.concat(${f})`),n.assign(or.default.errors,(0,tt._)`${or.default.vErrors}.length`)}function c(_){var f;if(!i.opts.unevaluated)return;const m=(f=r==null?void 0:r.validate)===null||f===void 0?void 0:f.evaluated;if(i.props!==!0)if(m&&!m.dynamicProps)m.props!==void 0&&(i.props=Gr.mergeEvaluated.props(n,m.props,i.props));else{const d=n.var("props",(0,tt._)`${_}.evaluated.props`);i.props=Gr.mergeEvaluated.props(n,d,i.props,tt.Name)}if(i.items!==!0)if(m&&!m.dynamicItems)m.items!==void 0&&(i.items=Gr.mergeEvaluated.items(n,m.items,i.items));else{const d=n.var("items",(0,tt._)`${_}.evaluated.items`);i.items=Gr.mergeEvaluated.items(n,d,i.items,tt.Name)}}}tr.callRef=nn;tr.default=pl;Object.defineProperty(Qn,"__esModule",{value:!0});const ml=Yn,_l=tr,gl=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",ml.default,_l.default];Qn.default=gl;var Xn={},ei={};Object.defineProperty(ei,"__esModule",{value:!0});const fn=Pe,Bt=fn.operators,dn={maximum:{okStr:"<=",ok:Bt.LTE,fail:Bt.GT},minimum:{okStr:">=",ok:Bt.GTE,fail:Bt.LT},exclusiveMaximum:{okStr:"<",ok:Bt.LT,fail:Bt.GTE},exclusiveMinimum:{okStr:">",ok:Bt.GT,fail:Bt.LTE}},vl={message:({keyword:t,schemaCode:e})=>(0,fn.str)`must be ${dn[t].okStr} ${e}`,params:({keyword:t,schemaCode:e})=>(0,fn._)`{comparison: ${dn[t].okStr}, limit: ${e}}`},yl={keyword:Object.keys(dn),type:"number",schemaType:"number",$data:!0,error:vl,code(t){const{keyword:e,data:r,schemaCode:o}=t;t.fail$data((0,fn._)`${r} ${dn[e].fail} ${o} || isNaN(${r})`)}};ei.default=yl;var ti={};Object.defineProperty(ti,"__esModule",{value:!0});const Pr=Pe,bl={message:({schemaCode:t})=>(0,Pr.str)`must be multiple of ${t}`,params:({schemaCode:t})=>(0,Pr._)`{multipleOf: ${t}}`},wl={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:bl,code(t){const{gen:e,data:r,schemaCode:o,it:n}=t,i=n.opts.multipleOfPrecision,s=e.let("res"),a=i?(0,Pr._)`Math.abs(Math.round(${s}) - ${s}) > 1e-${i}`:(0,Pr._)`${s} !== parseInt(${s})`;t.fail$data((0,Pr._)`(${o} === 0 || (${s} = ${r}/${o}, ${a}))`)}};ti.default=wl;var ri={},ni={};Object.defineProperty(ni,"__esModule",{value:!0});function ca(t){const e=t.length;let r=0,o=0,n;for(;o<e;)r++,n=t.charCodeAt(o++),n>=55296&&n<=56319&&o<e&&(n=t.charCodeAt(o),(n&64512)===56320&&o++);return r}ni.default=ca;ca.code='require("ajv/dist/runtime/ucs2length").default';Object.defineProperty(ri,"__esModule",{value:!0});const Qt=Pe,$l=Ne,kl=ni,Al={message({keyword:t,schemaCode:e}){const r=t==="maxLength"?"more":"fewer";return(0,Qt.str)`must NOT have ${r} than ${e} characters`},params:({schemaCode:t})=>(0,Qt._)`{limit: ${t}}`},El={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:Al,code(t){const{keyword:e,data:r,schemaCode:o,it:n}=t,i=e==="maxLength"?Qt.operators.GT:Qt.operators.LT,s=n.opts.unicode===!1?(0,Qt._)`${r}.length`:(0,Qt._)`${(0,$l.useFunc)(t.gen,kl.default)}(${r})`;t.fail$data((0,Qt._)`${s} ${i} ${o}`)}};ri.default=El;var ii={};Object.defineProperty(ii,"__esModule",{value:!0});const Sl=Ie,hn=Pe,Cl={message:({schemaCode:t})=>(0,hn.str)`must match pattern "${t}"`,params:({schemaCode:t})=>(0,hn._)`{pattern: ${t}}`},Il={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:Cl,code(t){const{data:e,$data:r,schema:o,schemaCode:n,it:i}=t,s=i.opts.unicodeRegExp?"u":"",a=r?(0,hn._)`(new RegExp(${n}, ${s}))`:(0,Sl.usePattern)(t,o);t.fail$data((0,hn._)`!${a}.test(${e})`)}};ii.default=Il;var si={};Object.defineProperty(si,"__esModule",{value:!0});const Or=Pe,Pl={message({keyword:t,schemaCode:e}){const r=t==="maxProperties"?"more":"fewer";return(0,Or.str)`must NOT have ${r} than ${e} properties`},params:({schemaCode:t})=>(0,Or._)`{limit: ${t}}`},Ol={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:Pl,code(t){const{keyword:e,data:r,schemaCode:o}=t,n=e==="maxProperties"?Or.operators.GT:Or.operators.LT;t.fail$data((0,Or._)`Object.keys(${r}).length ${n} ${o}`)}};si.default=Ol;var ai={};Object.defineProperty(ai,"__esModule",{value:!0});const Ar=Ie,Rr=Pe,Rl=Ne,Nl={message:({params:{missingProperty:t}})=>(0,Rr.str)`must have required property '${t}'`,params:({params:{missingProperty:t}})=>(0,Rr._)`{missingProperty: ${t}}`},Tl={keyword:"required",type:"object",schemaType:"array",$data:!0,error:Nl,code(t){const{gen:e,schema:r,schemaCode:o,data:n,$data:i,it:s}=t,{opts:a}=s;if(!i&&r.length===0)return;const l=r.length>=a.loopRequired;if(s.allErrors?u():g(),a.strictRequired){const c=t.parentSchema.properties,{definedProperties:_}=t.it;for(const f of r)if((c==null?void 0:c[f])===void 0&&!_.has(f)){const m=s.schemaEnv.baseId+s.errSchemaPath,d=`required property "${f}" is not defined at "${m}" (strictRequired)`;(0,Rl.checkStrictMode)(s,d,s.opts.strictRequired)}}function u(){if(l||i)t.block$data(Rr.nil,h);else for(const c of r)(0,Ar.checkReportMissingProp)(t,c)}function g(){const c=e.let("missing");if(l||i){const _=e.let("valid",!0);t.block$data(_,()=>v(c,_)),t.ok(_)}else e.if((0,Ar.checkMissingProp)(t,r,c)),(0,Ar.reportMissingProp)(t,c),e.else()}function h(){e.forOf("prop",o,c=>{t.setParams({missingProperty:c}),e.if((0,Ar.noPropertyInData)(e,n,c,a.ownProperties),()=>t.error())})}function v(c,_){t.setParams({missingProperty:c}),e.forOf(c,o,()=>{e.assign(_,(0,Ar.propertyInData)(e,n,c,a.ownProperties)),e.if((0,Rr.not)(_),()=>{t.error(),e.break()})},Rr.nil)}}};ai.default=Tl;var oi={};Object.defineProperty(oi,"__esModule",{value:!0});const Nr=Pe,Dl={message({keyword:t,schemaCode:e}){const r=t==="maxItems"?"more":"fewer";return(0,Nr.str)`must NOT have ${r} than ${e} items`},params:({schemaCode:t})=>(0,Nr._)`{limit: ${t}}`},jl={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:Dl,code(t){const{keyword:e,data:r,schemaCode:o}=t,n=e==="maxItems"?Nr.operators.GT:Nr.operators.LT;t.fail$data((0,Nr._)`${r}.length ${n} ${o}`)}};oi.default=jl;var li={},Lr={};Object.defineProperty(Lr,"__esModule",{value:!0});const ua=ra;ua.code='require("ajv/dist/runtime/equal").default';Lr.default=ua;Object.defineProperty(li,"__esModule",{value:!0});const Cn=zr,Je=Pe,zl=Ne,Ul=Lr,Fl={message:({params:{i:t,j:e}})=>(0,Je.str)`must NOT have duplicate items (items ## ${e} and ${t} are identical)`,params:({params:{i:t,j:e}})=>(0,Je._)`{i: ${t}, j: ${e}}`},Bl={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:Fl,code(t){const{gen:e,data:r,$data:o,schema:n,parentSchema:i,schemaCode:s,it:a}=t;if(!o&&!n)return;const l=e.let("valid"),u=i.items?(0,Cn.getSchemaTypes)(i.items):[];t.block$data(l,g,(0,Je._)`${s} === false`),t.ok(l);function g(){const _=e.let("i",(0,Je._)`${r}.length`),f=e.let("j");t.setParams({i:_,j:f}),e.assign(l,!0),e.if((0,Je._)`${_} > 1`,()=>(h()?v:c)(_,f))}function h(){return u.length>0&&!u.some(_=>_==="object"||_==="array")}function v(_,f){const m=e.name("item"),d=(0,Cn.checkDataTypes)(u,m,a.opts.strictNumbers,Cn.DataType.Wrong),y=e.const("indices",(0,Je._)`{}`);e.for((0,Je._)`;${_}--;`,()=>{e.let(m,(0,Je._)`${r}[${_}]`),e.if(d,(0,Je._)`continue`),u.length>1&&e.if((0,Je._)`typeof ${m} == "string"`,(0,Je._)`${m} += "_"`),e.if((0,Je._)`typeof ${y}[${m}] == "number"`,()=>{e.assign(f,(0,Je._)`${y}[${m}]`),t.error(),e.assign(l,!1).break()}).code((0,Je._)`${y}[${m}] = ${_}`)})}function c(_,f){const m=(0,zl.useFunc)(e,Ul.default),d=e.name("outer");e.label(d).for((0,Je._)`;${_}--;`,()=>e.for((0,Je._)`${f} = ${_}; ${f}--;`,()=>e.if((0,Je._)`${m}(${r}[${_}], ${r}[${f}])`,()=>{t.error(),e.assign(l,!1).break(d)})))}}};li.default=Bl;var ci={};Object.defineProperty(ci,"__esModule",{value:!0});const Fn=Pe,Ml=Ne,Ll=Lr,Vl={message:"must be equal to constant",params:({schemaCode:t})=>(0,Fn._)`{allowedValue: ${t}}`},xl={keyword:"const",$data:!0,error:Vl,code(t){const{gen:e,data:r,$data:o,schemaCode:n,schema:i}=t;o||i&&typeof i=="object"?t.fail$data((0,Fn._)`!${(0,Ml.useFunc)(e,Ll.default)}(${r}, ${n})`):t.fail((0,Fn._)`${i} !== ${r}`)}};ci.default=xl;var ui={};Object.defineProperty(ui,"__esModule",{value:!0});const Sr=Pe,Kl=Ne,ql=Lr,Hl={message:"must be equal to one of the allowed values",params:({schemaCode:t})=>(0,Sr._)`{allowedValues: ${t}}`},Wl={keyword:"enum",schemaType:"array",$data:!0,error:Hl,code(t){const{gen:e,data:r,$data:o,schema:n,schemaCode:i,it:s}=t;if(!o&&n.length===0)throw new Error("enum must have non-empty array");const a=n.length>=s.opts.loopEnum;let l;const u=()=>l??(l=(0,Kl.useFunc)(e,ql.default));let g;if(a||o)g=e.let("valid"),t.block$data(g,h);else{if(!Array.isArray(n))throw new Error("ajv implementation error");const c=e.const("vSchema",i);g=(0,Sr.or)(...n.map((_,f)=>v(c,f)))}t.pass(g);function h(){e.assign(g,!1),e.forOf("v",i,c=>e.if((0,Sr._)`${u()}(${r}, ${c})`,()=>e.assign(g,!0).break()))}function v(c,_){const f=n[_];return typeof f=="object"&&f!==null?(0,Sr._)`${u()}(${r}, ${c}[${_}])`:(0,Sr._)`${r} === ${f}`}}};ui.default=Wl;Object.defineProperty(Xn,"__esModule",{value:!0});const Zl=ei,Gl=ti,Jl=ri,Ql=ii,Yl=si,Xl=ai,ec=oi,tc=li,rc=ci,nc=ui,ic=[Zl.default,Gl.default,Jl.default,Ql.default,Yl.default,Xl.default,ec.default,tc.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},rc.default,nc.default];Xn.default=ic;var fi={},gr={};Object.defineProperty(gr,"__esModule",{value:!0});gr.validateAdditionalItems=void 0;const Yt=Pe,Bn=Ne,sc={message:({params:{len:t}})=>(0,Yt.str)`must NOT have more than ${t} items`,params:({params:{len:t}})=>(0,Yt._)`{limit: ${t}}`},ac={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:sc,code(t){const{parentSchema:e,it:r}=t,{items:o}=e;if(!Array.isArray(o)){(0,Bn.checkStrictMode)(r,'"additionalItems" is ignored when "items" is not an array of schemas');return}fa(t,o)}};function fa(t,e){const{gen:r,schema:o,data:n,keyword:i,it:s}=t;s.items=!0;const a=r.const("len",(0,Yt._)`${n}.length`);if(o===!1)t.setParams({len:e.length}),t.pass((0,Yt._)`${a} <= ${e.length}`);else if(typeof o=="object"&&!(0,Bn.alwaysValidSchema)(s,o)){const u=r.var("valid",(0,Yt._)`${a} <= ${e.length}`);r.if((0,Yt.not)(u),()=>l(u)),t.ok(u)}function l(u){r.forRange("i",e.length,a,g=>{t.subschema({keyword:i,dataProp:g,dataPropType:Bn.Type.Num},u),s.allErrors||r.if((0,Yt.not)(u),()=>r.break())})}}gr.validateAdditionalItems=fa;gr.default=ac;var di={},vr={};Object.defineProperty(vr,"__esModule",{value:!0});vr.validateTuple=void 0;const cs=Pe,sn=Ne,oc=Ie,lc={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(t){const{schema:e,it:r}=t;if(Array.isArray(e))return da(t,"additionalItems",e);r.items=!0,!(0,sn.alwaysValidSchema)(r,e)&&t.ok((0,oc.validateArray)(t))}};function da(t,e,r=t.schema){const{gen:o,parentSchema:n,data:i,keyword:s,it:a}=t;g(n),a.opts.unevaluated&&r.length&&a.items!==!0&&(a.items=sn.mergeEvaluated.items(o,r.length,a.items));const l=o.name("valid"),u=o.const("len",(0,cs._)`${i}.length`);r.forEach((h,v)=>{(0,sn.alwaysValidSchema)(a,h)||(o.if((0,cs._)`${u} > ${v}`,()=>t.subschema({keyword:s,schemaProp:v,dataProp:v},l)),t.ok(l))});function g(h){const{opts:v,errSchemaPath:c}=a,_=r.length,f=_===h.minItems&&(_===h.maxItems||h[e]===!1);if(v.strictTuples&&!f){const m=`"${s}" is ${_}-tuple, but minItems or maxItems/${e} are not specified or different at path "${c}"`;(0,sn.checkStrictMode)(a,m,v.strictTuples)}}}vr.validateTuple=da;vr.default=lc;Object.defineProperty(di,"__esModule",{value:!0});const cc=vr,uc={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:t=>(0,cc.validateTuple)(t,"items")};di.default=uc;var hi={};Object.defineProperty(hi,"__esModule",{value:!0});const us=Pe,fc=Ne,dc=Ie,hc=gr,pc={message:({params:{len:t}})=>(0,us.str)`must NOT have more than ${t} items`,params:({params:{len:t}})=>(0,us._)`{limit: ${t}}`},mc={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:pc,code(t){const{schema:e,parentSchema:r,it:o}=t,{prefixItems:n}=r;o.items=!0,!(0,fc.alwaysValidSchema)(o,e)&&(n?(0,hc.validateAdditionalItems)(t,n):t.ok((0,dc.validateArray)(t)))}};hi.default=mc;var pi={};Object.defineProperty(pi,"__esModule",{value:!0});const ft=Pe,Jr=Ne,_c={message:({params:{min:t,max:e}})=>e===void 0?(0,ft.str)`must contain at least ${t} valid item(s)`:(0,ft.str)`must contain at least ${t} and no more than ${e} valid item(s)`,params:({params:{min:t,max:e}})=>e===void 0?(0,ft._)`{minContains: ${t}}`:(0,ft._)`{minContains: ${t}, maxContains: ${e}}`},gc={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:_c,code(t){const{gen:e,schema:r,parentSchema:o,data:n,it:i}=t;let s,a;const{minContains:l,maxContains:u}=o;i.opts.next?(s=l===void 0?1:l,a=u):s=1;const g=e.const("len",(0,ft._)`${n}.length`);if(t.setParams({min:s,max:a}),a===void 0&&s===0){(0,Jr.checkStrictMode)(i,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(a!==void 0&&s>a){(0,Jr.checkStrictMode)(i,'"minContains" > "maxContains" is always invalid'),t.fail();return}if((0,Jr.alwaysValidSchema)(i,r)){let f=(0,ft._)`${g} >= ${s}`;a!==void 0&&(f=(0,ft._)`${f} && ${g} <= ${a}`),t.pass(f);return}i.items=!0;const h=e.name("valid");a===void 0&&s===1?c(h,()=>e.if(h,()=>e.break())):s===0?(e.let(h,!0),a!==void 0&&e.if((0,ft._)`${n}.length > 0`,v)):(e.let(h,!1),v()),t.result(h,()=>t.reset());function v(){const f=e.name("_valid"),m=e.let("count",0);c(f,()=>e.if(f,()=>_(m)))}function c(f,m){e.forRange("i",0,g,d=>{t.subschema({keyword:"contains",dataProp:d,dataPropType:Jr.Type.Num,compositeRule:!0},f),m()})}function _(f){e.code((0,ft._)`${f}++`),a===void 0?e.if((0,ft._)`${f} >= ${s}`,()=>e.assign(h,!0).break()):(e.if((0,ft._)`${f} > ${a}`,()=>e.assign(h,!1).break()),s===1?e.assign(h,!0):e.if((0,ft._)`${f} >= ${s}`,()=>e.assign(h,!0)))}}};pi.default=gc;var ha={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.validateSchemaDeps=t.validatePropertyDeps=t.error=void 0;const e=Pe,r=Ne,o=Ie;t.error={message:({params:{property:l,depsCount:u,deps:g}})=>{const h=u===1?"property":"properties";return(0,e.str)`must have ${h} ${g} when property ${l} is present`},params:({params:{property:l,depsCount:u,deps:g,missingProperty:h}})=>(0,e._)`{property: ${l},
    missingProperty: ${h},
    depsCount: ${u},
    deps: ${g}}`};const n={keyword:"dependencies",type:"object",schemaType:"object",error:t.error,code(l){const[u,g]=i(l);s(l,u),a(l,g)}};function i({schema:l}){const u={},g={};for(const h in l){if(h==="__proto__")continue;const v=Array.isArray(l[h])?u:g;v[h]=l[h]}return[u,g]}function s(l,u=l.schema){const{gen:g,data:h,it:v}=l;if(Object.keys(u).length===0)return;const c=g.let("missing");for(const _ in u){const f=u[_];if(f.length===0)continue;const m=(0,o.propertyInData)(g,h,_,v.opts.ownProperties);l.setParams({property:_,depsCount:f.length,deps:f.join(", ")}),v.allErrors?g.if(m,()=>{for(const d of f)(0,o.checkReportMissingProp)(l,d)}):(g.if((0,e._)`${m} && (${(0,o.checkMissingProp)(l,f,c)})`),(0,o.reportMissingProp)(l,c),g.else())}}t.validatePropertyDeps=s;function a(l,u=l.schema){const{gen:g,data:h,keyword:v,it:c}=l,_=g.name("valid");for(const f in u)(0,r.alwaysValidSchema)(c,u[f])||(g.if((0,o.propertyInData)(g,h,f,c.opts.ownProperties),()=>{const m=l.subschema({keyword:v,schemaProp:f},_);l.mergeValidEvaluated(m,_)},()=>g.var(_,!0)),l.ok(_))}t.validateSchemaDeps=a,t.default=n})(ha);var mi={};Object.defineProperty(mi,"__esModule",{value:!0});const pa=Pe,vc=Ne,yc={message:"property name must be valid",params:({params:t})=>(0,pa._)`{propertyName: ${t.propertyName}}`},bc={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:yc,code(t){const{gen:e,schema:r,data:o,it:n}=t;if((0,vc.alwaysValidSchema)(n,r))return;const i=e.name("valid");e.forIn("key",o,s=>{t.setParams({propertyName:s}),t.subschema({keyword:"propertyNames",data:s,dataTypes:["string"],propertyName:s,compositeRule:!0},i),e.if((0,pa.not)(i),()=>{t.error(!0),n.allErrors||e.break()})}),t.ok(i)}};mi.default=bc;var yn={};Object.defineProperty(yn,"__esModule",{value:!0});const Qr=Ie,gt=Pe,wc=Kt(),Yr=Ne,$c={message:"must NOT have additional properties",params:({params:t})=>(0,gt._)`{additionalProperty: ${t.additionalProperty}}`},kc={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:$c,code(t){const{gen:e,schema:r,parentSchema:o,data:n,errsCount:i,it:s}=t;if(!i)throw new Error("ajv implementation error");const{allErrors:a,opts:l}=s;if(s.props=!0,l.removeAdditional!=="all"&&(0,Yr.alwaysValidSchema)(s,r))return;const u=(0,Qr.allSchemaProperties)(o.properties),g=(0,Qr.allSchemaProperties)(o.patternProperties);h(),t.ok((0,gt._)`${i} === ${wc.default.errors}`);function h(){e.forIn("key",n,m=>{!u.length&&!g.length?_(m):e.if(v(m),()=>_(m))})}function v(m){let d;if(u.length>8){const y=(0,Yr.schemaRefOrVal)(s,o.properties,"properties");d=(0,Qr.isOwnProperty)(e,y,m)}else u.length?d=(0,gt.or)(...u.map(y=>(0,gt._)`${m} === ${y}`)):d=gt.nil;return g.length&&(d=(0,gt.or)(d,...g.map(y=>(0,gt._)`${(0,Qr.usePattern)(t,y)}.test(${m})`))),(0,gt.not)(d)}function c(m){e.code((0,gt._)`delete ${n}[${m}]`)}function _(m){if(l.removeAdditional==="all"||l.removeAdditional&&r===!1){c(m);return}if(r===!1){t.setParams({additionalProperty:m}),t.error(),a||e.break();return}if(typeof r=="object"&&!(0,Yr.alwaysValidSchema)(s,r)){const d=e.name("valid");l.removeAdditional==="failing"?(f(m,d,!1),e.if((0,gt.not)(d),()=>{t.reset(),c(m)})):(f(m,d),a||e.if((0,gt.not)(d),()=>e.break()))}}function f(m,d,y){const w={keyword:"additionalProperties",dataProp:m,dataPropType:Yr.Type.Str};y===!1&&Object.assign(w,{compositeRule:!0,createErrors:!1,allErrors:!1}),t.subschema(w,d)}}};yn.default=kc;var _i={};Object.defineProperty(_i,"__esModule",{value:!0});const Ac=_n(),fs=Ie,In=Ne,ds=yn,Ec={keyword:"properties",type:"object",schemaType:"object",code(t){const{gen:e,schema:r,parentSchema:o,data:n,it:i}=t;i.opts.removeAdditional==="all"&&o.additionalProperties===void 0&&ds.default.code(new Ac.KeywordCxt(i,ds.default,"additionalProperties"));const s=(0,fs.allSchemaProperties)(r);for(const h of s)i.definedProperties.add(h);i.opts.unevaluated&&s.length&&i.props!==!0&&(i.props=In.mergeEvaluated.props(e,(0,In.toHash)(s),i.props));const a=s.filter(h=>!(0,In.alwaysValidSchema)(i,r[h]));if(a.length===0)return;const l=e.name("valid");for(const h of a)u(h)?g(h):(e.if((0,fs.propertyInData)(e,n,h,i.opts.ownProperties)),g(h),i.allErrors||e.else().var(l,!0),e.endIf()),t.it.definedProperties.add(h),t.ok(l);function u(h){return i.opts.useDefaults&&!i.compositeRule&&r[h].default!==void 0}function g(h){t.subschema({keyword:"properties",schemaProp:h,dataProp:h},l)}}};_i.default=Ec;var gi={};Object.defineProperty(gi,"__esModule",{value:!0});const hs=Ie,Xr=Pe,ps=Ne,ms=Ne,Sc={keyword:"patternProperties",type:"object",schemaType:"object",code(t){const{gen:e,schema:r,data:o,parentSchema:n,it:i}=t,{opts:s}=i,a=(0,hs.allSchemaProperties)(r),l=a.filter(f=>(0,ps.alwaysValidSchema)(i,r[f]));if(a.length===0||l.length===a.length&&(!i.opts.unevaluated||i.props===!0))return;const u=s.strictSchema&&!s.allowMatchingProperties&&n.properties,g=e.name("valid");i.props!==!0&&!(i.props instanceof Xr.Name)&&(i.props=(0,ms.evaluatedPropsToName)(e,i.props));const{props:h}=i;v();function v(){for(const f of a)u&&c(f),i.allErrors?_(f):(e.var(g,!0),_(f),e.if(g))}function c(f){for(const m in u)new RegExp(f).test(m)&&(0,ps.checkStrictMode)(i,`property ${m} matches pattern ${f} (use allowMatchingProperties)`)}function _(f){e.forIn("key",o,m=>{e.if((0,Xr._)`${(0,hs.usePattern)(t,f)}.test(${m})`,()=>{const d=l.includes(f);d||t.subschema({keyword:"patternProperties",schemaProp:f,dataProp:m,dataPropType:ms.Type.Str},g),i.opts.unevaluated&&h!==!0?e.assign((0,Xr._)`${h}[${m}]`,!0):!d&&!i.allErrors&&e.if((0,Xr.not)(g),()=>e.break())})})}}};gi.default=Sc;var vi={};Object.defineProperty(vi,"__esModule",{value:!0});const Cc=Ne,Ic={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(t){const{gen:e,schema:r,it:o}=t;if((0,Cc.alwaysValidSchema)(o,r)){t.fail();return}const n=e.name("valid");t.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},n),t.failResult(n,()=>t.reset(),()=>t.error())},error:{message:"must NOT be valid"}};vi.default=Ic;var yi={};Object.defineProperty(yi,"__esModule",{value:!0});const Pc=Ie,Oc={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:Pc.validateUnion,error:{message:"must match a schema in anyOf"}};yi.default=Oc;var bi={};Object.defineProperty(bi,"__esModule",{value:!0});const an=Pe,Rc=Ne,Nc={message:"must match exactly one schema in oneOf",params:({params:t})=>(0,an._)`{passingSchemas: ${t.passing}}`},Tc={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:Nc,code(t){const{gen:e,schema:r,parentSchema:o,it:n}=t;if(!Array.isArray(r))throw new Error("ajv implementation error");if(n.opts.discriminator&&o.discriminator)return;const i=r,s=e.let("valid",!1),a=e.let("passing",null),l=e.name("_valid");t.setParams({passing:a}),e.block(u),t.result(s,()=>t.reset(),()=>t.error(!0));function u(){i.forEach((g,h)=>{let v;(0,Rc.alwaysValidSchema)(n,g)?e.var(l,!0):v=t.subschema({keyword:"oneOf",schemaProp:h,compositeRule:!0},l),h>0&&e.if((0,an._)`${l} && ${s}`).assign(s,!1).assign(a,(0,an._)`[${a}, ${h}]`).else(),e.if(l,()=>{e.assign(s,!0),e.assign(a,h),v&&t.mergeEvaluated(v,an.Name)})})}}};bi.default=Tc;var wi={};Object.defineProperty(wi,"__esModule",{value:!0});const Dc=Ne,jc={keyword:"allOf",schemaType:"array",code(t){const{gen:e,schema:r,it:o}=t;if(!Array.isArray(r))throw new Error("ajv implementation error");const n=e.name("valid");r.forEach((i,s)=>{if((0,Dc.alwaysValidSchema)(o,i))return;const a=t.subschema({keyword:"allOf",schemaProp:s},n);t.ok(n),t.mergeEvaluated(a)})}};wi.default=jc;var $i={};Object.defineProperty($i,"__esModule",{value:!0});const pn=Pe,ma=Ne,zc={message:({params:t})=>(0,pn.str)`must match "${t.ifClause}" schema`,params:({params:t})=>(0,pn._)`{failingKeyword: ${t.ifClause}}`},Uc={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:zc,code(t){const{gen:e,parentSchema:r,it:o}=t;r.then===void 0&&r.else===void 0&&(0,ma.checkStrictMode)(o,'"if" without "then" and "else" is ignored');const n=_s(o,"then"),i=_s(o,"else");if(!n&&!i)return;const s=e.let("valid",!0),a=e.name("_valid");if(l(),t.reset(),n&&i){const g=e.let("ifClause");t.setParams({ifClause:g}),e.if(a,u("then",g),u("else",g))}else n?e.if(a,u("then")):e.if((0,pn.not)(a),u("else"));t.pass(s,()=>t.error(!0));function l(){const g=t.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},a);t.mergeEvaluated(g)}function u(g,h){return()=>{const v=t.subschema({keyword:g},a);e.assign(s,a),t.mergeValidEvaluated(v,s),h?e.assign(h,(0,pn._)`${g}`):t.setParams({ifClause:g})}}}};function _s(t,e){const r=t.schema[e];return r!==void 0&&!(0,ma.alwaysValidSchema)(t,r)}$i.default=Uc;var ki={};Object.defineProperty(ki,"__esModule",{value:!0});const Fc=Ne,Bc={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:t,parentSchema:e,it:r}){e.if===void 0&&(0,Fc.checkStrictMode)(r,`"${t}" without "if" is ignored`)}};ki.default=Bc;Object.defineProperty(fi,"__esModule",{value:!0});const Mc=gr,Lc=di,Vc=vr,xc=hi,Kc=pi,qc=ha,Hc=mi,Wc=yn,Zc=_i,Gc=gi,Jc=vi,Qc=yi,Yc=bi,Xc=wi,eu=$i,tu=ki;function ru(t=!1){const e=[Jc.default,Qc.default,Yc.default,Xc.default,eu.default,tu.default,Hc.default,Wc.default,qc.default,Zc.default,Gc.default];return t?e.push(Lc.default,xc.default):e.push(Mc.default,Vc.default),e.push(Kc.default),e}fi.default=ru;var Ai={},Ei={};Object.defineProperty(Ei,"__esModule",{value:!0});const He=Pe,nu={message:({schemaCode:t})=>(0,He.str)`must match format "${t}"`,params:({schemaCode:t})=>(0,He._)`{format: ${t}}`},iu={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:nu,code(t,e){const{gen:r,data:o,$data:n,schema:i,schemaCode:s,it:a}=t,{opts:l,errSchemaPath:u,schemaEnv:g,self:h}=a;if(!l.validateFormats)return;n?v():c();function v(){const _=r.scopeValue("formats",{ref:h.formats,code:l.code.formats}),f=r.const("fDef",(0,He._)`${_}[${s}]`),m=r.let("fType"),d=r.let("format");r.if((0,He._)`typeof ${f} == "object" && !(${f} instanceof RegExp)`,()=>r.assign(m,(0,He._)`${f}.type || "string"`).assign(d,(0,He._)`${f}.validate`),()=>r.assign(m,(0,He._)`"string"`).assign(d,f)),t.fail$data((0,He.or)(y(),w()));function y(){return l.strictSchema===!1?He.nil:(0,He._)`${s} && !${d}`}function w(){const $=g.$async?(0,He._)`(${f}.async ? await ${d}(${o}) : ${d}(${o}))`:(0,He._)`${d}(${o})`,A=(0,He._)`(typeof ${d} == "function" ? ${$} : ${d}.test(${o}))`;return(0,He._)`${d} && ${d} !== true && ${m} === ${e} && !${A}`}}function c(){const _=h.formats[i];if(!_){y();return}if(_===!0)return;const[f,m,d]=w(_);f===e&&t.pass($());function y(){if(l.strictSchema===!1){h.logger.warn(A());return}throw new Error(A());function A(){return`unknown format "${i}" ignored in schema at path "${u}"`}}function w(A){const I=A instanceof RegExp?(0,He.regexpCode)(A):l.code.formats?(0,He._)`${l.code.formats}${(0,He.getProperty)(i)}`:void 0,E=r.scopeValue("formats",{key:i,ref:A,code:I});return typeof A=="object"&&!(A instanceof RegExp)?[A.type||"string",A.validate,(0,He._)`${E}.validate`]:["string",A,E]}function $(){if(typeof _=="object"&&!(_ instanceof RegExp)&&_.async){if(!g.$async)throw new Error("async format in sync schema");return(0,He._)`await ${d}(${o})`}return typeof m=="function"?(0,He._)`${d}(${o})`:(0,He._)`${d}.test(${o})`}}}};Ei.default=iu;Object.defineProperty(Ai,"__esModule",{value:!0});const su=Ei,au=[su.default];Ai.default=au;var pr={};Object.defineProperty(pr,"__esModule",{value:!0});pr.contentVocabulary=pr.metadataVocabulary=void 0;pr.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"];pr.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"];Object.defineProperty(Jn,"__esModule",{value:!0});const ou=Qn,lu=Xn,cu=fi,uu=Ai,gs=pr,fu=[ou.default,lu.default,(0,cu.default)(),uu.default,gs.metadataVocabulary,gs.contentVocabulary];Jn.default=fu;var Si={},_a={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.DiscrError=void 0,function(e){e.Tag="tag",e.Mapping="mapping"}(t.DiscrError||(t.DiscrError={}))})(_a);Object.defineProperty(Si,"__esModule",{value:!0});const cr=Pe,Mn=_a,vs=rt,du=Ne,hu={message:({params:{discrError:t,tagName:e}})=>t===Mn.DiscrError.Tag?`tag "${e}" must be string`:`value of tag "${e}" must be in oneOf`,params:({params:{discrError:t,tag:e,tagName:r}})=>(0,cr._)`{error: ${t}, tag: ${r}, tagValue: ${e}}`},pu={keyword:"discriminator",type:"object",schemaType:"object",error:hu,code(t){const{gen:e,data:r,schema:o,parentSchema:n,it:i}=t,{oneOf:s}=n;if(!i.opts.discriminator)throw new Error("discriminator: requires discriminator option");const a=o.propertyName;if(typeof a!="string")throw new Error("discriminator: requires propertyName");if(o.mapping)throw new Error("discriminator: mapping is not supported");if(!s)throw new Error("discriminator: requires oneOf keyword");const l=e.let("valid",!1),u=e.const("tag",(0,cr._)`${r}${(0,cr.getProperty)(a)}`);e.if((0,cr._)`typeof ${u} == "string"`,()=>g(),()=>t.error(!1,{discrError:Mn.DiscrError.Tag,tag:u,tagName:a})),t.ok(l);function g(){const c=v();e.if(!1);for(const _ in c)e.elseIf((0,cr._)`${u} === ${_}`),e.assign(l,h(c[_]));e.else(),t.error(!1,{discrError:Mn.DiscrError.Mapping,tag:u,tagName:a}),e.endIf()}function h(c){const _=e.name("valid"),f=t.subschema({keyword:"oneOf",schemaProp:c},_);return t.mergeEvaluated(f,cr.Name),_}function v(){var c;const _={},f=d(n);let m=!0;for(let $=0;$<s.length;$++){let A=s[$];A!=null&&A.$ref&&!(0,du.schemaHasRulesButRef)(A,i.self.RULES)&&(A=vs.resolveRef.call(i.self,i.schemaEnv.root,i.baseId,A==null?void 0:A.$ref),A instanceof vs.SchemaEnv&&(A=A.schema));const I=(c=A==null?void 0:A.properties)===null||c===void 0?void 0:c[a];if(typeof I!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${a}"`);m=m&&(f||d(A)),y(I,$)}if(!m)throw new Error(`discriminator: "${a}" must be required`);return _;function d({required:$}){return Array.isArray($)&&$.includes(a)}function y($,A){if($.const)w($.const,A);else if($.enum)for(const I of $.enum)w(I,A);else throw new Error(`discriminator: "properties/${a}" must have "const" or "enum"`)}function w($,A){if(typeof $!="string"||$ in _)throw new Error(`discriminator: "${a}" values must be unique strings`);_[$]=A}}}};Si.default=pu;const mu="http://json-schema.org/draft-07/schema#",_u="http://json-schema.org/draft-07/schema#",gu="Core schema meta-schema",vu={schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},yu=["object","boolean"],bu={$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},wu={$schema:mu,$id:_u,title:gu,definitions:vu,type:yu,properties:bu,default:!0};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.MissingRefError=e.ValidationError=e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=void 0;const r=Ys,o=Jn,n=Si,i=wu,s=["/properties"],a="http://json-schema.org/draft-07/schema";class l extends r.default{_addVocabularies(){super._addVocabularies(),o.default.forEach(_=>this.addVocabulary(_)),this.opts.discriminator&&this.addKeyword(n.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const _=this.opts.$data?this.$dataMetaSchema(i,s):i;this.addMetaSchema(_,a,!1),this.refs["http://json-schema.org/schema"]=a}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(a)?a:void 0)}}t.exports=e=l,Object.defineProperty(e,"__esModule",{value:!0}),e.default=l;var u=_n();Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return u.KeywordCxt}});var g=Pe;Object.defineProperty(e,"_",{enumerable:!0,get:function(){return g._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return g.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return g.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return g.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return g.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return g.CodeGen}});var h=Br;Object.defineProperty(e,"ValidationError",{enumerable:!0,get:function(){return h.default}});var v=Mr;Object.defineProperty(e,"MissingRefError",{enumerable:!0,get:function(){return v.default}})})(go,cn);const $u=mo(cn),ga=async t=>(await Ir.loadAsync(t)).file("pack.mcmeta")!==null,ku=async t=>{const e=await t.text(),r={type:"array",items:{type:"object",properties:{title:{type:"string"},author:{type:"string"},"disc-namespace":{type:"string"},"model-data":{type:"integer"},"creeper-drop":{type:"boolean"},lores:{type:"array",items:{type:"string"}},"loot-tables":{type:"array",items:{type:"string"}}},required:["author","creeper-drop","disc-namespace","lores","model-data","title"]}};return new $u().compile(r)(JSON.parse(e))},Au=async(t,e)=>{const r=await t.text(),o=JSON.parse(r),n=await new Ir().loadAsync(e),i=await Promise.all(o.map(async s=>{const a=s["disc-namespace"].substring(s["disc-namespace"].indexOf(".")+1),l=await n.file(`assets/minecraft/sounds/records/${a}.ogg`).async("blob"),u=await n.file(`assets/minecraft/textures/item/music_disc_${a}.png`).async("blob"),g=await n.file(`assets/minecraft/textures/item/fragment_${a}.png`).async("blob");return{name:s.title,author:s.author,namespace:s["disc-namespace"],creeperDrop:s["creeper-drop"],isMono:!0,normalize:!0,lores:s.lores.join(`
`),lootTables:ys(s["loot-tables"]??[]),fragmentLootTables:ys(s["fragment-loot-tables"]??[]),uploadedFile:new File([l],`music_disc.${a}.ogg`),oggFile:l,monoFile:l,texture:u,fragmentTexture:g}}));Xt.set(i)},ys=t=>{const e=[];return t.forEach(r=>{Dr.every(o=>o.source.includes(r))&&(e.includes(r)||e.push(r))}),e};function bs(t){let e,r,o=`url(${mn})`,n,i,s;return{c(){e=ue("div"),L(e,"class","popupbackground svelte-j32blb"),ht(e,"background-image",o)},m(a,l){ge(a,e,l),n=!0,i||(s=[ke(e,"click",t[9]),ke(e,"keydown",null)],i=!0)},p:Se,i(a){n||(lt(()=>{r||(r=Vt(e,$t,{},!0)),r.run(1)}),n=!0)},o(a){r||(r=Vt(e,$t,{},!1)),r.run(0),n=!1},d(a){a&&me(e),a&&r&&r.end(),i=!1,De(s)}}}function ws(t){let e,r,o,n,i,s,a,l,u,g,h,v,c,_,f,m,d,y,w,$,A,I,E,j,z,K,ae,T,Z,b,X,_e,ne,pe,J,W;return{c(){e=ue("div"),r=ue("div"),o=ue("div"),n=ue("img"),s=Ee(),a=ue("p"),a.textContent="Not Valid",l=Ee(),u=ue("p"),g=ot(t[3]),c=Ee(),_=ue("div"),f=ue("input"),m=Ee(),d=ue("img"),w=Ee(),$=ue("p"),$.textContent="Not Valid",A=Ee(),I=ue("p"),E=ot(t[4]),K=Ee(),ae=ue("p"),ae.textContent="Warning: Importing a resource pack will overwrite any existing resource pack in the tool!",T=Ee(),Z=ue("div"),b=ue("div"),X=ue("p"),X.textContent="Import",ne=Ee(),pe=ue("div"),pe.innerHTML='<p id="generate_text" class="noselect svelte-j32blb">Discard</p>',Ye(n.src,i=Kn)||L(n,"src",i),L(n,"alt",""),L(n,"class","svelte-j32blb"),L(a,"id","error"),L(a,"class","svelte-j32blb"),L(o,"class",h=dt(t[1])+" svelte-j32blb"),L(f,"type","file"),L(f,"name","discs_input"),L(f,"id","discs_input"),L(f,"accept",".json"),L(f,"class","svelte-j32blb"),Ye(d.src,y=Hs)||L(d,"src",y),L(d,"alt",""),L(d,"class","svelte-j32blb"),L($,"id","error"),L($,"class","svelte-j32blb"),L(_,"class",j=dt(t[2])+" svelte-j32blb"),L(r,"class","popupcontainer svelte-j32blb"),ht(ae,"color","red"),ht(ae,"margin-bottom","0"),L(X,"id","generate_text"),L(X,"class","noselect svelte-j32blb"),L(b,"id","messagepopupconfirm"),L(b,"class",_e="popupconfirm "+t[5]+" svelte-j32blb"),L(pe,"id","messagepopupconfirm"),L(pe,"class","popupconfirm svelte-j32blb"),L(Z,"id","input"),L(Z,"class","svelte-j32blb"),L(e,"class","popup svelte-j32blb")},m(S,N){ge(S,e,N),ce(e,r),ce(r,o),ce(o,n),ce(o,s),ce(o,a),ce(o,l),ce(o,u),ce(u,g),ce(r,c),ce(r,_),ce(_,f),ce(_,m),ce(_,d),ce(_,w),ce(_,$),ce(_,A),ce(_,I),ce(I,E),ce(e,K),ce(e,ae),ce(e,T),ce(e,Z),ce(Z,b),ce(b,X),ce(Z,ne),ce(Z,pe),J||(W=[Ge(dr.call(null,o,{accept:".zip",cb:t[6]})),ke(o,"keydown",null),Ge(dr.call(null,_,{accept:".json",cb:t[7]})),ke(_,"keydown",null),ke(b,"click",t[10]),ke(b,"keydown",null),ke(pe,"click",t[9]),ke(pe,"keydown",null)],J=!0)},p(S,N){N&8&&jt(g,S[3]),N&2&&h!==(h=dt(S[1])+" svelte-j32blb")&&L(o,"class",h),N&16&&jt(E,S[4]),N&4&&j!==(j=dt(S[2])+" svelte-j32blb")&&L(_,"class",j),N&32&&_e!==(_e="popupconfirm "+S[5]+" svelte-j32blb")&&L(b,"class",_e)},i(S){v||lt(()=>{v=Tn(o,$t,{}),v.start()}),z||lt(()=>{z=Tn(_,$t,{}),z.start()})},o:Se,d(S){S&&me(e),J=!1,De(W)}}}function Eu(t){let e,r,o,n=t[0]&&bs(t),i=t[0]&&ws(t);return{c(){n&&n.c(),e=Ee(),i&&i.c(),r=_r()},m(s,a){n&&n.m(s,a),ge(s,e,a),i&&i.m(s,a),ge(s,r,a),o=!0},p(s,[a]){s[0]?n?(n.p(s,a),a&1&&he(n,1)):(n=bs(s),n.c(),he(n,1),n.m(e.parentNode,e)):n&&(Xe(),$e(n,1,1,()=>{n=null}),et()),s[0]?i?(i.p(s,a),a&1&&he(i,1)):(i=ws(s),i.c(),he(i,1),i.m(r.parentNode,r)):i&&(i.d(1),i=null)},i(s){o||(he(n),he(i),o=!0)},o(s){$e(n),o=!1},d(s){n&&n.d(s),s&&me(e),i&&i.d(s),s&&me(r)}}}function Su(t,e,r){let o,{active:n}=e,i="ready",s="Resource pack",a,l="ready",u="discs.json",g,h=!1;const v=async d=>{if(!d||d.length===0)return;const y=d[0];y.name.length>13?r(3,s=y.name.substring(0,10)+"..."):r(3,s=y.name),await ga(y)?r(1,i="success"):r(1,i="error"),a=y},c=async d=>{if(!d||d.length===0)return;const y=d[0];y.name.length>13?r(4,u=y.name.substring(0,10)+"..."):r(4,u=y.name),await ku(y)?r(2,l="success"):r(2,l="error"),g=y},_=async()=>{i==="success"&&l==="success"&&!h&&(h=!0,await Au(g,a),f())},f=()=>r(0,n=!1),m=()=>_();return t.$$set=d=>{"active"in d&&r(0,n=d.active)},t.$$.update=()=>{t.$$.dirty&6&&r(5,o=i!=="success"||l!=="success"?"forbid":"")},[n,i,l,s,u,o,v,c,_,f,m]}class Cu extends At{constructor(e){super(),kt(this,e,Su,Eu,pt,{active:0})}}function Ci(){return new Worker("/jext-reborn/assets/worker-377d6e3d.js")}const Iu=t=>new Promise(e=>{const r=Pu(t);e(new Blob([r],{type:"image/png"}))}),Pu=t=>{const e=t.split(",")[1],r=window.atob(e),o=new ArrayBuffer(r.length),n=new Uint8Array(o);for(let i=0;i<r.length;i++)n[i]=r.charCodeAt(i);return o},Ou=(t,e)=>{const r=document.createElement("a");r.href=URL.createObjectURL(t),r.download=e,r.click()};Array.prototype.mapAsync=async function(t){const e=this.map(t);return await Promise.all(e)};Array.prototype.forEachParallel=async function(t){await Promise.all(this.map(t))};const Ru=async t=>t.type=="audio/ogg"?new Blob([t],{type:"audio/ogg"}):await new Promise(e=>{const r=new FileReader,o=new Blob([t]);r.readAsArrayBuffer(o),r.onload=async()=>{const n=r.result,i=new Ci;i.onmessage=s=>{e(new Blob([s.data],{type:"audio/ogg"}))},i.postMessage({audio:n,args:["-acodec","libvorbis"]})}}),Nu=async t=>await new Promise(e=>{const r=new FileReader;r.readAsArrayBuffer(t),r.onload=async()=>{const o=r.result,n=new Ci;n.onmessage=i=>{e(new Blob([i.data],{type:"audio/ogg"}))},n.postMessage({audio:o,args:["-af","loudnorm"]})}}),Tu=async t=>await new Promise(e=>{const r=new FileReader;r.readAsArrayBuffer(t),r.onload=async()=>{const o=r.result,n=new Ci;n.onmessage=i=>{e(new Blob([i.data],{type:"audio/ogg"}))},n.postMessage({audio:o,args:["-ac","1"]})}}),$s=async(t,e,r)=>await new Promise(o=>{const n=new Image;n.src=URL.createObjectURL(t),n.onload=()=>{const i=document.createElement("canvas");i.width=e,i.height=r,i.getContext("2d").drawImage(n,0,0,e,r);const a=i.toDataURL("image/png");o(Iu(a))}});function Du(t){return{c:Se,m:Se,p:Se,i:Se,o:Se,d:Se}}function ju(t){let e,r,o,n,i,s,a,l,u,g,h,v,c,_,f,m,d,y,w,$,A,I,E,j,z,K,ae,T;r=new vt({props:{text:"Changes the disc icon",$$slots:{default:[zu]},$$scope:{ctx:t}}}),i=new vt({props:{text:"Toggles Creeper drops",$$slots:{default:[Uu]},$$scope:{ctx:t}}}),a=new vt({props:{text:"Selects structures in which the disc can be found",$$slots:{default:[Fu]},$$scope:{ctx:t}}});const Z=[Mu,Bu],b=[];function X(J,W){return J[4]>=9?0:1}u=X(t),g=b[u]=Z[u](t),v=new vt({props:{text:"(M)ono: single audio channel but music fading<br>(S)tereo: multiple audio channels but no music fading",width:"22em",$$slots:{default:[xu]},$$scope:{ctx:t}}}),_=new vt({props:{text:"Enabled: Normalizes the audio<br>Disabled: Keeps the song as is",width:"15em",$$slots:{default:[Ku]},$$scope:{ctx:t}}}),m=new vt({props:{text:"Removes the disc",$$slots:{default:[qu]},$$scope:{ctx:t}}});function _e(J,W){return J[0].namespace.length>90?Wu:Hu}let ne=_e(t),pe=ne(t);return{c(){e=ue("div"),We(r.$$.fragment),o=Ee(),n=ue("div"),We(i.$$.fragment),s=Ee(),We(a.$$.fragment),l=Ee(),g.c(),h=Ee(),We(v.$$.fragment),c=Ee(),We(_.$$.fragment),f=Ee(),We(m.$$.fragment),d=Ee(),y=ue("div"),w=ue("input"),$=Ee(),A=ue("input"),I=Ee(),E=ue("p"),pe.c(),j=Ee(),z=ue("textarea"),L(n,"id","buttons"),L(n,"class","svelte-cnucw0"),L(e,"id","icons"),L(e,"class","svelte-cnucw0"),L(w,"type","text"),L(w,"name","song_name"),L(w,"id","song_name_input"),L(w,"class","svelte-cnucw0"),L(A,"type","text"),L(A,"name","song_author"),L(A,"id","song_author_input"),L(A,"class","svelte-cnucw0"),L(E,"id","disknamespace"),L(E,"class","svelte-cnucw0"),L(y,"id","names"),L(y,"class","svelte-cnucw0"),L(z,"name","song_lore"),L(z,"id","song_lore_input"),L(z,"cols","30"),L(z,"rows","6"),L(z,"class","svelte-cnucw0")},m(J,W){ge(J,e,W),Ve(r,e,null),ce(e,o),ce(e,n),Ve(i,n,null),ce(n,s),Ve(a,n,null),ce(n,l),b[u].m(n,null),ce(n,h),Ve(v,n,null),ce(n,c),Ve(_,n,null),ce(n,f),Ve(m,n,null),ge(J,d,W),ge(J,y,W),ce(y,w),Mt(w,t[0].name),ce(y,$),ce(y,A),Mt(A,t[0].author),ce(y,I),ce(y,E),pe.m(E,null),ge(J,j,W),ge(J,z,W),Mt(z,t[0].lores),K=!0,ae||(T=[ke(w,"input",t[19]),ke(w,"input",t[5]),ke(A,"input",t[20]),ke(A,"input",t[5]),ke(z,"input",t[21])],ae=!0)},p(J,W){const S={};W&16777217&&(S.$$scope={dirty:W,ctx:J}),r.$set(S);const N={};W&16777217&&(N.$$scope={dirty:W,ctx:J}),i.$set(N);const U={};W&16777220&&(U.$$scope={dirty:W,ctx:J}),a.$set(U);let k=u;u=X(J),u===k?b[u].p(J,W):(Xe(),$e(b[k],1,1,()=>{b[k]=null}),et(),g=b[u],g?g.p(J,W):(g=b[u]=Z[u](J),g.c()),he(g,1),g.m(n,h));const C={};W&16777217&&(C.$$scope={dirty:W,ctx:J}),v.$set(C);const G={};W&16777217&&(G.$$scope={dirty:W,ctx:J}),_.$set(G);const oe={};W&16777218&&(oe.$$scope={dirty:W,ctx:J}),m.$set(oe),W&1&&w.value!==J[0].name&&Mt(w,J[0].name),W&1&&A.value!==J[0].author&&Mt(A,J[0].author),ne===(ne=_e(J))&&pe?pe.p(J,W):(pe.d(1),pe=ne(J),pe&&(pe.c(),pe.m(E,null))),W&1&&Mt(z,J[0].lores)},i(J){K||(he(r.$$.fragment,J),he(i.$$.fragment,J),he(a.$$.fragment,J),he(g),he(v.$$.fragment,J),he(_.$$.fragment,J),he(m.$$.fragment,J),K=!0)},o(J){$e(r.$$.fragment,J),$e(i.$$.fragment,J),$e(a.$$.fragment,J),$e(g),$e(v.$$.fragment,J),$e(_.$$.fragment,J),$e(m.$$.fragment,J),K=!1},d(J){J&&me(e),xe(r),xe(i),xe(a),b[u].d(),xe(v),xe(_),xe(m),J&&me(d),J&&me(y),pe.d(),J&&me(j),J&&me(z),ae=!1,De(T)}}}function zu(t){let e,r,o,n;return{c(){e=ue("img"),L(e,"id","disc_texture"),Ye(e.src,r=URL.createObjectURL(t[0].texture))||L(e,"src",r),L(e,"height","64"),L(e,"width","64"),L(e,"alt","disc icon"),L(e,"class","svelte-cnucw0")},m(i,s){ge(i,e,s),o||(n=[Ge(It.call(null,e)),Ge(dr.call(null,e,{accept:"image/*",cb:t[7]})),ke(e,"keydown",null)],o=!0)},p(i,s){s&1&&!Ye(e.src,r=URL.createObjectURL(i[0].texture))&&L(e,"src",r)},d(i){i&&me(e),o=!1,De(n)}}}function Uu(t){let e,r,o,n,i;return{c(){e=ue("img"),L(e,"id","toggle_creeper"),Ye(e.src,r=Wa)||L(e,"src",r),L(e,"alt","creeper icon"),L(e,"class",o=dt(t[0].creeperDrop?"":"grayscale")+" svelte-cnucw0")},m(s,a){ge(s,e,a),n||(i=[Ge(It.call(null,e)),ke(e,"click",t[14]),ke(e,"keydown",null)],n=!0)},p(s,a){a&1&&o!==(o=dt(s[0].creeperDrop?"":"grayscale")+" svelte-cnucw0")&&L(e,"class",o)},d(s){s&&me(e),n=!1,De(i)}}}function Fu(t){let e,r,o,n;return{c(){e=ue("img"),L(e,"id","loot_selector"),Ye(e.src,r=Ha)||L(e,"src",r),L(e,"alt","chest icon"),L(e,"class","svelte-cnucw0")},m(i,s){ge(i,e,s),o||(n=[Ge(It.call(null,e)),ke(e,"click",t[15]),ke(e,"keydown",null)],o=!0)},p:Se,d(i){i&&me(e),o=!1,De(n)}}}function Bu(t){let e,r;return e=new vt({props:{text:"Not avaiable in versions lower than 1.19",$$slots:{default:[Lu]},$$scope:{ctx:t}}}),{c(){We(e.$$.fragment)},m(o,n){Ve(e,o,n),r=!0},p(o,n){const i={};n&16777216&&(i.$$scope={dirty:n,ctx:o}),e.$set(i)},i(o){r||(he(e.$$.fragment,o),r=!0)},o(o){$e(e.$$.fragment,o),r=!1},d(o){xe(e,o)}}}function Mu(t){let e,r;return e=new vt({props:{text:"Selects structures in which the disc fragments can be found",$$slots:{default:[Vu]},$$scope:{ctx:t}}}),{c(){We(e.$$.fragment)},m(o,n){Ve(e,o,n),r=!0},p(o,n){const i={};n&16777224&&(i.$$scope={dirty:n,ctx:o}),e.$set(i)},i(o){r||(he(e.$$.fragment,o),r=!0)},o(o){$e(e.$$.fragment,o),r=!1},d(o){xe(e,o)}}}function Lu(t){let e,r,o,n;return{c(){e=ue("img"),L(e,"id","loot_fragment_selector"),Ye(e.src,r=Zs)||L(e,"src",r),L(e,"alt","fragment icon"),L(e,"class","disabled svelte-cnucw0")},m(i,s){ge(i,e,s),o||(n=Ge(It.call(null,e)),o=!0)},p:Se,d(i){i&&me(e),o=!1,n()}}}function Vu(t){let e,r,o,n;return{c(){e=ue("img"),L(e,"id","loot_fragment_selector"),Ye(e.src,r=Zs)||L(e,"src",r),L(e,"alt","fragment icon"),L(e,"class","svelte-cnucw0")},m(i,s){ge(i,e,s),o||(n=[Ge(It.call(null,e)),ke(e,"click",t[16]),ke(e,"keydown",null)],o=!0)},p:Se,d(i){i&&me(e),o=!1,De(n)}}}function xu(t){let e,r=t[0].isMono?"M":"S",o,n,i;return{c(){e=ue("p"),o=ot(r),L(e,"id","toggle_mono"),L(e,"class","svelte-cnucw0")},m(s,a){ge(s,e,a),ce(e,o),n||(i=[Ge(It.call(null,e)),ke(e,"click",t[17]),ke(e,"keydown",null)],n=!0)},p(s,a){a&1&&r!==(r=s[0].isMono?"M":"S")&&jt(o,r)},d(s){s&&me(e),n=!1,De(i)}}}function Ku(t){let e,r,o,n;return{c(){e=ue("img"),Ye(e.src,r=t[0].normalize?Mi:Li)||L(e,"src",r),L(e,"id","audio_normalize"),L(e,"alt","audio icon"),L(e,"class","svelte-cnucw0")},m(i,s){ge(i,e,s),o||(n=[Ge(It.call(null,e)),ke(e,"click",t[18]),ke(e,"keydown",null)],o=!0)},p(i,s){s&1&&!Ye(e.src,r=i[0].normalize?Mi:Li)&&L(e,"src",r)},d(i){i&&me(e),o=!1,De(n)}}}function qu(t){let e,r,o;return{c(){e=ue("img"),L(e,"id","song_delete"),L(e,"alt","delete icon"),L(e,"class","svelte-cnucw0")},m(n,i){ge(n,e,i),r||(o=[Ge(It.call(null,e)),Ge(Ma.call(null,e,{src:Ga,hover:Za})),ke(e,"click",function(){xt(t[1])&&t[1].apply(this,arguments)}),ke(e,"keydown",null)],r=!0)},p(n,i){t=n},d(n){n&&me(e),r=!1,De(o)}}}function Hu(t){let e=t[0].namespace+"",r;return{c(){r=ot(e)},m(o,n){ge(o,r,n)},p(o,n){n&1&&e!==(e=o[0].namespace+"")&&jt(r,e)},d(o){o&&me(r)}}}function Wu(t){let e=t[0].namespace.substring(0,90)+"",r,o;return{c(){r=ot(e),o=ot("...")},m(n,i){ge(n,r,i),ge(n,o,i)},p(n,i){i&1&&e!==(e=n[0].namespace.substring(0,90)+"")&&jt(r,e)},d(n){n&&me(r),n&&me(o)}}}function Zu(t){let e,r,o,n;return{c(){e=ue("div"),r=ue("img"),L(r,"alt","loading"),L(r,"class","svelte-cnucw0"),L(e,"id","loading"),L(e,"class","svelte-cnucw0")},m(i,s){ge(i,e,s),ce(e,r),o||(n=Ge(La.call(null,r,Ja)),o=!0)},p:Se,i:Se,o:Se,d(i){i&&me(e),o=!1,n()}}}function Gu(t){let e,r,o,n,i,s,a,l,u,g,h;function v($){t[9]($)}function c($){t[10]($)}let _={};t[0].lootTables!==void 0&&(_.selectedDungeons=t[0].lootTables),t[2]!==void 0&&(_.active=t[2]),e=new lo({props:_}),at.push(()=>bt(e,"selectedDungeons",v)),at.push(()=>bt(e,"active",c));function f($){t[11]($)}function m($){t[12]($)}function d($){t[13]($)}let y={};t[0].fragmentLootTables!==void 0&&(y.selectedDungeons=t[0].fragmentLootTables),t[3]!==void 0&&(y.active=t[3]),t[0].fragmentTexture!==void 0&&(y.texture=t[0].fragmentTexture),i=new cf({props:y}),at.push(()=>bt(i,"selectedDungeons",f)),at.push(()=>bt(i,"active",m)),at.push(()=>bt(i,"texture",d));let w={ctx:t,current:null,token:null,hasCatch:!1,pending:Zu,then:ju,catch:Du,value:23,blocks:[,,,]};return xs(t[6],w),{c(){We(e.$$.fragment),n=Ee(),We(i.$$.fragment),u=Ee(),g=ue("div"),w.block.c(),L(g,"id","song"),L(g,"class","svelte-cnucw0")},m($,A){Ve(e,$,A),ge($,n,A),Ve(i,$,A),ge($,u,A),ge($,g,A),w.block.m(g,w.anchor=null),w.mount=()=>g,w.anchor=null,h=!0},p($,[A]){t=$;const I={};!r&&A&1&&(r=!0,I.selectedDungeons=t[0].lootTables,yt(()=>r=!1)),!o&&A&4&&(o=!0,I.active=t[2],yt(()=>o=!1)),e.$set(I);const E={};!s&&A&1&&(s=!0,E.selectedDungeons=t[0].fragmentLootTables,yt(()=>s=!1)),!a&&A&8&&(a=!0,E.active=t[3],yt(()=>a=!1)),!l&&A&1&&(l=!0,E.texture=t[0].fragmentTexture,yt(()=>l=!1)),i.$set(E),Ks(w,t,A)},i($){h||(he(e.$$.fragment,$),he(i.$$.fragment,$),he(w.block),h=!0)},o($){$e(e.$$.fragment,$),$e(i.$$.fragment,$);for(let A=0;A<3;A+=1){const I=w.blocks[A];$e(I)}h=!1},d($){xe(e,$),$&&me(n),xe(i,$),$&&me(u),$&&me(g),w.block.d(),w.token=null,w=null}}}function Ju(t,e,r){let o;mr(t,hr,K=>r(4,o=K));let{song:n}=e,{id:i}=e,{onRemove:s=()=>{}}=e,a=!1,l=!1;const u=()=>{r(0,n.namespace=`${n.name}${n.author}${i}`.replace(/[^a-zA-Z0-9]/g,"").replaceAll("1","one").replaceAll("2","two").replaceAll("3","three").replaceAll("4","four").replaceAll("5","five").replaceAll("6","six").replaceAll("7","seven").replaceAll("8","eight").replaceAll("9","nine").replaceAll("0","zero").toLowerCase(),n)},h=(async()=>{const K=n.uploadedFile.name.replace(/(\.mp3)|(\.ogg)|(\.wav)/g,"").split(/ ?- ?/g);K.length>=1&&r(0,n.name=K.shift(),n),K.length>=1&&r(0,n.author=K.join(),n),u(),r(0,n.oggFile=await Ru(n.uploadedFile),n),r(0,n.fragmentTexture=await(await fetch(Ws)).blob(),n),r(0,n.texture=await(await fetch(Hs)).blob(),n)})(),v=K=>{const ae=K[0];ae&&r(0,n.texture=ae,n)};function c(K){t.$$.not_equal(n.lootTables,K)&&(n.lootTables=K,r(0,n))}function _(K){a=K,r(2,a)}function f(K){t.$$.not_equal(n.fragmentLootTables,K)&&(n.fragmentLootTables=K,r(0,n))}function m(K){l=K,r(3,l)}function d(K){t.$$.not_equal(n.fragmentTexture,K)&&(n.fragmentTexture=K,r(0,n))}const y=()=>r(0,n.creeperDrop=!n.creeperDrop,n),w=()=>r(2,a=!0),$=()=>r(3,l=!0),A=()=>r(0,n.isMono=!n.isMono,n),I=()=>r(0,n.normalize=!n.normalize,n);function E(){n.name=this.value,r(0,n)}function j(){n.author=this.value,r(0,n)}function z(){n.lores=this.value,r(0,n)}return t.$$set=K=>{"song"in K&&r(0,n=K.song),"id"in K&&r(8,i=K.id),"onRemove"in K&&r(1,s=K.onRemove)},[n,s,a,l,o,u,h,v,i,c,_,f,m,d,y,w,$,A,I,E,j,z]}class Qu extends At{constructor(e){super(),kt(this,e,Ju,Gu,pt,{song:0,id:8,onRemove:1})}}function ks(t){let e,r,o,n,i;return{c(){e=ue("div"),L(e,"class","popupbackground svelte-14i2kdi"),ht(e,"background-image","url("+mn+")")},m(s,a){ge(s,e,a),o=!0,n||(i=[ke(e,"click",t[2]),ke(e,"keydown",null)],n=!0)},p:Se,i(s){o||(lt(()=>{r||(r=Vt(e,$t,{},!0)),r.run(1)}),o=!0)},o(s){r||(r=Vt(e,$t,{},!1)),r.run(0),o=!1},d(s){s&&me(e),s&&r&&r.end(),n=!1,De(i)}}}function As(t){let e,r,o,n,i,s,a;return{c(){e=ue("div"),r=ue("div"),o=ot(t[1]),n=Ee(),i=ue("div"),i.innerHTML='<div id="content" class="svelte-14i2kdi"><p id="generate_text" class="noselect svelte-14i2kdi">OK</p></div>',L(r,"class","popupcontainer svelte-14i2kdi"),L(r,"id","messagepopupcontainer"),L(i,"id","messagepopupconfirm"),L(i,"class","popupconfirm svelte-14i2kdi"),L(e,"class","popup svelte-14i2kdi")},m(l,u){ge(l,e,u),ce(e,r),ce(r,o),ce(e,n),ce(e,i),s||(a=[ke(i,"click",t[2]),ke(i,"keydown",null)],s=!0)},p(l,u){u&2&&jt(o,l[1])},d(l){l&&me(e),s=!1,De(a)}}}function Yu(t){let e,r,o,n=t[0]&&ks(t),i=t[0]&&As(t);return{c(){n&&n.c(),e=Ee(),i&&i.c(),r=_r()},m(s,a){n&&n.m(s,a),ge(s,e,a),i&&i.m(s,a),ge(s,r,a),o=!0},p(s,[a]){s[0]?n?(n.p(s,a),a&1&&he(n,1)):(n=ks(s),n.c(),he(n,1),n.m(e.parentNode,e)):n&&(Xe(),$e(n,1,1,()=>{n=null}),et()),s[0]?i?i.p(s,a):(i=As(s),i.c(),i.m(r.parentNode,r)):i&&(i.d(1),i=null)},i(s){o||(he(n),o=!0)},o(s){$e(n),o=!1},d(s){n&&n.d(s),s&&me(e),i&&i.d(s),s&&me(r)}}}function Xu(t,e,r){let{text:o}=e,{active:n}=e;const i=()=>r(0,n=!1);return t.$$set=s=>{"text"in s&&r(1,o=s.text),"active"in s&&r(0,n=s.active)},[n,o,i]}class ef extends At{constructor(e){super(),kt(this,e,Xu,Yu,pt,{text:1,active:0})}}function tf(t){let e,r,o;const n=t[4].default,i=Rs(n,t,t[3],null);return{c(){i&&i.c(),e=Ee(),r=ue("span"),L(r,"id","tooltiptext"),L(r,"class","left svelte-i4awrz"),ht(r,"width",t[1])},m(s,a){i&&i.m(s,a),ge(s,e,a),ge(s,r,a),r.innerHTML=t[0],o=!0},p(s,a){i&&i.p&&(!o||a&8)&&Ds(i,n,s,s[3],o?Ts(n,s[3],a,null):js(s[3]),null),(!o||a&1)&&(r.innerHTML=s[0]),(!o||a&2)&&ht(r,"width",s[1])},i(s){o||(he(i,s),o=!0)},o(s){$e(i,s),o=!1},d(s){i&&i.d(s),s&&me(e),s&&me(r)}}}function rf(t){let e,r,o;const n=t[4].default,i=Rs(n,t,t[3],null);return{c(){e=ue("span"),r=Ee(),i&&i.c(),L(e,"id","tooltiptext"),L(e,"class","right svelte-i4awrz"),ht(e,"width",t[1])},m(s,a){ge(s,e,a),e.innerHTML=t[0],ge(s,r,a),i&&i.m(s,a),o=!0},p(s,a){(!o||a&1)&&(e.innerHTML=s[0]),(!o||a&2)&&ht(e,"width",s[1]),i&&i.p&&(!o||a&8)&&Ds(i,n,s,s[3],o?Ts(n,s[3],a,null):js(s[3]),null)},i(s){o||(he(i,s),o=!0)},o(s){$e(i,s),o=!1},d(s){s&&me(e),s&&me(r),i&&i.d(s)}}}function nf(t){let e,r,o,n;const i=[rf,tf],s=[];function a(l,u){return l[2]?0:1}return r=a(t),o=s[r]=i[r](t),{c(){e=ue("div"),o.c(),L(e,"id","container"),L(e,"class","svelte-i4awrz")},m(l,u){ge(l,e,u),s[r].m(e,null),n=!0},p(l,[u]){let g=r;r=a(l),r===g?s[r].p(l,u):(Xe(),$e(s[g],1,1,()=>{s[g]=null}),et(),o=s[r],o?o.p(l,u):(o=s[r]=i[r](l),o.c()),he(o,1),o.m(e,null))},i(l){n||(he(o),n=!0)},o(l){$e(o),n=!1},d(l){l&&me(e),s[r].d()}}}function sf(t,e,r){let{$$slots:o={},$$scope:n}=e,{text:i}=e,{width:s="120px"}=e,{right:a=!0}=e;return t.$$set=l=>{"text"in l&&r(0,i=l.text),"width"in l&&r(1,s=l.width),"right"in l&&r(2,a=l.right),"$$scope"in l&&r(3,n=l.$$scope)},[i,s,a,n,o]}class vt extends At{constructor(e){super(),kt(this,e,sf,nf,pt,{text:0,width:1,right:2})}}function Es(t,e,r){const o=t.slice();return o[8]=e[r],o}function Ss(t){let e,r,o=`url(${mn})`,n,i,s;return{c(){e=ue("div"),L(e,"class","popupbackground svelte-1w6xa2d"),ht(e,"background-image",o)},m(a,l){ge(a,e,l),n=!0,i||(s=[ke(e,"click",t[5]),ke(e,"keydown",null)],i=!0)},p:Se,i(a){n||(lt(()=>{r||(r=Vt(e,$t,{},!0)),r.run(1)}),n=!0)},o(a){r||(r=Vt(e,$t,{},!1)),r.run(0),n=!1},d(a){a&&me(e),a&&r&&r.end(),i=!1,De(s)}}}function Cs(t){let e,r,o,n,i,s,a,l,u,g,h,v=Dr,c=[];for(let f=0;f<v.length;f+=1)c[f]=Ps(Es(t,v,f));const _=f=>$e(c[f],1,1,()=>{c[f]=null});return s=new vt({props:{text:"Selects a texture for the disc fragment",$$slots:{default:[af]},$$scope:{ctx:t}}}),{c(){e=ue("div"),r=ue("div");for(let f=0;f<c.length;f+=1)c[f].c();o=Ee(),n=ue("div"),i=ue("div"),We(s.$$.fragment),a=Ee(),l=ue("div"),l.innerHTML='<div id="content" class="svelte-1w6xa2d"><p id="generate_text" class="noselect svelte-1w6xa2d">OK</p></div>',L(r,"class","popupcontainer svelte-1w6xa2d"),L(l,"id","messagepopupconfirm"),L(l,"class","popupconfirm svelte-1w6xa2d"),L(n,"id","out"),L(n,"class","svelte-1w6xa2d"),L(e,"class","popup svelte-1w6xa2d")},m(f,m){ge(f,e,m),ce(e,r);for(let d=0;d<c.length;d+=1)c[d].m(r,null);ce(e,o),ce(e,n),ce(n,i),Ve(s,i,null),ce(n,a),ce(n,l),u=!0,g||(h=[ke(l,"click",t[5]),ke(l,"keydown",null)],g=!0)},p(f,m){if(m&13){v=Dr;let y;for(y=0;y<v.length;y+=1){const w=Es(f,v,y);c[y]?(c[y].p(w,m),he(c[y],1)):(c[y]=Ps(w),c[y].c(),he(c[y],1),c[y].m(r,null))}for(Xe(),y=v.length;y<c.length;y+=1)_(y);et()}const d={};m&2048&&(d.$$scope={dirty:m,ctx:f}),s.$set(d)},i(f){if(!u){for(let m=0;m<v.length;m+=1)he(c[m]);he(s.$$.fragment,f),u=!0}},o(f){c=c.filter(Boolean);for(let m=0;m<c.length;m+=1)$e(c[m]);$e(s.$$.fragment,f),u=!1},d(f){f&&me(e),Ur(c,f),xe(s),g=!1,De(h)}}}function Is(t){let e,r;function o(){return t[7](t[8])}return e=new Qs({props:{image:t[8].img,name:t[8].name,value:t[0].includes(t[8].source),onClick:o}}),{c(){We(e.$$.fragment)},m(n,i){Ve(e,n,i),r=!0},p(n,i){t=n;const s={};i&1&&(s.value=t[0].includes(t[8].source)),e.$set(s)},i(n){r||(he(e.$$.fragment,n),r=!0)},o(n){$e(e.$$.fragment,n),r=!1},d(n){xe(e,n)}}}function Ps(t){let e,r,o=t[8].minVersion&&t[8].minVersion<=t[2]&&Is(t);return{c(){o&&o.c(),e=_r()},m(n,i){o&&o.m(n,i),ge(n,e,i),r=!0},p(n,i){n[8].minVersion&&n[8].minVersion<=n[2]?o?(o.p(n,i),i&4&&he(o,1)):(o=Is(n),o.c(),he(o,1),o.m(e.parentNode,e)):o&&(Xe(),$e(o,1,1,()=>{o=null}),et())},i(n){r||(he(o),r=!0)},o(n){$e(o),r=!1},d(n){o&&o.d(n),n&&me(e)}}}function af(t){let e,r,o,n;return{c(){e=ue("img"),Ye(e.src,r=Ws)||L(e,"src",r),L(e,"alt","fragment icon"),L(e,"id","fragment_icon"),L(e,"class","noselect svelte-1w6xa2d")},m(i,s){ge(i,e,s),o||(n=[Ge(It.call(null,e)),Ge(dr.call(null,e,{accept:"image/png",cb:t[4]})),ke(e,"keypress",null)],o=!0)},p:Se,d(i){i&&me(e),o=!1,De(n)}}}function of(t){let e,r,o,n=t[1]&&Ss(t),i=t[1]&&Cs(t);return{c(){n&&n.c(),e=Ee(),i&&i.c(),r=_r()},m(s,a){n&&n.m(s,a),ge(s,e,a),i&&i.m(s,a),ge(s,r,a),o=!0},p(s,[a]){s[1]?n?(n.p(s,a),a&2&&he(n,1)):(n=Ss(s),n.c(),he(n,1),n.m(e.parentNode,e)):n&&(Xe(),$e(n,1,1,()=>{n=null}),et()),s[1]?i?(i.p(s,a),a&2&&he(i,1)):(i=Cs(s),i.c(),he(i,1),i.m(r.parentNode,r)):i&&(Xe(),$e(i,1,1,()=>{i=null}),et())},i(s){o||(he(n),he(i),o=!0)},o(s){$e(n),$e(i),o=!1},d(s){n&&n.d(s),s&&me(e),i&&i.d(s),s&&me(r)}}}function lf(t,e,r){let o;mr(t,hr,h=>r(2,o=h));let{selectedDungeons:n}=e,{texture:i}=e,{active:s=!0}=e;const a=h=>{n.includes(h)?r(0,n=n.filter(v=>v!=h)):r(0,n=[...n,h])},l=h=>{const v=h[0];v&&r(6,i=v)},u=()=>r(1,s=!1),g=h=>a(h.source);return t.$$set=h=>{"selectedDungeons"in h&&r(0,n=h.selectedDungeons),"texture"in h&&r(6,i=h.texture),"active"in h&&r(1,s=h.active)},[n,s,o,a,l,u,i,g]}class cf extends At{constructor(e){super(),kt(this,e,lf,of,pt,{selectedDungeons:0,texture:6,active:1})}}let va;hr.subscribe(t=>va=t);const uf=async(t,e,r,o)=>new Promise(async n=>{const i=new Ir,s=`
			{"pack": {"pack_format": ${va},"description": "Adds custom musics discs"}}
		`;i.file("pack.mcmeta",s);const l=await(await(await fetch(e)).blob()).arrayBuffer();i.file("pack.png",l);const u=i.folder("assets").folder("minecraft"),g={};t.forEach(m=>{g[`music_disc.${m.namespace}`]={sounds:[{name:`records/${m.namespace}`,stream:!0}]}}),u.file("sounds.json",JSON.stringify(g,null,2));const h=u.folder("models").folder("item"),v=u.folder("sounds").folder("records"),c=u.folder("textures").folder("item"),_={parent:"item/generated",textures:{layer0:"item/music_disc_11"},overrides:t.map((m,d)=>({predicate:{custom_model_data:d+1},model:`item/music_disc_${m.namespace}`}))},f={parent:"item/generated",textures:{layer0:"item/disc_fragment_5"},overrides:t.map((m,d)=>({predicate:{custom_model_data:d+1},model:`item/fragment_${m.namespace}`}))};h.file("music_disc_11.json",JSON.stringify(_,null,2)),h.file("disc_fragment_5.json",JSON.stringify(f,null,2)),await t.forEachParallel(async m=>{m.isMono&&!m.monoFile&&(m.monoFile=await Tu(m.oggFile))});for(let m=0;m<t.length;m++){const d=t[m],y=await(await $s(d.texture,16,16)).arrayBuffer();c.file(`music_disc_${d.namespace}.png`,y);const w=await(await $s(d.fragmentTexture,16,16)).arrayBuffer();c.file(`fragment_${d.namespace}.png`,w);const $=d.isMono?d.monoFile:d.oggFile,I=await(d.normalize?await Nu($):$).arrayBuffer();v.file(`${d.namespace}.ogg`,I),h.file(`music_disc_${d.namespace}.json`,JSON.stringify({parent:"item/generated",textures:{layer0:`item/music_disc_${d.namespace}`}},null,2)),h.file(`fragment_${d.namespace}.json`,JSON.stringify({parent:"item/generated",textures:{layer0:`item/fragment_${d.namespace}`}},null,2))}if(o){const m=document.createElement("input");m.type="file",m.accept=".zip",m.click(),await new Promise((d,y)=>{m.onchange=async()=>{(!m.files||m.files.length==0)&&y("No file was selected"),await ga(m.files[0])||y("The selected file is not a valid resource pack");const w=m.files[0];await(await Ir.loadAsync(w)).forEach(async(A,I)=>{A!="pack.mcmeta"&&A!="pack.png"&&(I.dir?i.folder(A)||i.folder(A):i.file(A)?y("Cannot merge resource pack manually as there are conflicting files"):i.file(A,await I.async("arraybuffer")))}),d()}}).catch(d=>{alert(d),n()})}i.generateAsync({type:"blob"}).then(async m=>{const d=new Ir,y=await Promise.all(t.map(async(w,$)=>({title:w.name,author:w.author,duration:await ff(w.isMono?w.monoFile:w.oggFile),"disc-namespace":`music_disc.${w.namespace}`,"model-data":$+1,"creeper-drop":w.creeperDrop,lores:w.lores.split(`
`).length==1&&w.lores.split(`
`)[0]==""?[]:w.lores.split(`
`),"loot-tables":w.lootTables.join(",").split(",").filter(A=>A!=""),"fragment-loot-tables":w.fragmentLootTables.join(",").split(",").filter(A=>A!="")})));d.file("README.md",await(await fetch(Qa)).arrayBuffer()),d.file(`${r}.zip`,await m.arrayBuffer()),d.file("discs.json",JSON.stringify(y,null,2)),d.generateAsync({type:"blob"}).then(async w=>{Ou(w,"open me.zip"),n()})})}),ff=async t=>new Promise(e=>{const r=document.createElement("audio");r.src=URL.createObjectURL(t),r.onloadedmetadata=()=>{URL.revokeObjectURL(r.src),e(Math.ceil(r.duration))}});function df(t){let e,r,o=`url(${Gs})`,n,i,s,a,l,u;function g(v){t[12](v)}let h={options:["Generate","Merge"]};return t[3]!==void 0&&(h.selected=t[3]),i=new eo({props:h}),at.push(()=>bt(i,"selected",g)),{c(){e=ue("div"),n=Ee(),We(i.$$.fragment),L(e,"id","generate_button"),L(e,"class",r=dt(t[4]?"":"grayscale")+" svelte-t4a3jn"),ht(e,"background-image",o)},m(v,c){ge(v,e,c),ge(v,n,c),Ve(i,v,c),a=!0,l||(u=[ke(e,"click",function(){xt(t[4]?t[7]:t[11])&&(t[4]?t[7]:t[11]).apply(this,arguments)}),ke(e,"keydown",null)],l=!0)},p(v,c){t=v,(!a||c&16&&r!==(r=dt(t[4]?"":"grayscale")+" svelte-t4a3jn"))&&L(e,"class",r);const _={};!s&&c&8&&(s=!0,_.selected=t[3],yt(()=>s=!1)),i.$set(_)},i(v){a||(he(i.$$.fragment,v),a=!0)},o(v){$e(i.$$.fragment,v),a=!1},d(v){v&&me(e),v&&me(n),xe(i,v),l=!1,De(u)}}}function hf(t){let e,r,o;return{c(){e=ue("div"),r=ue("img"),Ye(r.src,o=Js)||L(r,"src",o),L(r,"alt","loading"),L(r,"height","32"),L(r,"width","32"),L(e,"id","generate_button"),ht(e,"background-image","url("+Gs+")"),L(e,"class","svelte-t4a3jn")},m(n,i){ge(n,e,i),ce(e,r)},p:Se,i:Se,o:Se,d(n){n&&me(e)}}}function pf(t){let e,r,o,n,i,s,a,l,u,g,h,v,c,_;function f(E){t[8](E)}let m={text:t[6].length>0?"Can't generate discs while adding one":"Add at least a disc"};t[2]!==void 0&&(m.active=t[2]),r=new ef({props:m}),at.push(()=>bt(r,"active",f));function d(E){t[9](E)}function y(E){t[10](E)}let w={};t[1]!==void 0&&(w.packname=t[1]),t[0]!==void 0&&(w.imagesrc=t[0]),i=new po({props:w}),at.push(()=>bt(i,"packname",d)),at.push(()=>bt(i,"imagesrc",y)),u=new Ka({});const $=[hf,df],A=[];function I(E,j){return E[5]?0:1}return v=I(t),c=A[v]=$[v](t),{c(){e=ue("main"),We(r.$$.fragment),n=Ee(),We(i.$$.fragment),l=Ee(),We(u.$$.fragment),g=Ee(),h=ue("div"),c.c(),L(h,"id","footer"),L(h,"class","svelte-t4a3jn"),L(e,"class","svelte-t4a3jn")},m(E,j){ge(E,e,j),Ve(r,e,null),ce(e,n),Ve(i,e,null),ce(e,l),Ve(u,e,null),ce(e,g),ce(e,h),A[v].m(h,null),_=!0},p(E,[j]){const z={};j&64&&(z.text=E[6].length>0?"Can't generate discs while adding one":"Add at least a disc"),!o&&j&4&&(o=!0,z.active=E[2],yt(()=>o=!1)),r.$set(z);const K={};!s&&j&2&&(s=!0,K.packname=E[1],yt(()=>s=!1)),!a&&j&1&&(a=!0,K.imagesrc=E[0],yt(()=>a=!1)),i.$set(K);let ae=v;v=I(E),v===ae?A[v].p(E,j):(Xe(),$e(A[ae],1,1,()=>{A[ae]=null}),et(),c=A[v],c?c.p(E,j):(c=A[v]=$[v](E),c.c()),he(c,1),c.m(h,null))},i(E){_||(he(r.$$.fragment,E),he(i.$$.fragment,E),he(u.$$.fragment,E),he(c),_=!0)},o(E){$e(r.$$.fragment,E),$e(i.$$.fragment,E),$e(u.$$.fragment,E),$e(c),_=!1},d(E){E&&me(e),xe(r),xe(i),xe(u),A[v].d()}}}function mf(t,e,r){let o;mr(t,Xt,m=>r(6,o=m));let n,i,s=!1,a="Generate",l=!1,u=!1;Xt.subscribe(m=>{r(4,l=m.every(d=>d.texture!=null)&&m.length>0)});const g=async()=>{u||(r(5,u=!0),await uf(o,n,i,a=="Merge"),r(5,u=!1))};function h(m){s=m,r(2,s)}function v(m){i=m,r(1,i)}function c(m){n=m,r(0,n)}const _=()=>r(2,s=!0);function f(m){a=m,r(3,a)}return[n,i,s,a,l,u,o,g,h,v,c,_,f]}class _f extends At{constructor(e){super(),kt(this,e,mf,pf,pt,{})}}new _f({target:document.getElementById("app")});
